import{P as e,A as t,w as l,E as n,N as o,S as r,B as i,x as a,T as s}from"./vendors-all-Deeho4BZ.js";import{c as d,A as c,C as u,E as p,S as f,a as b,b as h,d as g,e as y,M as m,P as v}from"./ant-design-icons-vue-DeNMBm8d.js";import{d as x,c as w,m as k,r as S,o as C,w as N,a as T,b as A,t as I,n as z,h as P,s as R,u as E,e as K,v as O,f as F,j as L,k as M,F as W,l as H,p as j,q as D,x as V,y as $,i as B,z as Y}from"./vue-all-DfoAxNN6.js";import{A as U,S as G,u as q,I as X,B as _,a as Q,D as J,b as Z,_ as ee,c as te,d as le,R as ne,e as oe,f as re,C as ie,T as ae,g as se,F as de,h as ce,i as ue,j as pe,k as fe,l as be,P as he,E as ge,m as ye,n as me,M as ve}from"./antdv-all-l-S52bnK.js";import{d as xe,i as we,a as ke,b as Se,o as Ce,c as Ne,e as Te,q as Ae,w as Ie}from"./date-all-CbEzt2p3.js";const ze=e=>Pe(e)&&e.length>0,Pe=e=>Array.isArray(e),Re=e=>"[object Map]"===Object.prototype.toString.call(e),Ee=e=>"[object Object]"===Object.prototype.toString.call(e),Ke=e=>"[object Set]"===Object.prototype.toString.call(e),Oe=e=>"[object Undefined]"===Object.prototype.toString.call(e),Fe=e=>"[object Number]"===Object.prototype.toString.call(e),Le=e=>Fe(e)&&Number.isFinite(e),Me=e=>We(e)&&!!e.trim(),We=e=>"[object String]"===Object.prototype.toString.call(e),He=e=>"[object Date]"===Object.prototype.toString.call(e),je=e=>"[object RegExp]"===Object.prototype.toString.call(e),De=e=>(e=>"[object AsyncFunction]"===Object.prototype.toString.call(e))(e)||(e=>"[object Function]"===Object.prototype.toString.call(e))(e)||(e=>"[object GeneratorFunction]"===Object.prototype.toString.call(e))(e),Ve=e=>"[object Promise]"===Object.prototype.toString.call(e),$e=(e,t,l=!1)=>{if(e===t)return!0;if(Object.is(e,t))return!0;if(Le(e)&&Le(t))return Math.abs(e-t)<Number.EPSILON;if(je(e)&&je(t))return e.source===t.source&&e.flags===t.flags&&e.lastIndex===t.lastIndex;if(Ee(e)&&Ee(t)){const n=Ee(l)&&!Oe(l.deep)?l.deep:l,o=Ee(l)&&Pe(l.strict)?l.strict.filter((e=>je(e)||Le(e)||We(e))):[],r=Ee(l)&&Pe(l.exclude)?l.exclude.filter((e=>je(e)||Le(e)||We(e))):[],i=Ee(l)&&Pe(l.include)?l.include.filter((e=>je(e)||Le(e)||We(e))):[/(?:)/],a=Object.keys(e).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===i.length||i.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l})),s=Object.keys(t).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===i.length||i.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l}));if(a.length!==s.length)return!1;for(const l of Object.keys(e)){const a=e[l],s=t[l],d=Fe(n)?n:!0===n?1/0:0,c=o.length>0&&o.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),u=r.length>0&&r.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),p=0===i.length||i.some((e=>je(e)?e.test(String(l)):String(e)===String(l)));if(!u&&p&&a!==s){if(c)return!1;if(!(d>=1&&$e(a,s,{strict:o,include:i,exclude:r,deep:d-1})))return!1}}return!0}if(Pe(e)&&Pe(t)){const n=Ee(l)&&!Oe(l.deep)?l.deep:l,o=Ee(l)&&Pe(l.strict)?l.strict.filter((e=>je(e)||Le(e)||We(e))):[],r=Ee(l)&&Pe(l.exclude)?l.exclude.filter((e=>je(e)||Le(e)||We(e))):[],i=Ee(l)&&Pe(l.include)?l.include.filter((e=>je(e)||Le(e)||We(e))):[/(?:)/],a=Object.keys(e).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===i.length||i.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l})),s=Object.keys(t).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===i.length||i.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l}));if(a.length!==s.length)return!1;for(const l of e.keys()){const a=e[l],s=t[l],d=Fe(n)?n:!0===n?1/0:0,c=o.length>0&&o.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),u=r.length>0&&r.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),p=0===i.length||i.some((e=>je(e)?e.test(String(l)):String(e)===String(l)));if(!u&&p&&a!==s){if(c)return!1;if(!(d>=1&&$e(a,s,{strict:o,include:i,exclude:r,deep:d-1})))return!1}}return!0}return He(e)&&He(t)?+e==+t:Re(e)&&Re(t)?e.size===t.size&&$e([...e.entries()],[...t.entries()],l):!(!Ke(e)||!Ke(t))&&e.size===t.size&&$e([...e.values()],[...t.values()],l)},Be=(e,t=!1)=>{const l=Ee(t)&&!Oe(t.deep)?t.deep:t,n=Ee(t)&&Pe(t.omits)?t.omits.filter((e=>je(e)||We(e)||Le(e))):[],o=Ee(t)&&Pe(t.picks)?t.picks.filter((e=>je(e)||We(e)||Le(e))):[],r=Ee(t)&&(e=>"[object WeakMap]"===Object.prototype.toString.call(e))(t.cache)?t.cache:new WeakMap,i=Fe(l)?l:!0===l?1/0:1,a=(e,t)=>{const l=Pe(e)?[]:{};for(const[a,s]of Ee(i=e)?Object.entries(i):i.entries()){if(o.length>0&&!o.some((e=>je(e)?e.test(String(a)):String(e)===String(a))))continue;if(n.length>0&&n.some((e=>je(e)?e.test(String(a)):String(e)===String(a))))continue;let e=s;const i=Ke(s),d=Re(s),c=He(s),u=Pe(s),p=Ee(s),f=je(s);i||d||c||u||p||f?(t>1&&!r.has(s)&&r.set(s,Be(s,{omits:n,picks:o,cache:r,deep:t-1})),t>1&&r.has(s)&&(e=r.get(s)),Pe(l)?l.push(e):l[a]=e):Pe(l)?l.push(e):l[a]=e}var i;return l};if((e=>Number.isNaN(e))(i)||i<1)return e;if(je(e)){const t=e.flags,l=e.source,n=new RegExp(l,t);return n.lastIndex=e.lastIndex,n}if(Ee(e))return a(e,i);if(Pe(e))return a(e,i);if(He(e))return new Date(+e);if(Re(e)){const t=Array.from(e.entries());return new Map(a(t,i))}if(Ke(e)){const t=Array.from(e.values());return new Set(a(t,i))}return e},Ye=(e,...t)=>{const l={},n=new WeakMap,o=t.slice(-1)[0],r=Fe(o)?o:!0===o?1/0:1,i=(e,t,o)=>{const r=Re(e)?Array.from(e.entries()):Ke(e)?Array.from(e.values()):e,a=Re(t)?Array.from(t.entries()):Ke(t)?Array.from(t.values()):t;for(const[d,c]of Ee(s=a)?Object.entries(s):s.entries()){if(o<1){r[d]=c;continue}const e=Ke(c),t=Re(c),s=He(c),u=Pe(c),p=Ee(c),f=je(c),b=l.toString.call(r[d])!==l.toString.call(c);e||t||s||u||p||f?(n.has(c)||n.set(c,Be(c,{deep:o,cache:n})),b?r[d]=n.get(c):i(r[d],a[d],o-1)):r[d]=c}var s;if((Re(e)||Ke(e))&&e.clear(),Re(e))for(const[l,n]of r)e.set(l,n);if(Ke(e))for(const l of r)e.add(l)};if(Ee(e)||Pe(e)||Re(e)||Ke(e))for(const a of t)l.toString.call(e)===l.toString.call(a)&&i(e,a,r-1);return e},Ue=(e,t,l="value",n="children")=>{if(Pe(e)&&(We(t)||Fe(t)))for(const o of e){if(t===o[l])return o;if(ze(o[n])){const e=Ue(o[n],t,l,n);if(e)return e}}return null};var Ge={isArray:Pe,isObject:Ee,isString:We,isNumber:Fe,isRegExp:je,isPromise:Ve,isBoolean:e=>!0===e||!1===e,isFunction:De,isPrimitive:e=>We(e)||Le(e),isReference:e=>Pe(e)||Ee(e),isEmptyArray:e=>Pe(e)&&0===e.length,isEmptyObject:e=>Ee(e)&&0===Object.keys(e).length,isEmptyString:e=>We(e)&&!e.trim(),isNonEmptyArray:ze,isNonEmptyObject:e=>Ee(e)&&Object.keys(e).length>0,isNonEmptyString:Me,isFiniteNumber:Le,takeTreeByKey:Ue,takeTextByKey:(e,t,l="label",n="value",o="children")=>{var r;return(null==(r=Ue(e,t,n,o))?void 0:r[l])||t},deepAssign:(e,...t)=>Ye(e,...t,!0),deepClone:(e,t={})=>Be(e,{...t,deep:!0}),deepEqual:(e,t,l={})=>$e(e,t,{...l,deep:!0}),toPromise:e=>Ve(e)?e:De(e)?Promise.resolve(e()):Le(e)?new Promise(((t,l)=>{e>=0&&setTimeout(t,e),e<0&&setTimeout(l,-e)})):Promise.resolve(e),hyphenCase:(e,t=!1)=>!0===t?Me(e)?e.replace(/([A-Z])/g,"-$1").replace(/([_-])([a-zA-Z])/g,"-$2").toLowerCase().replace(/^[_-]+/,""):e:Me(e)?e.replace(/([A-Z])/g,"-$1").replace(/([_-])([a-zA-Z])/g,"-$2").toLowerCase():e,camelCase:(e,t=!1)=>!0===t?Me(e)?e.replace(/(^|[_-])([a-z])/g,((e,t,l)=>l&&l.toUpperCase())):e:Me(e)?e.replace(/[_-]([a-z])/g,((e,t)=>t&&t.toUpperCase())):e,underCase:(e,t=!1)=>!0===t?Me(e)?e.replace(/([A-Z])/g,"_$1").replace(/([_-])([a-zA-Z])/g,"_$2").toLowerCase().replace(/^[_-]+/,""):e:Me(e)?e.replace(/([A-Z])/g,"_$1").replace(/([_-])([a-zA-Z])/g,"_$2").toLowerCase():e,upperCase:e=>Me(e)?e.replace(/[a-z]/g,(e=>e&&e.toUpperCase())):e,lowerCase:e=>Me(e)?e.replace(/[A-Z]/g,(e=>e&&e.toLowerCase())):e,assign:Ye,clone:Be,equal:$e};const qe=e=>"default"!==e&&"getTwoToneColor"!==e&&"setTwoToneColor"!==e&&"createFromIconfontCN"!==e&&e&&!!c[e],Xe=x({name:"SIcon",props:{spin:e().def(!1),type:t().isRequired,style:l().def(void 0),class:l().def(void 0),rotate:n().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),twoToneColor:l().def()},emits:{click:e=>!0},setup:(e,t)=>()=>{const l=e.type,n=(e=>Ge.isString(e)?e.replace(/(^|-)(\w)/g,((e,t,l)=>l&&l.toUpperCase())):e)(l),o={...e,type:void 0},r=e.iconPrefix??"",i=e.iconfontUrl??"",a=qe(n)?c[n]:null;if(a)return w(a,k(o,{onClick:e=>t.emit("click",e)}),null);if(r&&i&&l.startsWith(r)){const l=d({scriptUrl:i}),n={...e};return delete n.iconfontUrl,delete n.iconPrefix,w(l,k(n,{onClick:e=>t.emit("click",e)}),null)}return null}}),_e=x({name:"SEllipsis",props:{open:e().def(void 0),title:t().def(void 0),color:t().def(void 0),trigger:t().def("hover"),inspect:e().def(!0),tooltip:e().def(!0),ellipsis:e().def(!1),placement:t().def("top"),mouseEnterDelay:n().def(.3),mouseLeaveDelay:n().def(.1)},emits:{"update:open":e=>"boolean"==typeof e},setup(e,{emit:t,slots:l}){const n=S(!1),o=S(!1),r=S(null),i=e=>{if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement){const t=e.getBoundingClientRect().height,l=e.getBoundingClientRect().width,n=e.scrollHeight>t+1,r=e.scrollWidth>l+1;return o.value=n||r}return!1};return C((()=>{const e=new ResizeObserver((e=>{for(const t of e)i(t.target)}));r.value instanceof HTMLElement&&(e.observe(r.value),i(r.value))})),()=>{var a;if(!0===e.tooltip){const a={...e,open:void 0!==e.open?e.open:n.value,"onUpdate:open":void 0,onVisibleChange:void 0};return w(U,k(a,{"onUpdate:open":l=>{return t("update:open",!0===(o=l)&&!0===e.inspect?n.value=i(r.value):n.value=o);var o}}),{default:()=>{var t;return[w("div",{ref:r,style:{width:"100%",height:"100%",display:"block",whiteSpace:!0===e.ellipsis?"nowrap":"inherit",textOverflow:o.value&&!0===e.ellipsis?"ellipsis":"initial",overflow:o.value&&!0===e.ellipsis?"hidden":"visible"}},[null==(t=l.default)?void 0:t.call(l)])]},title:l.title||l.default})}return null==(a=l.default)?void 0:a.call(l)}},slots:{}});const Qe=Object.keys(c).filter((e=>e.endsWith("Outlined"))),Je=[];for(const al of Qe){const e=al[0],t=Je.find((t=>t.value===e));t||Je.push({label:`字母${e.toUpperCase()}`,value:e,options:[{label:al,value:al}]}),t&&t.options.push({label:al,value:al})}Je&&Je.sort(((e,t)=>e.value<t.value?-1:1));const Ze=x({name:"SIconSelect",inheritAttrs:!0,props:{style:l().def(void 0),class:l().def(void 0),iconClass:l().def(void 0),iconStyle:o().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),optionFilterProp:t().def(),optionLabelProp:t().def(),placeholder:t().def(""),showSearch:e().def(!0),allowClear:e().def(!0),showArrow:e().def(!0),multiple:e().def(!1),disabled:e().def(!1),options:r().def(void 0),value:l().def(),mode:t().def(),size:t().def()},emits:{"update:value":e=>!0,change:(e,t)=>!0,search:e=>!0,click:e=>!0,blur:e=>!0},setup(e,{emit:t}){const l=t=>qe(t.value)?w("span",null,[w(Xe,{type:t.value,class:e.iconClass,style:{margin:"0px 3px 0 0",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):e.iconPrefix&&e.iconfontUrl&&t.value.startsWith(e.iconPrefix)?w("span",null,[w(Xe,{type:t.value,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,class:e.iconClass,style:{margin:"0px 3px 0 0",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):w("span",null,[t.label]),n=t=>qe(t.value)?w("span",null,[w(Xe,{type:t.value,class:e.iconClass,style:{margin:"0px 3px 2px 2px",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):e.iconPrefix&&e.iconfontUrl&&t.value.startsWith(e.iconPrefix)?w("span",null,[w(Xe,{type:t.value,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,class:e.iconClass,style:{margin:"0px 3px 2px 2px",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):w("span",null,[t.label]),o=S(void 0),r=S(void 0),i=S([]),a="tags"===e.mode||"multiple"===e.mode,s=!1!==e.multiple,d=q(),c=(e,l)=>{var n,i;const d=Array.isArray(e),c=a&&d&&!s;t("update:value",c?e.slice(-1)[0]:e),c&&(null==(n=r.value)||n.blur()),a||null==(i=r.value)||i.blur(),c&&(o.value=!1),a||(o.value=!1),t("change",c?e.slice(-1)[0]:e,l)};return N((async()=>{e.options||e.iconPrefix&&e.iconfontUrl||(i.value=Je),!e.options&&e.iconPrefix&&e.iconfontUrl&&(i.value=await(async(e,t="icon-")=>{const l=[],n=new RegExp(`(?<=<symbol id=["'])${t}[^"']+`,"g"),o=await fetch(e).then((e=>e.text())),r=Array.from(o.matchAll(n),(e=>e[0]));for(const i of r){const e=t.length,n=i.slice(e,e+1),o=l.find((e=>e.value===n));o||l.push({label:`字母${n.toUpperCase()}`,value:n,options:[{label:i,value:i}]}),o&&o.options.push({label:i,value:i})}return l&&l.sort(((e,t)=>e.value<t.value?-1:1)),l})(e.iconfontUrl,e.iconPrefix)),e.options&&(i.value=e.options)})),()=>{var u;const p=s||a?Ge.isArray(e.value)?e.value:Ge.isNonEmptyString(e.value)?[e.value]:[]:Ge.isArray(e.value)?e.value[0]:e.value;return w(G,{ref:r,open:o.value,size:e.size||(null==(u=d.componentSize)?void 0:u.value),mode:e.mode,value:p,style:e.style,class:e.class,options:i.value,disabled:e.disabled,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,placeholder:e.placeholder,optionLabelProp:e.optionLabelProp,optionFilterProp:e.optionFilterProp,onSearch:e=>{o.value=!0,t("search",e)},onClick:e=>{o.value=!0,t("click",e)},onBlur:e=>{o.value=!1,t("blur",e)},onChange:c},{option:l,tagRender:n})}}});function et(e,t){void 0===t&&(t={});var l=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===l&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}et(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const tt=x({name:"SEditCellInput",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:o().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),allowClear:e().def(!1),placeholder:t().def(),cellStyle:o().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=e=>{d.editable=!1,t("confirm",I(d)),e.stopPropagation()},o=()=>!e.disabled&&e.check?w(_,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>n(e)},null):null,r=()=>!e.disabled&&e.edit?w(_,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,i=()=>{var l;return!e.disabled&&d.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(X,{value:d.value,"onUpdate:value":e=>d.value=e,size:null==(l=s.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,allowClear:e.allowClear,placeholder:e.placeholder,onPressEnter:e=>n(e),onChange:e=>(e=>{t("update:text",d.value),t("change",I(d)),e.stopPropagation()})(e),onFocus:e=>(e=>{t("focus",I(d)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",I(d)),e.stopPropagation()})(e)},null),w(o,null,null)]):w(_e,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{d.editable=!0,d.value=e.text,t("update:status",!0),t("edit",I(d)),l.stopPropagation()})(l)},[a(),w(r,null,null)])]})},a=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...I(d)}):null)??e.text,n=e.empty;return t||0===t?t:n},s=q(),d=T({value:e.text,editable:!1});return N((()=>{e.disabled&&(d.editable=!1),e.disabled||(d.editable=e.opened)})),A((()=>e.text),(()=>!e.disabled&&e.synced&&(d.value=e.text))),A((()=>e.status),(()=>!e.disabled&&!1===e.status&&(d.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:d.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(i,null,null)])},slots:{}});et(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const lt=x({name:"SEditCellSelect",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:o().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),options:r().def((()=>[])),showArrow:e().def(!0),allowClear:e().def(!1),showSearch:e().def(!1),fieldNames:o().def((()=>({label:"label",value:"value",options:"options"}))),placeholder:t().def(),optionFilterProp:t().def(),cellStyle:o().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(_,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",I(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(_,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,r=()=>{var l;if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(G,{value:s.value,"onUpdate:value":e=>s.value=e,size:null==(l=a.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,fieldNames:e.fieldNames,placeholder:e.placeholder,optionFilterProp:e.optionFilterProp,onChange:(e,l)=>(t("update:text",s.value),void t("change",I(s))),onFocus:e=>(e=>{t("focus",I(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",I(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const r=e.text,d=e.fieldNames.label||"label",c=e.fieldNames.value||"value",u=e.fieldNames.options||"options",p="string"==typeof r||"number"==typeof r?Ge.takeTextByKey(e.options,r,d,c,u)||e.text:void 0;return w(_e,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",I(s)),l.stopPropagation()})(l)},[i(),w(o,null,null)])]})},i=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.options,i="string"==typeof t||"number"==typeof t,a=(l.editableCellText?l.editableCellText({text:e.text,...I(s)}):null)??(i&&Ge.takeTextByKey(e.options,t,n,o,r)||e.text),d=e.empty;return a||0===a?a:d},a=q(),s=T({value:e.text,editable:!1});return N((()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)})),A((()=>e.text),(()=>!e.disabled&&e.synced&&(s.value=e.text))),A((()=>e.status),(()=>!e.disabled&&!1===e.status&&(s.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])},slots:{}});et(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const nt=x({name:"SEditCellTextarea",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:o().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),autoSize:i([e(),o()]).def(!0),allowClear:e().def(!1),placeholder:t().def(),cellStyle:o().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=e=>{d.editable=!1,t("confirm",I(d)),e.stopPropagation()},o=()=>!e.disabled&&e.check?w(_,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>n(e)},null):null,r=()=>!e.disabled&&e.edit?w(_,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,i=()=>{var l;return!e.disabled&&d.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(X.TextArea,{value:d.value,"onUpdate:value":e=>d.value=e,size:null==(l=s.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,autoSize:e.autoSize,allowClear:e.allowClear,placeholder:e.placeholder,onPressEnter:e=>n(e),onChange:e=>(e=>{t("update:text",d.value),t("change",I(d)),e.stopPropagation()})(e),onFocus:e=>(e=>{t("focus",I(d)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",I(d)),e.stopPropagation()})(e)},null),w(o,null,null)]):w(_e,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{d.editable=!0,d.value=e.text,t("update:status",!0),t("edit",I(d)),l.stopPropagation()})(l)},[a(),w(r,null,null)])]})},a=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...I(d)}):null)??e.text,n=e.empty;return t||0===t?t:n},s=q(),d=T({value:e.text,editable:!1});return N((()=>{e.disabled&&(d.editable=!1),e.disabled||(d.editable=e.opened)})),A((()=>e.text),(()=>!e.disabled&&e.synced&&(d.value=e.text))),A((()=>e.status),(()=>!e.disabled&&!1===e.status&&(d.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:d.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(i,null,null)])},slots:{}});et(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const ot=x({name:"SEditCellSelectIcon",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:o().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),options:r().def(void 0),iconClass:l().def(void 0),iconStyle:o().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),showArrow:e().def(!0),allowClear:e().def(!1),showSearch:e().def(!0),fieldNames:o().def((()=>({label:"label",value:"value",options:"options"}))),placeholder:t().def(),optionLabelProp:t().def(),optionFilterProp:t().def(),cellStyle:o().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(_,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",I(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(_,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,r=()=>{var l;if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(Ze,{value:s.value,"onUpdate:value":e=>s.value=e,size:null==(l=a.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,mode:"tags",multiple:!1,iconStyle:e.iconStyle,iconClass:e.iconClass,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,placeholder:e.placeholder,optionLabelProp:e.optionLabelProp,optionFilterProp:e.optionFilterProp,onChange:(e,l)=>(t("update:text",s.value),void t("change",I(s))),onFocus:e=>(e=>{t("focus",I(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",I(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const r=e.text,d=e.fieldNames.label||"label",c=e.fieldNames.value||"value",u=e.fieldNames.options||"options",p="string"==typeof r||"number"==typeof r?Ge.takeTextByKey(e.options,r,d,c,u)||e.text:void 0;return w(_e,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",I(s)),l.stopPropagation()})(l)},[i(),w(o,null,null)])]})},i=()=>{const t=e.text,n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,i=e.iconfontUrl,a=e.fieldNames.label,d=e.fieldNames.value,c=e.fieldNames.options,u="string"==typeof t||"number"==typeof t,p=l.editableCellText?l.editableCellText({text:e.text,...I(s)}):null,f=u&&Ge.takeTextByKey(e.options,t,a,d,c)||e.text,b=p??(qe(f)||Ge.isNonEmptyString(r)&&Ge.isNonEmptyString(i)&&f.startsWith(r)?w("span",null,[w(Xe,{type:f,iconPrefix:r,iconfontUrl:i,class:n,style:o??"margin-right: 5px;"},null),f]):f),h=e.empty;return b||0===b?b:h},a=q(),s=T({value:e.text,editable:!1});return N((()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)})),A((()=>e.text),(()=>!e.disabled&&e.synced&&(s.value=e.text))),A((()=>e.status),(()=>!e.disabled&&!1===e.status&&(s.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])},slots:{}});et(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const rt=x({name:"SEditCellTreeSelect",props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:o().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),treeData:r().def((()=>[])),showArrow:e().def(!0),allowClear:e().def(!1),showSearch:e().def(!1),fieldNames:o().def((()=>({label:"title",value:"value",children:"children"}))),placeholder:t().def(),treeNodeFilterProp:t().def(),treeDefaultExpandAll:e().def(!0),cellStyle:o().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(_,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",I(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(_,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,r=()=>{var l;if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(Q,{value:s.value,"onUpdate:value":e=>s.value=e,size:null==(l=a.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,treeData:e.treeData,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,fieldNames:e.fieldNames,placeholder:e.placeholder,treeNodeFilterProp:e.treeNodeFilterProp,treeDefaultExpandAll:e.treeDefaultExpandAll,dropdownStyle:{maxHeight:"400px",overflow:"auto",padding:"0 18px 0 0",...e.cellStyle.dropdown},onChange:e=>(t("update:text",s.value),void t("change",I(s))),onFocus:e=>(e=>{t("focus",I(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",I(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const r=e.text,d=e.fieldNames.label||"label",c=e.fieldNames.value||"value",u=e.fieldNames.children||"children",p="string"==typeof r||"number"==typeof r?Ge.takeTextByKey(e.treeData,r,d,c,u)||e.text:void 0;return w(_e,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",I(s)),l.stopPropagation()})(l)},[i(),w(o,null,null)])]})},i=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.children,i="string"==typeof t||"number"==typeof t,a=(l.editableCellText?l.editableCellText({text:e.text,...I(s)}):null)??(i&&Ge.takeTextByKey(e.treeData,t,n,o,r)||e.text),d=e.empty;return a||0===a?a:d},a=q(),s=T({value:e.text,editable:!1});return N((()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)})),A((()=>e.text),(()=>!e.disabled&&e.synced&&(s.value=e.text))),A((()=>e.status),(()=>!e.disabled&&!1===e.status&&(s.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])},slots:{}});et(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const it=x({name:"SEditCellDatePicker",inheritAttrs:!1,props:{mode:t().def("date"),picker:t().def("date"),format:t().def(),showTime:e().def(!1),valueFormat:t().def(),inputReadOnly:e().def(!1),empty:t().def(""),text:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:o().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),allowClear:e().def(!1),placeholder:t().def(),cellStyle:o().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=e=>e?xe(e):null,o=l=>{c.value=(t=>t?xe(t).format(e.valueFormat||e.format||(!0===e.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD")):"")(c.date),t("update:text",c.value),t("change",I(c))},r=()=>!e.disabled&&e.check?w(_,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{c.editable=!1,t("confirm",I(c)),e.stopPropagation()})(e)},null):null,i=()=>!e.disabled&&e.edit?w(_,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,a=()=>{var l;return!e.disabled&&c.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(J,{value:c.date,"onUpdate:value":e=>c.date=e,size:null==(l=d.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,mode:e.mode,picker:e.picker,format:e.format,allowClear:e.allowClear,valueFormat:e.valueFormat,placeholder:e.placeholder,inputReadOnly:e.inputReadOnly,onChange:e=>o(),onFocus:e=>(e=>{t("focus",I(c)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",I(c)),e.stopPropagation()})(e)},null),w(r,null,null)]):w(_e,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{c.editable=!0,c.value=e.text,c.date=n(e.text),t("update:status",!0),t("edit",I(c)),l.stopPropagation()})(l)},[s(),w(i,null,null)])]})},s=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...I(c)}):null)??e.text,n=e.empty;return t||0===t?t:n},d=q(),c=T({date:n(e.text),value:e.text,editable:!1});return N((()=>{e.disabled&&(c.editable=!1),e.disabled||(c.editable=e.opened)})),A((()=>e.text),(()=>!e.disabled&&e.synced&&(c.value=e.text))),A((()=>e.text),(()=>!e.disabled&&e.synced&&(c.date=n(e.text)))),A((()=>e.status),(()=>!e.disabled&&!1===e.status&&(c.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:c.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(a,null,null)])},slots:{}});et(".s-form-container {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header[border='no'] {\n  border-bottom: none;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header {\n  display: flex;\n  width: 100%;\n  padding-left: 5px;\n  margin: 12px 0;\n  line-height: 30px;\n  font-size: 13px;\n  color: #303133;\n  border-bottom: dashed 1px #e8e8e8;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header > .s-form-group-item-header-title {\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-weight: 600;\n  color: #808399;\n  padding-left: 8px;\n  line-height: 32px;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content {\n  padding: 0 3px;\n  margin-bottom: 10px;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content .s-form-group-item-template {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content .s-form-group-item-template .ant-form-item-explain > * {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n"),xe.extend(we),xe.extend(ke),xe.extend(Se),xe.extend(Ce),xe.extend(Ne),xe.extend(Te),xe.extend(Ae),xe.extend(Ie);const at={ARate:{type:"ARate",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>void 0!==e?e&&t.isFiniteNumber(+e)?+e:0:void 0,output:(e,{helper:t})=>void 0!==e?e&&t.isFiniteNumber(+e)?+e:0:void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInput:{type:"AInput",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>void 0!==e?t.isPrimitive(e)?String(e):"":void 0,output:(e,{helper:t})=>void 0!==e?t.isPrimitive(e)?String(e):"":void 0},readonly:!1,disabled:!1,render:!0,show:!0},ASwitch:{type:"ASwitch",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>void 0!==e.props.unCheckedValue?e.props.unCheckedValue:void 0,output:({self:e})=>void 0!==e.props.unCheckedValue?e.props.unCheckedValue:void 0},transfer:{input:(e,{self:t})=>void 0!==e?e===t.props.checkedValue||e===t.props.unCheckedValue?e:void 0!==t.props.unCheckedValue?t.props.unCheckedValue:!0===e:void 0,output:(e,{self:t})=>void 0!==e?e===t.props.checkedValue||e===t.props.unCheckedValue?e:void 0!==t.props.unCheckedValue?t.props.unCheckedValue:!0===e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ASlider:{type:"ASlider",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>!0===e.props.range?[]:void 0,output:({self:e})=>!0===e.props.range?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>!0===l.props.range?t.isArray(e)?e.filter(((e,t)=>t<2)).map((e=>void 0!==e?t.isFiniteNumber(e)?e:0:void 0)):[]:void 0!==e?t.isFiniteNumber(e)?e:0:void 0,output:(e,{helper:t,self:l})=>!0===l.props.range?t.isArray(e)?e.filter(((e,t)=>t<2)).map((e=>void 0!==e?t.isFiniteNumber(e)?e:0:void 0)):[]:void 0!==e?t.isFiniteNumber(e)?e:0:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ASelect:{type:"ASelect",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>["multiple","tags"].includes(e.props.mode)?[]:void 0,output:({self:e})=>["multiple","tags"].includes(e.props.mode)?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>["multiple","tags"].includes(l.props.mode)?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0,output:(e,{helper:t,self:l})=>["multiple","tags"].includes(l.props.mode)?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ACascader:{type:"ACascader",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t})=>t.isArray(e)?e.filter((e=>t.isPrimitive(e))):[],output:(e,{helper:t})=>t.isArray(e)?e.filter((e=>t.isPrimitive(e))):[]},readonly:!1,disabled:!1,render:!0,show:!0},ATreeSelect:{type:"ATreeSelect",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>!0===e.props.multiple?[]:void 0,output:({self:e})=>!0===e.props.multiple?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>!0===l.props.multiple?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0,output:(e,{helper:t,self:l})=>!0===l.props.multiple?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ARadioGroup:{type:"ARadioGroup",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?e:void 0,output:(e,{helper:t})=>t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ACheckboxGroup:{type:"ACheckboxGroup",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t})=>t.isArray(e)?e.filter((e=>t.isPrimitive(e))):[],output:(e,{helper:t})=>t.isArray(e)?e.filter((e=>t.isPrimitive(e))):[]},readonly:!1,disabled:!1,render:!0,show:!0},AAutoComplete:{type:"AAutoComplete",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputSearch:{type:"AInputSearch",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputPassword:{type:"AInputPassword",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputTextarea:{type:"AInputTextarea",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputNumber:{type:"AInputNumber",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isFiniteNumber(+e)?+e:void 0,output:(e,{helper:t})=>t.isFiniteNumber(+e)?+e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ARangePicker:{type:"ARangePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t,self:l})=>{const n=t.isArray(e)?e:[],o=l.props.valueFormat||(!0===l.props.showTime?"YYYY-M-D H:m:s":"YYYY-M-D");return n.map((e=>void 0!==e?e instanceof Date&&xe(e).isValid()?xe(e):xe(e,o).isValid()?xe(e,o):void 0:void 0))},output:(e,{helper:t,self:l})=>{const n=t.isArray(e)?e:[],o=l.props.valueFormat||(!0===l.props.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD");return n.map((e=>void 0!==e?"string"!=typeof e&&xe(e).isValid()?xe(e).format(o):"string"==typeof e?e:"":void 0))}},readonly:!1,disabled:!1,render:!0,show:!0},ADatePicker:{type:"ADatePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.showTime,n=t.props.valueFormat||(!0===l?"YYYY-M-D H:m:s":"YYYY-M-D");return e instanceof Date&&xe(e).isValid()?xe(e):xe(e,n).isValid()?xe(e,n):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.showTime,n=t.props.valueFormat||(!0===l?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD");return"string"!=typeof e&&xe(e).isValid()?xe(e).format(n):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AYearPicker:{type:"AYearPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY";return e instanceof Date&&xe(e).isValid()?xe(e):xe(e,l).isValid()?xe(e,l):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY";return"string"!=typeof e&&xe(e).isValid()?xe(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AMonthPicker:{type:"AMonthPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-M";return e instanceof Date&&xe(e).isValid()?xe(e):xe(e,l).isValid()?xe(e,l):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-MM";return"string"!=typeof e&&xe(e).isValid()?xe(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AQuarterPicker:{type:"AQuarterPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat;if(e instanceof Date&&xe(e).isValid())return xe(e);if(l&&xe(e,l).isValid())return xe(e,l);const n=/^(\d{4})-(\d{1,2})$/,o=xe("string"==typeof e?e.replace(n,"$1"):e||null);return o&&o.isValid()?"string"==typeof e?o.quarter(+e.replace(n,"$2")):o:void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-Q";return"string"!=typeof e&&xe(e).isValid()?xe(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AWeekPicker:{type:"AWeekPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat;if(e instanceof Date&&xe(e).isValid())return xe(e);if(l&&xe(e,l).isValid())return xe(e,l);const n=/^(\d{4})-(\d{1,2})$/,o=xe("string"==typeof e?e.replace(n,"$1"):e||null);return o&&o.isValid()?"string"==typeof e?o.week(+e.replace(n,"$2")):o:void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-ww";return"string"!=typeof e&&xe(e).isValid()?xe(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},ATimePicker:{type:"ATimePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.use12Hours,n=t.props.valueFormat||(!0===l?"h:m:s a":"H:m:s");return e instanceof Date&&xe(e).isValid()?xe(e):xe(e,n).isValid()?xe(e,n):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.use12Hours,n=t.props.valueFormat||(!0===l?"hh:mm:ss a":"HH:mm:ss");return"string"!=typeof e&&xe(e).isValid()?xe(e).format(n):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0}};et(".s-form-container .ant-select.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-tree-select.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-select.ant-select-multiple.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-tree-select.ant-select-multiple.ant-select-disabled .ant-select-selection-overflow-item-suffix {\n  display: none;\n}\n.s-form-container .ant-input,\n.s-form-container .ant-select,\n.s-form-container .ant-picker,\n.s-form-container .ant-input-number,\n.s-form-container .ant-input-number-affix-wrapper {\n  width: 100%;\n}\n.s-form-container [off-disabled],\n.s-form-container [off-disabled] * {\n  cursor: default !important;\n  pointer-events: none;\n}\n");const st={ARate:Z,AInput:X,ASwitch:ee,ASelect:G,ASlider:te,ACascader:le,ATreeSelect:Q,ARadioGroup:ne.Group,AAutoComplete:oe,AInputNumber:re,AInputSearch:X.Search,ACheckboxGroup:ie.Group,AInputPassword:X.Password,AInputTextarea:X.TextArea,ARangePicker:J.RangePicker,AYearPicker:J.YearPicker,AMonthPicker:J.MonthPicker,AQuarterPicker:J.QuarterPicker,AWeekPicker:J.WeekPicker,ADatePicker:J,ATimePicker:ae},dt=x({name:"SFormComponent",inheritAttrs:!1,props:{type:t().isRequired,disabled:e().isRequired,readonly:e().isRequired,source:o().isRequired,field:t().isRequired,attrs:o().isRequired},setup:(e,t)=>()=>{const l=e.type,n=e.field,o=e.source,r=e.disabled,i=e.readonly,a=st[l],s=S(null);let d={};return"ASwitch"===l&&(d={checked:o[n],"onUpdate:checked":e=>{o[n]=e},...e.attrs},d.size="small"!==d.size?"default":"small"),"ARadioGroup"!==l&&"ACheckboxGroup"!==l||(d={value:o[n],"onUpdate:value":e=>{o[n]=e},...e.attrs},d.size="middle"!==d.size?d.size:"default"),"ASwitch"!==l&&"ARadioGroup"!==l&&"ACheckboxGroup"!==l&&(d={value:o[n],"onUpdate:value":e=>{o[n]=e},...e.attrs}),("AQuarterPicker"===l||"ADatePicker"===l&&"quarter"===d.picker||"ARangePicker"===l&&"quarter"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY-Q",d.format=d.format??"YYYY-Q"),("AMonthPicker"===l||"ADatePicker"===l&&"month"===d.picker||"ARangePicker"===l&&"month"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY-MM",d.format=d.format??"YYYY-MM"),("AYearPicker"===l||"ADatePicker"===l&&"year"===d.picker||"ARangePicker"===l&&"year"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY",d.format=d.format??"YYYY"),("AWeekPicker"===l||"ADatePicker"===l&&"week"===d.picker||"ARangePicker"===l&&"week"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY-ww",d.format=d.format??"YYYY-ww"),"ADatePicker"!==l&&"ARangePicker"!==l||(d.valueFormat=d.valueFormat??(!0===d.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"),d.format=d.format??(!0===d.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD")),"ATimePicker"===l&&(d.valueFormat=d.valueFormat??(!0===d.use12Hours?"h:mm:ss a":"HH:mm:ss"),d.format=d.format??(!0===d.use12Hours?"h:mm:ss a":"HH:mm:ss")),i&&!r&&z((()=>{var e;const t=null==(e=s.value)?void 0:e.querySelectorAll('[disabled],[class*="-disabled"]');null==t||t.forEach((e=>{if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement){for(const t of Array.from(e.classList))/-disabled(\b|$)/.test(t)&&e.classList.remove(t);e.hasAttribute("disabled")&&e.removeAttribute("disabled")}}))})),w("div",{ref:s,style:"display: inherit; display: contents;"},[a?P(a,d,t.slots):null])}}),ct=e=>e,ut=e=>S(e),pt=e=>S(e),ft={password(e){const t=e.message,l=e.pattern,n=e.validator;return Ge.isString(n)&&(Ge.isRegExp(l)||Object.assign(e,{pattern:/.{6,}/iu}),e.validator=(e,l)=>{var o;return l||0===l||!0===e.required?l||0===l||!0!==e.required?(null==(o=e.pattern)?void 0:o.test(l))?Promise.resolve():Promise.reject(new Error(n||t||"密码过短")):Promise.reject(new Error(t||"密码为必填项")):Promise.resolve()},Object.assign(e,{message:void 0})),e},number(e){const t=e.message,l=e.pattern,n=e.validator;return Ge.isString(n)&&(Ge.isRegExp(l)||Object.assign(e,{pattern:/^[+-]?\d+\.?\d*$/i}),e.validator=(e,l)=>{var o;return l||0===l||!0===e.required?l||0===l||!0!==e.required?(null==(o=e.pattern)?void 0:o.test(l))?Promise.resolve():Promise.reject(new Error(n||t||"格式有误")):Promise.reject(new Error(t||"该项为必填项")):Promise.resolve()},Object.assign(e,{message:void 0})),e}};const bt=x({name:"SForm",inheritAttrs:!1,props:{rules:{type:Object,default:()=>({})},grid:o().def((()=>({}))),border:l().def(!1),groups:r().def((()=>[])),modelValue:o().def((()=>{})),model:o().def((()=>{})),disabled:e().def(!1),readonly:e().def(!1),spinning:e().def(!1)},setup(e,t){const l=(e,t)=>{const l=t.oldModel,n=t.newModel,o=t.refModel,r=Ge.isFunction(e.default.input)?e.default.input({helper:Ge,self:L(e)}):e.default.input;let i=t.first,a=l,s=n,d=o.value;for(const[c,u]of e.field.entries())a=c===e.field.length-1||Ge.isObject(null==a?void 0:a[u])?null==a?void 0:a[u]:void 0,s=c===e.field.length-1||Ge.isObject(null==s?void 0:s[u])?null==s?void 0:s[u]:void 0,i||(i=c<e.field.length-1?!Ge.isObject(a)||!Ge.isObject(s):!Ge.deepEqual(a,s)),c<e.field.length-1&&(d=d[u]=Ge.isObject(d[u])?d[u]:{}),c===e.field.length-1&&(d[u]=i?void 0!==s?s:r:d[u],d[u]=i?e.transfer.input(d[u],{helper:Ge,self:L(e)}):d[u])},n=(e,t)=>{const l=t.refModel,n=t.syncModel,o=Ge.isFunction(e.default.output)?e.default.output({helper:Ge,self:L(e)}):e.default.output;let r=E(l),i=n;for(const[a,s]of e.field.entries())if(a<e.field.length-1&&(i=Ge.isObject(null==i?void 0:i[s])?i[s]:i[s]={},r=Ge.isObject(null==r?void 0:r[s])?r[s]:r[s]={}),a===e.field.length-1){const t=I(i[s]),l=I(void 0!==(null==r?void 0:r[s])?r[s]:o),n=e.transfer.output(l,{helper:Ge,self:L(e)});Ge.deepEqual(t,n)||(i[s]=n),void 0===i[s]&&(i[s]=void 0)}},o=S(null),r=S(!0),i=R([]),a=R({}),s=S({}),d=S([]),c=(e,t)=>{const l=e.group,n=E(l.border)??e.border,o=[E(e.disabled),E(l.disabled)].includes(!0),r=[E(e.readonly),E(l.readonly)].includes(!0),i=t.slots[`s-header-${l.slot.replace(/^s-header-/,"")}`],a={border:!1!==n&&"no"!==n?void 0:"no"};return l.label||l.slot?w("div",k({class:"s-form-group-item-header"},a),[i?i({className:"s-form-group-item-header-title",group:l,disabled:o,readonly:r}):w("div",{class:"s-form-group-item-header-title"},[l.label])]):w("div",null,null)},u=(e,t)=>{const l=(t,l,n)=>{const o=[E(e.disabled),E(n.disabled),E(l.disabled),Ge.isBoolean(E(t.props.disabled))?E(t.props.disabled):E(t.disabled)].includes(!0),r=[E(e.readonly),E(n.readonly),E(l.readonly),Ge.isBoolean(E(t.props.readonly))?E(t.props.readonly):E(t.readonly)].includes(!0);return{...t.layer,disabled:r||o,"off-disabled":r&&!o||void 0}};return w("div",{class:"s-form-group-item-content"},[e.group.items.filter((e=>e.items.some((e=>E(e.render))))).map((n=>{let o;return K(w(ce,((t,l)=>({type:t.grid.type||l.grid.type||e.grid.type,align:t.grid.align||l.grid.align||e.grid.align,gutter:t.grid.gutter||l.grid.gutter||e.grid.gutter,justify:t.grid.justify||l.grid.justify||e.grid.justify}))(n,e.group),"function"==typeof(r=o=n.items.filter((e=>E(e.render))).map((o=>{var r;const i=e.group,a=[E(e.disabled),E(i.disabled),E(n.disabled),Ge.isBoolean(E(o.props.disabled))?E(o.props.disabled):E(o.disabled)].includes(!0),s=[E(e.readonly),E(i.readonly),E(n.readonly),Ge.isBoolean(E(o.props.readonly))?E(o.props.readonly):E(o.readonly)].includes(!0),d=t.slots[`s-component-${o.slot.replace(/^s-component-/,"")}`],c=q(),u=o.type,p=o.slots,f=((t,l,n)=>{const o=[E(e.disabled),E(n.disabled),E(l.disabled),Ge.isBoolean(E(t.props.disabled))?E(t.props.disabled):E(t.disabled)].includes(!0);return{disabled:[E(e.readonly),E(n.readonly),E(l.readonly),Ge.isBoolean(E(t.props.readonly))?E(t.props.readonly):E(t.readonly)].includes(!0)||o}})(o,n,i),b=Object.fromEntries(Object.entries({size:null==(r=c.componentSize)?void 0:r.value,...o.props,...f}).map((([e,t])=>[e,E(t)]))),h=o.field.slice(0,-1).reduce(((e,t)=>e[t]),e.model),g=o.field[o.field.length-1];return K(w(ue,((t,l,n)=>({span:t.grid.span||l.grid.span||n.grid.span||e.grid.span,pull:t.grid.pull||l.grid.pull||n.grid.pull||e.grid.pull,push:t.grid.push||l.grid.push||n.grid.push||e.grid.push,flex:t.grid.flex||l.grid.flex||n.grid.flex||e.grid.flex,order:t.grid.order||l.grid.order||n.grid.order||e.grid.order,offset:t.grid.offset||l.grid.offset||n.grid.offset||e.grid.offset,xxxl:t.grid.xxxl||l.grid.xxxl||n.grid.xxxl||e.grid.xxxl,xxl:t.grid.xxl||l.grid.xxl||n.grid.xxl||e.grid.xxl,xl:t.grid.xl||l.grid.xl||n.grid.xl||e.grid.xl,lg:t.grid.lg||l.grid.lg||n.grid.lg||e.grid.lg,md:t.grid.md||l.grid.md||n.grid.md||e.grid.md,sm:t.grid.sm||l.grid.sm||n.grid.sm||e.grid.sm,xs:t.grid.xs||l.grid.xs||n.grid.xs||e.grid.xs}))(o,n,i),{default:()=>[w(pe,k(l(o,n,i),{class:"s-form-group-item-template",rules:o.layer.rules||o.rules,label:o.layer.label||o.label,name:o.layer.name||o.field}),{default:()=>[d?d({col:o,row:n,group:i,attrs:b,slots:p,disabled:a,readonly:s,source:h,field:g}):w(dt,{type:u,attrs:b,disabled:a,readonly:s,source:h,field:g},p)]})]}),[[O,E(o.show)]])})))||"[object Object]"===Object.prototype.toString.call(r)&&!F(r)?o:{default:()=>[o]}),[[O,n.items.some((e=>E(e.show)))]]);var r}))])},p=(e,t)=>w("div",null,[e.groups.filter((e=>E(e.render))).map((l=>K(w("div",{class:"s-form-group-container"},[w(c,{group:l,grid:e.grid,model:e.model,border:e.border,readonly:e.readonly,disabled:e.disabled},t.slots),w(u,{group:l,grid:e.grid,model:e.model,readonly:e.readonly,disabled:e.disabled},t.slots)]),[[O,E(l.show)]])))]);return A(s,(()=>{const t=e.modelValue,l=E(t);if(l)for(const e of i.value)Ge.isNonEmptyArray(e.field)&&n(e,{syncModel:l,refModel:s})}),{deep:!0}),N((()=>{const t=e.modelValue||e.model||{},n=e.groups,o=a.value;a.value=Ge.deepClone(t),d.value=(e=>{var t,l,n,o;const r=[];let i={type:"AGroup",grid:{},slot:"",label:"",field:"",items:[],readonly:!1,disabled:!1,render:!0,show:!0},a={type:"ARow",grid:{},items:[],readonly:!1,disabled:!1};for(const s of e)if("AGroup"===s.type&&(i={type:"AGroup",grid:s.grid||i.grid||{},slot:s.slot||"",label:s.label||"",field:s.field||"",items:[],border:s.border,disabled:void 0!==s.disabled&&s.disabled,readonly:void 0!==s.readonly&&s.readonly,render:void 0===s.render||s.render,show:void 0===s.show||s.show},a={type:"ARow",grid:s.grid||a.grid||i.grid||{},items:[],readonly:!1,disabled:!1}),"ARow"===s.type&&(a={type:"ARow",grid:s.grid||a.grid||{},items:[],disabled:void 0!==s.disabled&&s.disabled,readonly:void 0!==s.readonly&&s.readonly}),"AGroup"!==s.type&&"ARow"!==s.type){const e={type:s.type,slot:s.slot||at[s.type].slot,label:s.label||at[s.type].label,field:Ge.isArray(s.field)?s.field:s.field.trim()?s.field.split(".").filter((e=>!!e.trim())):[],grid:s.grid||Ge.deepClone(at[s.type].grid),rules:s.rules||Ge.deepClone(at[s.type].rules),layer:s.layer||Ge.deepClone(at[s.type].layer),props:s.props||Ge.deepClone(at[s.type].props),slots:s.slots||Ge.deepClone(at[s.type].slots),default:{input:(null==(t=null==s?void 0:s.default)?void 0:t.input)||at[s.type].default.input,output:(null==(l=null==s?void 0:s.default)?void 0:l.output)||at[s.type].default.output},transfer:{input:(null==(n=null==s?void 0:s.transfer)?void 0:n.input)||at[s.type].transfer.input,output:(null==(o=null==s?void 0:s.transfer)?void 0:o.output)||at[s.type].transfer.output},readonly:void 0!==s.readonly?s.readonly:at[s.type].readonly,disabled:void 0!==s.disabled?s.disabled:at[s.type].disabled,render:void 0!==s.render?s.render:at[s.type].render,show:void 0!==s.show?s.show:at[s.type].show};a.items.includes(e)||a.items.push(e),i.items.includes(a)||i.items.push(a),r.includes(i)||r.push(i)}return r})(n),i.value=n.filter((e=>"AGroup"!==e.type&&"ARow"!==e.type)).map((e=>{var t,l,n,o;return{type:e.type,slot:e.slot||at[e.type].slot,label:e.label||at[e.type].label,field:Ge.isArray(e.field)?e.field:e.field.trim()?e.field.split(".").filter((e=>!!e.trim())):[],grid:e.grid||Ge.deepClone(at[e.type].grid),rules:e.rules||Ge.deepClone(at[e.type].rules),layer:e.layer||Ge.deepClone(at[e.type].layer),props:e.props||Ge.deepClone(at[e.type].props),slots:e.slots||Ge.deepClone(at[e.type].slots),default:{input:(null==(t=null==e?void 0:e.default)?void 0:t.input)||Ge.isFunction(at[e.type].default.input)?at[e.type].default.input:Ge.deepClone(at[e.type].default.input),output:(null==(l=null==e?void 0:e.default)?void 0:l.output)||Ge.isFunction(at[e.type].default.output)?at[e.type].default.output:Ge.deepClone(at[e.type].default.output)},transfer:{input:(null==(n=null==e?void 0:e.transfer)?void 0:n.input)||at[e.type].transfer.input,output:(null==(o=null==e?void 0:e.transfer)?void 0:o.output)||at[e.type].transfer.output},readonly:void 0!==e.readonly?e.readonly:at[e.type].readonly,disabled:void 0!==e.disabled?e.disabled:at[e.type].disabled,render:void 0!==e.render?e.render:at[e.type].render,show:void 0!==e.show?e.show:at[e.type].show}}));for(const e of i.value)Ge.isNonEmptyArray(e.field)&&l(e,{first:r.value,oldModel:o,newModel:a.value,refModel:s});r.value=!1})),t.expose({resetFields:e=>o.value.resetFields(e),clearValidate:e=>o.value.clearValidate(e),getFieldsValue:e=>o.value.getFieldsValue(e),scrollToField:(e,t)=>o.value.scrollToField(e,t),validateFields:(e,t)=>o.value.validateFields(e,t),validate:(e,t)=>o.value.validate(e,t)}),()=>{const l=S(e.grid||{}),n=S(e.border||!1),r=S(e.disabled||!1),i=S(e.readonly||!1),a=S(e.spinning||!1);return w("div",{class:"s-form-container"},[w(se,{spinning:a.value},{default:()=>[w(de,k(t.attrs,{model:s.value,rules:e.rules,ref:o}),{default:()=>{var e,o,a,c;return[null==(o=(e=t.slots).before)?void 0:o.call(e),w(p,{grid:l.value,border:n.value,model:s.value,groups:d.value,disabled:r.value,readonly:i.value},t.slots),null==(c=(a=t.slots).after)?void 0:c.call(a)]},...t.slots})]})])}},slots:{},methods:{}});function ht(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!F(e)}et(".s-tree-container {\n  --tree-background-color: 'transparent';\n}\n.s-tree-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: var(--tree-background-color, 'transparent');\n}\n.s-tree-container .ant-spin-container,\n.s-tree-container .ant-spin-nested-loading {\n  width: 100%;\n  height: 100%;\n}\n.s-tree-container .ant-tree,\n.s-tree-container .ant-tree-treenode,\n.s-tree-container .ant-spin-container,\n.s-tree-container .ant-spin-nested-loading,\n.s-tree-container .ant-tree-node-content-wrapper {\n  background-color: var(--tree-background-color, 'transparent');\n}\n.s-tree-container .ant-tree-switcher {\n  height: 24px;\n  background-color: transparent;\n}\n.s-tree-container .ant-tree-switcher > .anticon,\n.s-tree-container .ant-tree-switcher > .ant-tree-switcher-icon {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.s-tree-container .ant-tree-checkbox {\n  margin: 0 6px 0 0;\n  margin-inline-end: 6px;\n  margin-block-start: 0;\n}\n.s-tree-container .ant-tree .ant-tree-title,\n.s-tree-container .ant-tree .s-tree-title-node {\n  width: 100%;\n  height: 24px;\n  display: flex;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-label {\n  width: 100%;\n  height: 24px;\n  font-size: 14px;\n  line-height: 24px;\n  vertical-align: middle;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button {\n  flex: 0 0 auto;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  font-size: 15px;\n  line-height: 24px;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn {\n  vertical-align: top;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button:not(.always-show-title-button),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn:not(.always-show-title-button) {\n  display: none;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button.always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button.always-show-title-button .ant-btn,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .always-show-title-button .ant-btn,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .always-show-title-button .ant-btn {\n  display: inline-block;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .button:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .ant-btn:not(.ant-btn-background-ghost):not(:hover) {\n  border: none;\n}\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button button,\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button .ant-btn {\n  display: inline-block;\n}\n.s-tree-container .ant-tree.ant-tree-block-node .ant-tree-list-holder-inner .s-tree-title-node .s-tree-title-label {\n  width: 0;\n}\n.s-tree-container .ant-tree .ant-tree-treenode:has(.s-tree-title-root-node.s-tree-title-sticky-node) {\n  position: sticky;\n  z-index: 10;\n  top: 0;\n}\n.s-tree-container .ant-tree .ant-tree-list-holder-inner .ant-tree-node-content-wrapper {\n  width: 100%;\n  display: flex;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .ant-tree-node-content-wrapper .ant-tree-iconEle {\n  flex: 0 0 auto;\n  padding-right: 5px;\n  margin-left: -4px;\n}\n.s-tree-container .ant-tree .ant-tree-checkbox + span .ant-tree-iconEle {\n  flex: 0 0 auto;\n  padding-right: 5px;\n  margin-left: -4px;\n}\n.s-tree-container .ant-tree .ant-tree-list-holder-inner {\n  padding-right: 5px;\n  box-sizing: border-box;\n}\n");const gt=x({name:"STree",inheritAttrs:!1,props:{class:l().def(void 0),style:l().def(void 0),height:n().def(void 0),bgColor:t().def("transparent"),treeData:r().def((()=>[])),loadData:a().def(void 0),dropHandler:a().def(void 0),checkedKeys:r().def((()=>[])),selectedKeys:r().def((()=>[])),expandedKeys:r().def((()=>[])),selectedMode:t().def("default"),checkedMode:t().def("default"),filterField:t().def("title"),filterValue:l().def(""),fieldNames:o().def((()=>({}))),allowCheckedLevel:l().def(1),allowSelectedLevel:l().def(1),forceCleanWhenNotInTreeNodes:e().def(!1),forceCleanWhenRemoveTreeNode:e().def(!0),forceApplyDisableCheckbox:e().def(!1),forceApplyDisabled:e().def(!1),alwaysShowTitleButton:e().def(!1),allowSelectToCheck:e().def(!1),allowAutoCollapsed:e().def(!0),allowMultiExpanded:e().def(!0),allowAutoExpandLoad:e().def(!1),allowAutoExpanded:e().def(!0),defaultExpandAll:e().def(!1),allowUnExpanded:e().def(!1),allowUnSelected:e().def(!1),allowUnChecked:e().def(!0),iconfontUrl:t().def(void 0),iconPrefix:t().def(void 0),iconStyle:o().def(void 0),iconClass:o().def(void 0),selectable:e().def(!0),checkable:e().def(!1),blockNode:e().def(!1),draggable:e().def(!1),disabled:e().def(!1),showIcon:e().def(!1),showLine:e().def(!1),loading:e().def(!1),virtual:e().def(!0),tooltip:e().def(!0),sticky:e().def(!1)},emits:{check:e=>!0,select:e=>!0,expand:e=>!0,change:e=>!0,"update:treeData":e=>!0,"update:filterField":e=>!0,"update:filterValue":e=>!0,"update:expandedKeys":e=>!0,"update:selectedKeys":e=>!0,"update:checkedKeys":e=>!0},setup(e,t){const l={treeData:M([]),checkedKeys:M([]),selectedKeys:M([]),expandedKeys:M([]),treeContainer:R(null)},n={loadKeys:M([]),loadedKeys:M([]),checkedKeys:M([]),selectedKeys:M([]),expandedKeys:M([]),outCheckedKeys:M([]),halfCheckedKeys:M([]),parentTreeNodes:R({}),childTreeNodes:R({}),flatTreeNodes:M([]),linkTreeNodes:M([]),propTreeNodes:M([]),filterField:R("title"),filterValue:R("")},o={selectedNode:R(null),selectedLinkNode:R(null),checkedLinkNode:R(null),checkedHalfNode:R(null),checkedNode:R(null),selectedNodes:M([]),selectedLinkNodes:M([]),checkedLinkNodes:M([]),checkedHalfNodes:M([]),checkedNodes:M([])},r={selectedNode:R(null),selectedLinkNode:R(null),checkedLinkNode:R(null),checkedHalfNode:R(null),checkedNode:R(null),selectedNodes:M([]),selectedLinkNodes:M([]),checkedLinkNodes:M([]),checkedHalfNodes:M([]),checkedNodes:M([])},i={getVNodes:e=>Ge.isNonEmptyObject(e)&&e.type===W?Ge.isNonEmptyArray(e.children)?e:null:e,renderSwitcher(t){const l=n.loadKeys,o=n.expandedKeys,r=!(!0===t.isLeaf)&&Ge.isFunction(e.loadData),i=l.includes(t.key);return r&&i?"LoadingOutlined":e.showLine?Ge.isNonEmptyArray(t.children)||r&&!i?o.includes(t.key)?"MinusSquareOutlined":"PlusSquareOutlined":"FileOutlined":Ge.isNonEmptyArray(t.children)||r&&!i?"CaretDownOutlined":""},triggerSwitcher(e){const t=n.expandedKeys;n.flatTreeNodes.some((t=>t.key===e.key))&&(t.includes(e.key)?i.doTreePopExpanded([e.key]):i.doTreePushExpanded([e.key]))},cleanTreeStater(t,l){!0===t&&(n.loadKeys.splice(0,n.loadKeys.length),n.loadedKeys.splice(0,n.loadedKeys.length),n.checkedKeys.splice(0,n.checkedKeys.length),n.selectedKeys.splice(0,n.selectedKeys.length),n.expandedKeys.splice(0,n.expandedKeys.length),n.outCheckedKeys.splice(0,n.outCheckedKeys.length),n.halfCheckedKeys.splice(0,n.halfCheckedKeys.length),r.selectedNodes.splice(0,r.selectedNodes.length),r.selectedLinkNodes.splice(0,r.selectedLinkNodes.length),r.checkedLinkNodes.splice(0,r.checkedLinkNodes.length),r.checkedHalfNodes.splice(0,r.checkedHalfNodes.length),r.checkedNodes.splice(0,r.checkedNodes.length),r.selectedNode.value=null,r.selectedLinkNode.value=null,r.checkedLinkNode.value=null,r.checkedHalfNode.value=null,r.checkedNode.value=null,o.selectedNodes.splice(0,o.selectedNodes.length),o.selectedLinkNodes.splice(0,o.selectedLinkNodes.length),o.checkedLinkNodes.splice(0,o.checkedLinkNodes.length),o.checkedHalfNodes.splice(0,o.checkedHalfNodes.length),o.checkedNodes.splice(0,o.checkedNodes.length),o.selectedNode.value=null,o.selectedLinkNode.value=null,o.checkedLinkNode.value=null,o.checkedHalfNode.value=null,o.checkedNode.value=null);const i=n.checkedKeys,a=n.selectedKeys,s=n.expandedKeys,d=n.flatTreeNodes,c=n.outCheckedKeys,u=n.halfCheckedKeys,p=e.forceCleanWhenRemoveTreeNode,f=e.forceCleanWhenNotInTreeNodes;if(!1!==p&&(l&&!l.includes("checked")||(i.splice(0,n.checkedKeys.length,...i.filter((e=>d.some((t=>t.key===e))))),u.splice(0,n.halfCheckedKeys.length,...u.filter((e=>d.some((t=>t.key===e)))))),l&&!l.includes("selected")||a.splice(0,n.selectedKeys.length,...a.filter((e=>d.some((t=>t.key===e))))),l&&!l.includes("expanded")||s.splice(0,n.expandedKeys.length,...s.filter((e=>d.some((t=>t.key===e)))))),!l||l.includes("checked")){const e=Array.from(new Set([...i,...u,...c])),t=Array.from(new Set([...i,...c]));u.splice(0,u.length),c.splice(0,c.length,...e.filter((e=>!f&&!d.some((t=>t.key===e))))),i.splice(0,i.length,...t.filter((e=>d.some((t=>t.key===e&&(t.disabled||t.disableCheckbox||t.checkable)))))),i.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),c.splice(0,c.length,...Array.from(new Set(c))),i.splice(0,i.length,...Array.from(new Set(i)))}l&&!l.includes("selected")||(a.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),a.splice(0,a.length,...a.filter((e=>d.some((t=>t.key===e&&!t.disabled&&t.isSelectable))))),a.splice(0,a.length,...Array.from(new Set(a)))),l&&!l.includes("expanded")||(s.splice(0,s.length,...s.filter((e=>d.some((t=>t.key===e&&Ge.isNonEmptyArray(t.children)))))),s.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),s.splice(0,s.length,...Array.from(new Set(s))))},checkTreeStater(e,t){t&&!t.includes("checked")||i.doTreeOnlyChecked([...n.checkedKeys,...n.outCheckedKeys]),t&&!t.includes("selected")||i.doTreeSelected([...n.selectedKeys]),t&&!t.includes("expanded")||i.doTreeOnlyExpanded([...n.expandedKeys])},resetTreeStater(t,l){const a=n.checkedKeys,s=n.selectedKeys,d=n.expandedKeys,c=n.linkTreeNodes,u=n.flatTreeNodes,p=n.childTreeNodes,f=n.parentTreeNodes,b=n.halfCheckedKeys,h=r.selectedNodes,g=r.selectedLinkNodes,y=r.checkedLinkNodes,m=r.checkedHalfNodes,v=r.checkedNodes;if(!l||l.includes("checked")){if(v.splice(0,v.length),b.splice(0,b.length),y.splice(0,y.length),m.splice(0,m.length),a.splice(0,a.length,...a.filter((e=>u.some((t=>t.key===e))))),v.push(...a.map((e=>u.find((t=>t.key===e))))),Ge.isNonEmptyArray(v)){let e=[...v],t=[...v];if(Ge.isNonEmptyArray(t))for(;t.length>0;){const l=t.shift(),n=p.value[l.key]||[];!l.disabled&&!l.disableCheckbox&&e.push(...n.filter((t=>!t.disabled&&!t.disableCheckbox&&t.checkable&&!e.some((e=>e===t))))),t=t.filter((e=>!n.some((t=>e===t))))}if(Ge.isNonEmptyArray(e)){let t,l=[];for(v.splice(0,v.length,...e),e.sort(((e,t)=>e.level-t.level)),t=e.pop(),l=e.filter((e=>e.level===t.level)),e=e.filter((e=>e.level!==t.level));t;){if(t.parentNode){const n=t.parentNode,o=t.parentNode.children||[],r=(p.value[n.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)),i=(f.value[t.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)),a=i.map((e=>e.key))||[];r.every((e=>v.some((t=>t===e))))?n.disabled||n.disableCheckbox||!n.checkable||v.some((e=>e===n))||v.push(n):(r.some((e=>v.some((t=>t===e))))&&m.push(...i.filter((e=>!m.some((t=>e===t))))),v.splice(0,v.length,...v.filter((e=>e.disabled||e.disableCheckbox||e.checkable&&!a.includes(e.key))))),e.some((e=>e===n))||e.push(n),l=l.filter((e=>!o.some((t=>t===e))))}Ge.isNonEmptyArray(l)?t=l.pop():Ge.isNonEmptyArray(e)?(t=e.pop(),l=e.filter((e=>e.level===t.level)),e=e.filter((e=>e.level!==t.level))):t=void 0}}}Ge.isArray(v)&&v.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),Ge.isArray(m)&&m.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),Ge.isArray(y)&&(y.push(...v,...m),y.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t))))),n.checkedKeys.splice(0,n.checkedKeys.length,...v.map((e=>e.key))),n.halfCheckedKeys.splice(0,n.halfCheckedKeys.length,...m.map((e=>e.key))),r.checkedLinkNode.value=y[0]||null,r.checkedHalfNode.value=m[0]||null,r.checkedNode.value=v[0]||null,o.checkedLinkNodes.splice(0,o.checkedLinkNodes.length,...y.map((e=>e.referenceSourceNode))),o.checkedHalfNodes.splice(0,o.checkedHalfNodes.length,...m.map((e=>e.referenceSourceNode))),o.checkedNodes.splice(0,o.checkedNodes.length,...v.map((e=>e.referenceSourceNode))),o.checkedLinkNode.value=y[0]&&y[0].referenceSourceNode||null,o.checkedHalfNode.value=m[0]&&m[0].referenceSourceNode||null,o.checkedNode.value=v[0]&&v[0].referenceSourceNode||null}if(!l||l.includes("selected")){if(h.splice(0,h.length),g.splice(0,g.length),s.splice(0,s.length,...s.filter((e=>u.some((t=>t.key===e))))),h.push(...s.map((e=>u.find((t=>t.key===e))))),Ge.isEmptyArray(h)&&(!e.selectable||e.allowUnSelected||e.checkable&&e.allowSelectToCheck||1!==c.length||h.push(...u.filter((e=>1===e.level||2===e.level)).filter((e=>e.isSelectable&&!e.disabled)).slice(0,1)),!e.selectable||e.allowUnSelected||e.checkable&&e.allowSelectToCheck||!(c.length>1)||h.push(...u.filter((e=>1===e.level)).filter((e=>e.isSelectable&&!e.disabled)).slice(0,1))),Ge.isNonEmptyArray(h)&&(e.checkable&&e.allowSelectToCheck&&h.splice(0,h.length),!e.checkable||!e.allowSelectToCheck)){const e=u.find((e=>!e.disabled&&e.isSelectable&&h.some((t=>t===e)))),t=e&&(f.value[e.key]||[]).filter((e=>!e.disabled&&e.isSelectable));e&&!Ge.isNonEmptyArray(t)&&g.push(e),e&&Ge.isNonEmptyArray(t)&&g.push(...t,e)}Ge.isArray(h)&&h.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),Ge.isArray(g)&&g.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),n.selectedKeys.splice(0,n.selectedKeys.length,...h.map((e=>e.key))),r.selectedNode.value=h[0]||null,r.selectedLinkNode.value=g[0]||null,o.selectedLinkNodes.splice(0,o.selectedLinkNodes.length,...g.map((e=>e.referenceSourceNode))),o.selectedNodes.splice(0,o.selectedNodes.length,...h.map((e=>e.referenceSourceNode))),o.selectedLinkNode.value=g[0]&&g[0].referenceSourceNode||null,o.selectedNode.value=h[0]&&h[0].referenceSourceNode||null}l&&!l.includes("expanded")||(d.splice(0,d.length,...d.filter((e=>u.some((t=>t.key===e))))),Ge.isEmptyArray(d)&&(e.allowUnExpanded||1!==c.length||i.expandTreeNodes(c.map((e=>e.key)).slice(0,1))),Ge.isArray(d)&&d.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t)))),Ge.isArray(g)&&g.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))))},resetTreeNodes(e,t){Ge.isArray(e)||(e=n.propTreeNodes),e=e.map((e=>I(e)));const o=n.filterField,r=n.filterValue,a=n.linkTreeNodes,s=n.flatTreeNodes,d=n.childTreeNodes,c=n.parentTreeNodes,u=i.createTreeNodes(e,null),p=i.spreadTreeNodes(u,1/0);a.splice(0,a.length),s.splice(0,s.length),l.treeData.splice(0,l.treeData.length,...e),n.propTreeNodes.splice(0,n.propTreeNodes.length,...e),s.splice(0,s.length,...p),a.splice(0,a.length,...s.filter((e=>1===e.level))),d.value={},c.value={};for(const l of s){let e=l.parentNode;for(c.value[l.key]||(c.value[l.key]=[]),d.value[l.key]||(d.value[l.key]=[]);e;)c.value[l.key].unshift(e),d.value[e.key].push(l),e=e.parentNode}i.cleanTreeStater(t),i.checkTreeStater(t),i.filterTreeNodes({filterField:o.value,filterValue:r.value})},filterTreeNodes(e,t){var l;const o=[],r=n.flatTreeNodes,a=n.parentTreeNodes,s=!1!==t,d=e.filterField!==n.filterField.value||e.filterValue!==n.filterValue.value,c=n.filterValue.value=Ge.isString(e.filterValue)?e.filterValue.trim():e.filterValue,u=n.filterField.value="key"===e.filterField?e.filterField:"title";for(const n of r)n.titles.splice(0,n.titles.length);if(Ge.isNonEmptyString(c)||Ge.isFiniteNumber(c)){for(const e of r){const t=e.key,n=e.title.trim(),r=new RegExp(`(.*?)(${c})(.*)`);if("key"===u){const e=c===t||+c===t,l=a.value[t]?a.value[t].map((e=>e.key)):null;s&&d&&e&&l&&o.push(...l)}if("title"===u&&r.test(n)){const i=n.replace(r,"$1"),c=n.replace(r,"$2"),u=n.replace(r,"$3"),p=null==(l=a.value[t])?void 0:l.map((e=>e.key));s&&d&&p&&o.push(...p),e.titles.push(i,c,u)}}s||i.forceUpdate()}s&&d&&(i.doTreeAllCollapsed(),i.doTreePushExpanded(Array.from(new Set(o))))},reloadTreeNodes(o,r,a){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,u=n.flatTreeNodes,p=n.childTreeNodes,f=n.parentTreeNodes,b=Ge.isPrimitive(r)?u.find((e=>e.key===r)):void 0,h=b?[...b.children]:[...c],g=Ge.isPrimitive(r)&&!b,y=e.fieldNames.children||"children",m=e.fieldNames.key||"key";if(g)return;o=(o=(o=(o=o.filter((e=>!b||!f.value[b.key]||!f.value[b.key].some((t=>t.key===e[m]))))).filter((e=>!b||b.key!==e[m]))).filter((e=>!!e[m]||0===e[m]))).map((e=>I(e)));const v=n.loadKeys,x=n.loadedKeys,w=i.createTreeNodes(o,b),k=i.spreadTreeNodes(w,1/0),S=i.spreadTreeNodes(o,1/0),C=i.spreadTreeNodes(h,1/0),N=S.length!==C.length||!S.every(((e,t)=>e===C[t].referenceSourceNode));if(Ge.isNonEmptyObject(b)||(v.splice(0,v.length),x.splice(0,x.length),c.splice(0,c.length),u.splice(0,u.length),l.treeData.splice(0,l.treeData.length,...o),n.propTreeNodes.splice(0,n.propTreeNodes.length,...o)),Ge.isNonEmptyObject(b)){const e=p.value[b.key];b.isLeaf=0===w.length,b.referenceSourceNode[y]=o,b.children=w,b.scopedSlots={icon:1===b.level?"iconRoot":Ge.isNonEmptyArray(b.children)?"iconParent":"iconLeaf",title:1===b.level?"titleRoot":Ge.isNonEmptyArray(b.children)?"titleParent":"titleLeaf"},Ge.isNonEmptyArray(b.referenceSourceNode[y])||Object.hasOwn(b.referenceSourceNode,y)&&delete b.referenceSourceNode[y],v.splice(0,v.length,...v.filter((e=>e!==b.key))),v.splice(0,v.length,...v.filter((t=>!(null==e?void 0:e.map((e=>e.key)).includes(t))))),x.splice(0,x.length,...x.filter((t=>!(null==e?void 0:e.map((e=>e.key)).includes(t))))),v.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t)))),x.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t))))}if(Ge.isNonEmptyObject(b)){const e=(p.value[b.key]||[]).filter((e=>u.some((t=>t===e))));u.splice(0,u.length,...u.filter((t=>!e.some((e=>e===t))))),u.splice(u.findIndex((e=>e===b))+1,0,...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))}if(Ge.isNonEmptyObject(b)||(u.splice(0,u.length,...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))),N){p.value={},f.value={};for(const e of u){let t=e.parentNode;for(f.value[e.key]||(f.value[e.key]=[]),p.value[e.key]||(p.value[e.key]=[]);t;)f.value[e.key].unshift(t),p.value[t.key].push(e),t=t.parentNode}i.cleanTreeStater(a),i.checkTreeStater(a),i.filterTreeNodes({filterField:s.value,filterValue:d.value}),t.emit("update:treeData",[...I(E(l.treeData))]),t.emit("change",{type:"reload",loadKeys:[...v],loadedKeys:[...x],reloadNodes:[{parentNode:(null==b?void 0:b.referenceSourceNode)||null,oldChildNodes:h.map((e=>e.referenceSourceNode)),newChildNodes:(b?b.children:c).map((e=>e.referenceSourceNode)),rootChildNodes:c.map((e=>e.referenceSourceNode))}],appendNodes:[],removeNodes:[]})}},appendTreeNodes(o,r,a){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,u=n.flatTreeNodes,p=n.parentTreeNodes,f=Ge.isPrimitive(r)?u.find((e=>e.key===r)):void 0,b=f?[...f.children]:[...c],h=Ge.isPrimitive(r)&&!f,g=e.fieldNames.children||"children",y=e.fieldNames.key||"key";if(h)return;o=(o=(o=(o=(o=o.filter((e=>!f||!p.value[f.key]||!p.value[f.key].some((t=>t.key===e[y]))))).filter((e=>!b.some((t=>t.key===e[y]))))).filter((e=>!f||f.key!==e[y]))).filter((e=>!!e[y]||0===e[y]))).map((e=>I(e)));const m=n.loadKeys,v=n.loadedKeys,x=n.childTreeNodes,w=i.createTreeNodes(o,f),k=i.spreadTreeNodes(w,1/0),S=Ge.isNonEmptyArray(o);if(Ge.isNonEmptyObject(f)||(l.treeData.push(...o),n.propTreeNodes.push(...o)),Ge.isNonEmptyObject(f)&&(f.isLeaf=0===f.children.length&&0===w.length,f.referenceSourceNode[g]=f.referenceSourceNode[g]||[],f.referenceSourceNode[g].push(...o),f.children.push(...w),f.scopedSlots={icon:1===f.level?"iconRoot":Ge.isNonEmptyArray(f.children)?"iconParent":"iconLeaf",title:1===f.level?"titleRoot":Ge.isNonEmptyArray(f.children)?"titleParent":"titleLeaf"},m.splice(0,m.length,...m.filter((e=>e!==f.key))),m.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t)))),v.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t))))),Ge.isNonEmptyObject(f)){const e=(x.value[f.key]||[]).filter((e=>u.some((t=>t===e))));u.splice(0,u.length,...u.filter((t=>!e.some((e=>e===t))))),u.splice(u.findIndex((e=>e===f))+1,0,...e,...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))}if(Ge.isNonEmptyObject(f)||(u.push(...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))),S){x.value={},p.value={};for(const e of u){let t=e.parentNode;for(p.value[e.key]||(p.value[e.key]=[]),x.value[e.key]||(x.value[e.key]=[]);t;)p.value[e.key].unshift(t),x.value[t.key].push(e),t=t.parentNode}i.cleanTreeStater(a),i.checkTreeStater(a),i.filterTreeNodes({filterField:s.value,filterValue:d.value}),t.emit("update:treeData",[...I(E(l.treeData))]),t.emit("change",{type:"append",loadKeys:[...m],loadedKeys:[...v],appendNodes:[{parentNode:(null==f?void 0:f.referenceSourceNode)||null,rootChildNodes:c.map((e=>e.referenceSourceNode)),appendChildNodes:[...o]}],removeNodes:[],reloadNodes:[]})}},removeTreeNodes(o,r,a){const s=n.linkTreeNodes,d=n.flatTreeNodes,c=n.childTreeNodes,u=n.parentTreeNodes,p=Ge.isPrimitive(r)?d.find((e=>e.key===r)):void 0,f=p?[...p.children]:[...s],b=Ge.isPrimitive(r)&&!p,h=e.fieldNames.children||"children",g=e.fieldNames.key||"key";if(b)return;o=(o=(o=(o=o.filter((e=>!p||p.key!==e[g]))).filter((e=>f.some((t=>t.key===e[g]))))).map((e=>d.find((t=>t.key===e[g])).referenceSourceNode))).map((e=>I(e)));const y=n.loadKeys,m=n.loadedKeys,v=o.map((e=>d.find((t=>t.key===e[g])))),x=i.spreadTreeNodes(v,1/0),w=Ge.isNonEmptyArray(x);if(Ge.isNonEmptyArray(x)){if(Ge.isNonEmptyArray(x)){for(const e of v){const t=e.key,l=c.value[t]||[];m.splice(0,m.length,...m.filter((e=>e!==t&&!l.some((t=>t.key===e))))),y.splice(0,y.length,...y.filter((e=>e!==t&&!l.some((t=>t.key===e)))))}y.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),m.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t))))}if(Ge.isNonEmptyObject(p)||(l.treeData.splice(0,l.treeData.length,...l.treeData.filter((e=>!v.some((t=>t.key===e[g]))))),n.propTreeNodes.splice(0,n.propTreeNodes.length,...n.propTreeNodes.filter((e=>!v.some((t=>t.key===e[g])))))),Ge.isNonEmptyObject(p)&&(Ge.isNonEmptyArray(p.referenceSourceNode[h])&&(p.referenceSourceNode[h]=p.referenceSourceNode[h].filter((e=>!v.some((t=>t.key===e[g]))))),Ge.isNonEmptyArray(p.referenceSourceNode[h])||Object.hasOwn(p.referenceSourceNode,h)&&delete p.referenceSourceNode[h],p.children.splice(0,p.children.length,...p.children.filter((e=>!v.some((t=>t===e))))),p.isLeaf=0===p.children.length,p.scopedSlots={icon:1===p.level?"iconRoot":Ge.isNonEmptyArray(p.children)?"iconParent":"iconLeaf",title:1===p.level?"titleRoot":Ge.isNonEmptyArray(p.children)?"titleParent":"titleLeaf"}),Ge.isNonEmptyObject(p)&&(d.splice(0,d.length,...d.filter((e=>!x.some((t=>t===e))))),s.splice(0,s.length,...d.filter((e=>1===e.level)))),Ge.isNonEmptyObject(p)||(d.splice(0,d.length,...d.filter((e=>!x.some((t=>t===e))))),s.splice(0,s.length,...d.filter((e=>1===e.level)))),w){c.value={},u.value={};for(const e of d){let t=e.parentNode;for(u.value[e.key]||(u.value[e.key]=[]),c.value[e.key]||(c.value[e.key]=[]);t;)u.value[e.key].unshift(t),c.value[t.key].push(e),t=t.parentNode}i.cleanTreeStater(a),i.checkTreeStater(a),t.emit("update:treeData",[...I(E(l.treeData))]),t.emit("change",{type:"remove",loadKeys:[...y],loadedKeys:[...m],removeNodes:[{parentNode:(null==p?void 0:p.referenceSourceNode)||null,rootChildNodes:s.map((e=>e.referenceSourceNode)),removeChildNodes:[...o]}],appendNodes:[],reloadNodes:[]})}}},changeTreeNodes(o,r,a){var s;const d=n.filterField,c=n.filterValue,u=n.linkTreeNodes,p=n.flatTreeNodes,f=n.childTreeNodes,b=n.parentTreeNodes,h=Ge.isPrimitive(r)?p.find((e=>e.key===r)):void 0,g=h?[...h.children]:[...u],y=Ge.isPrimitive(r)&&!h,m=e.fieldNames.children||"children",v=e.fieldNames.key||"key";if(y)return;o=(o=(o=(o=o.map((e=>{var t;return(null==(t=p.find((t=>t.key===e[v])))?void 0:t.referenceSourceNode)||e}))).filter((e=>!h||!b.value[h.key]||!b.value[h.key].some((t=>t.key===e[v]))))).filter((e=>!h||h.key!==e[v]))).map((e=>I(E(e))));const x=n.loadKeys,w=n.loadedKeys,k=[],S=[],C=Array.from(new Set([...o.filter((e=>!!e[v]||0===e[v]))])),N=Array.from(new Set([...o.filter((e=>p.some((t=>t.referenceSourceNode===e)))),...g.map((e=>e.referenceSourceNode))])),T=Array.from(new Set(o.filter((e=>g.some((t=>t.referenceSourceNode===e)))).map((e=>p.find((t=>t.referenceSourceNode===e))))));if(Ge.isNonEmptyArray(N)){N.sort(((e,t)=>p.findIndex((t=>t.key===e[v]))-p.findIndex((e=>e.key===t[v]))));for(const e of N.reverse()){const t=p.find((t=>t.key===e[v])),o=t&&(null==(s=t.parentNode)?void 0:s.referenceSourceNode)||null,r=t&&t.parentNode||null,a=i.spreadTreeNodes([t],1/0);if(Ge.isNonEmptyObject(r)||(l.treeData.splice(0,l.treeData.length,...l.treeData.filter((t=>e!==t))),n.propTreeNodes.splice(0,n.propTreeNodes.length,...n.propTreeNodes.filter((t=>e!==t)))),Ge.isNonEmptyObject(r)&&(Ge.isNonEmptyArray(r.referenceSourceNode[m])&&(r.referenceSourceNode[m]=r.referenceSourceNode[m].filter((t=>e!==t))),Ge.isNonEmptyArray(r.referenceSourceNode[m])||Object.hasOwn(r.referenceSourceNode,m)&&delete r.referenceSourceNode[m],r.children.splice(0,r.children.length,...r.children.filter((e=>t!==e))),r.isLeaf=0===r.children.length,r.scopedSlots={icon:1===r.level?"iconRoot":Ge.isNonEmptyArray(r.children)?"iconParent":"iconLeaf",title:1===r.level?"titleRoot":Ge.isNonEmptyArray(r.children)?"titleParent":"titleLeaf"}),Ge.isNonEmptyObject(r)&&(p.splice(0,p.length,...p.filter((e=>!a.some((t=>t===e))))),u.splice(0,u.length,...p.filter((e=>1===e.level)))),Ge.isNonEmptyObject(r)||(p.splice(0,p.length,...p.filter((e=>!a.some((t=>t===e))))),u.splice(0,u.length,...p.filter((e=>1===e.level)))),(C.every((t=>t!==e))||!g.some((t=>t.referenceSourceNode===e)))&&(S.some((e=>e.parentNode===o))||S.push({parentNode:o,removeChildNodes:[]}),S.some((e=>e.parentNode===o)))){const t=S.find((e=>e.parentNode===o));!t.removeChildNodes.includes(e)&&t.removeChildNodes.push(e)}}}if(Ge.isNonEmptyArray(C)){C.sort(((e,t)=>p.findIndex((t=>t.key===e[v]))-p.findIndex((e=>e.key===t[v]))));const e=C.map((e=>T.find((t=>t.referenceSourceNode===e))||i.createTreeNodes([e],h)[0])),t=C.filter((e=>g.every((t=>t.referenceSourceNode!==e)))),r=i.spreadTreeNodes(e,1/0);if(Ge.isNonEmptyObject(h)||(l.treeData.push(...C),n.propTreeNodes.push(...C)),Ge.isNonEmptyObject(h)&&(h.isLeaf=0===h.children.length&&0===e.length,h.referenceSourceNode[m]=h.referenceSourceNode[m]||[],h.referenceSourceNode[m].push(...o),h.children.push(...e),h.scopedSlots={icon:1===h.level?"iconRoot":Ge.isNonEmptyArray(h.children)?"iconParent":"iconLeaf",title:1===h.level?"titleRoot":Ge.isNonEmptyArray(h.children)?"titleParent":"titleLeaf"}),Ge.isNonEmptyObject(h)){const e=(f.value[h.key]||[]).filter((e=>p.some((t=>t===e))));p.splice(0,p.length,...p.filter((t=>!e.some((e=>e===t))))),p.splice(p.findIndex((e=>e===h))+1,0,...e,...r),u.splice(0,u.length,...p.filter((e=>1===e.level)))}Ge.isNonEmptyObject(h)||(p.push(...r),u.splice(0,u.length,...p.filter((e=>1===e.level)))),Ge.isNonEmptyArray(t)&&k.push({parentNode:(null==h?void 0:h.referenceSourceNode)||null,appendChildNodes:[...t]})}if(Ge.isNonEmptyArray(N)||Ge.isNonEmptyArray(C)){f.value={},b.value={};for(const e of p){let t=e.parentNode;for(b.value[e.key]||(b.value[e.key]=[]),f.value[e.key]||(f.value[e.key]=[]);t;)b.value[e.key].unshift(t),f.value[t.key].push(e),t=t.parentNode}i.cleanTreeStater(a),i.checkTreeStater(a),i.filterTreeNodes({filterField:d.value,filterValue:c.value}),x.sort(((e,t)=>p.findIndex((t=>t.key===e))-p.findIndex((e=>e.key===t)))),w.sort(((e,t)=>p.findIndex((t=>t.key===e))-p.findIndex((e=>e.key===t)))),t.emit("update:treeData",[...I(E(l.treeData))]),t.emit("change",{type:"change",loadKeys:[...x],loadedKeys:[...w],appendNodes:[...k.map((e=>({...e,rootChildNodes:u.map((e=>e.referenceSourceNode))})))],removeNodes:[...S.map((e=>({...e,rootChildNodes:u.map((e=>e.referenceSourceNode))})))],reloadNodes:[{parentNode:(null==h?void 0:h.referenceSourceNode)||null,oldChildNodes:g.map((e=>e.referenceSourceNode)),newChildNodes:(h?h.children:u).map((e=>e.referenceSourceNode)),rootChildNodes:u.map((e=>e.referenceSourceNode))}]})}},createTreeNodes(t,l){const n=Ge.isNonEmptyObject(l)&&l.level+1||1,o=Ge.isNonEmptyObject(l)?l:null,r=[];if(!Ge.isNonEmptyArray(t))return r;for(const a of t){const t=a[e.fieldNames.key||"key"],l=a[e.fieldNames.icon||"icon"],s=a[e.fieldNames.title||"title"],d=a[e.fieldNames.isLeaf||"isLeaf"],c=a[e.fieldNames.children||"children"],u=!0===a[e.fieldNames.alwaysShowTitleButton||"alwaysShowTitleButton"],p=!0===a[e.fieldNames.forceApplyDisableCheckbox||"forceApplyDisableCheckbox"],f=!0===a[e.fieldNames.forceApplyDisabled||"forceApplyDisabled"],b=!0===a[e.fieldNames.disableCheckbox||"disableCheckbox"],h=!0===a[e.fieldNames.disabled||"disabled"],g=!Ge.isNonEmptyArray(c)&&!1!==d,y={scopedSlots:{icon:1===n?"iconRoot":g?"iconLeaf":"iconParent",title:1===n?"titleRoot":g?"titleLeaf":"titleParent"},key:t,icon:Ge.isString(l)?w(Xe,{type:l,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,class:e.iconClass,style:e.iconStyle},null):null,level:n,title:s,titles:[],isLeaf:g,parentNode:o,alwaysShowTitleButton:u,forceApplyDisabled:f||!0===e.forceApplyDisabled||!0===(null==o?void 0:o.forceApplyDisabled),forceApplyDisableCheckbox:f||p||!0===e.forceApplyDisabled||!0===(null==o?void 0:o.forceApplyDisableCheckbox),checkable:Ge.isBoolean(a.checkable)?a.checkable:Ge.isFunction(e.allowCheckedLevel)?!1!==e.allowCheckedLevel(n,a):n>=e.allowCheckedLevel,isSelectable:Ge.isBoolean(a.selectable)?a.selectable:Ge.isFunction(e.allowSelectedLevel)?!1!==e.allowSelectedLevel(n,a):n>=e.allowSelectedLevel,disableCheckbox:h||b||f||p||!!(e.forceApplyDisabled||e.forceApplyDisableCheckbox||(null==o?void 0:o.forceApplyDisabled)||(null==o?void 0:o.forceApplyDisableCheckbox))&&!0===(null==o?void 0:o.disableCheckbox),disabled:h||f||!(!e.forceApplyDisabled&&!(null==o?void 0:o.forceApplyDisabled))&&!0===(null==o?void 0:o.disabled),referenceSourceNode:a,selectable:!0,children:[]};Ge.isNonEmptyArray(c)&&(y.children=i.createTreeNodes(c,y)),r.push(y)}return r},spreadTreeNodes(t,l){const n=[],o=t.map((e=>I(e)));for(const r of o){const t=Object.hasOwn(r,"referenceSourceNode")?"children":e.fieldNames.children||"children";Ge.isFiniteNumber(l)?l-=1:l=1/0,Ge.isNonEmptyArray(r[t])?n.push(r,...i.spreadTreeNodes(r[t],l)):n.push(r)}return n},pickUpperTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.parentTreeNodes,i=o.find((t=>t.key===e)),a=r.value[e];return i&&a&&(t=Ge.isFiniteNumber(t)?i.level-t:0,l.push(...a.filter((e=>e.level>=t)).map((e=>e.referenceSourceNode)))),l},pickLowerTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.childTreeNodes,i=o.find((t=>t.key===e)),a=r.value[e];return i&&a&&(t=Ge.isFiniteNumber(t)?i.level+t:1/0,l.push(...a.filter((e=>e.level<=t)).map((e=>e.referenceSourceNode)))),l},pickMatchTreeNode(e,t){const l=n.flatTreeNodes.find((t=>t.key===e));return!l||Ge.isNumber(t)&&l.level!==t?null:l.referenceSourceNode},expandTreeNodes(t){const l=n.loadKeys,o=n.expandedKeys,r=n.flatTreeNodes,a=n.childTreeNodes;if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>r.some((t=>t.key===e)))),t=Array.from(new Set(t))),Ge.isNonEmptyArray(t)){if(Ge.isNonEmptyArray(t))for(const n of t){const t=r.find((e=>n===e.key)),i=!1===t.isLeaf&&Ge.isFunction(e.loadData),a=l.includes(n);(Ge.isNonEmptyArray(t.children)||i&&!a)&&(o.includes(t.key)||o.push(t.key))}if(Ge.isNonEmptyArray(o)&&(o.sort(((e,t)=>r.findIndex((t=>t.key===e))-r.findIndex((e=>e.key===t)))),Ge.isFunction(e.loadData))){const e=o.filter((e=>{var t,n;return!l.includes(e)&&!Ge.isNonEmptyArray(null==(t=r.find((t=>t.key===e)))?void 0:t.children)&&!1===(null==(n=r.find((t=>t.key===e)))?void 0:n.isLeaf)}));for(const t of[...e])e.splice(0,e.length,...e.filter((e=>!a.value[t]||!a.value[t].some((t=>e===t.key)))));Ge.isNonEmptyArray(e)&&i.doTreeLoad(e)}o.splice(0,o.length,...o.filter((e=>r.some((t=>t.key===e&&Ge.isNonEmptyArray(t.children)))))),o.sort(((e,t)=>r.findIndex((t=>t.key===e))-r.findIndex((e=>e.key===t))))}},collapseTreeNodes(e){const t=n.expandedKeys,l=n.flatTreeNodes;Ge.isNonEmptyArray(t)&&(Ge.isNonEmptyArray(e)&&(e=e.filter((e=>l.some((t=>t.key===e)))),e=Array.from(new Set(e))),Ge.isNonEmptyArray(e)&&(t.splice(0,t.length,...t.filter((t=>!e.includes(t)&&l.some((e=>e.key===t&&Ge.isNonEmptyArray(e.children)))))),t.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))))))},doTreeAllExpanded(){n.expandedKeys.length===n.flatTreeNodes.length&&n.flatTreeNodes.every((e=>n.expandedKeys.includes(e.key)))||(i.expandTreeNodes(n.flatTreeNodes.filter((t=>Ge.isNonEmptyArray(t.children)||e.allowAutoExpanded&&e.allowAutoExpandLoad&&!1===t.isLeaf)).map((e=>e.key))),i.cleanTreeStater(!1,["expanded"]),i.resetTreeStater(!1,["expanded"]))},doTreeAllCollapsed(){n.expandedKeys.length>0&&(i.collapseTreeNodes(n.expandedKeys),i.cleanTreeStater(!1,["expanded"]),i.resetTreeStater(!1,["expanded"]))},doTreeToggleExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=[...n.expandedKeys],s=[];if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>l.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isArray(t))return;const d=l.filter((e=>t.some((t=>e.key===t))&&a.some((t=>e.key===t)))),c=l.filter((e=>t.some((t=>e.key===t))&&!a.some((t=>e.key===t)))),u=d.map((e=>e.key)),p=c.map((e=>e.key));if(Ge.isNonEmptyArray(d))for(const n of u)e.allowAutoCollapsed?a.splice(0,a.length,...a.filter((e=>e!==n&&!(o.value[n]||[]).some((t=>t.key===e))))):a.splice(0,a.length,...a.filter((e=>e!==n)));if(Ge.isNonEmptyArray(p))for(const n of p){const t=(r.value[n]||[]).map((e=>e.key));if(s.push(n,...t),e.allowAutoExpanded){let t=!0,o=!0,r=l.find((e=>e.key===n));for(;r&&(o||t);)s.push(r.key),r=1===r.children.length?r.children[0]:void 0,o=!!r&&!Ge.isNonEmptyArray(r.children)&&e.allowAutoExpandLoad&&!1===r.isLeaf&&Ge.isFunction(e.loadData),t=!!r&&Ge.isNonEmptyArray(r.children)}}s.push(...Array.from(new Set(a))),i.doTreeOnlyExpanded(Array.from(new Set(s)))},doTreeOnlyExpanded(t){const l=n.loadKeys,o=n.expandedKeys,r=n.linkTreeNodes,a=n.flatTreeNodes,s=n.childTreeNodes,d=n.parentTreeNodes;if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>a.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isArray(t))return;const c=a.filter((e=>o.some((t=>e.key===t))&&t.some((t=>e.key===t)))),u=a.filter((e=>!o.some((t=>e.key===t))&&t.some((t=>e.key===t)))),p=a.filter((e=>o.some((t=>e.key===t))&&!t.some((t=>e.key===t)))),f=c.map((e=>e.key)),b=u.map((e=>e.key)),h=p.map((e=>e.key)),g=[...b,...f],y=[],m=[];if(o.splice(0,o.length),b.sort(((e,t)=>a.findIndex((t=>t.key===e))-a.findIndex((e=>e.key===t)))),h.sort(((e,t)=>a.findIndex((t=>t.key===e))-a.findIndex((e=>e.key===t)))),g.sort(((e,t)=>a.findIndex((t=>t.key===e))-a.findIndex((e=>e.key===t)))),e.allowUnExpanded||1!==r.length||(y.push(r.map((e=>e.key))[0]),m.push(r.map((e=>e.key))[0])),Ge.isNonEmptyArray(g)){if(g.splice(0,g.length,...Array.from(new Set(g))),g.sort(((e,t)=>a.findIndex((t=>t.key===e))-a.findIndex((e=>e.key===t)))),!e.allowMultiExpanded){const t=g.find((t=>{const n=a.find((e=>e.key===t)),o=Ge.isNonEmptyArray(n.children),r=!1===n.isLeaf&&Ge.isFunction(e.loadData),i=!0===l.includes(t);return o||r&&!i}));if(t){m.push(t);for(const e of g){const l=s.value[t]||[];if((d.value[t]||[]).some((t=>t.key===e)))m.push(e);else if(l.some((t=>t.key===e))){const t=(d.value[e]||[]).map((e=>e.key));m.every((e=>t.includes(e)))&&m.push(e)}}}}if(e.allowMultiExpanded)for(const t of g){const n=!1===a.find((e=>e.key===t)).isLeaf&&Ge.isFunction(e.loadData),o=!0===l.includes(t),r=s.value[t]||[];(Ge.isNonEmptyArray(r)||n&&!o)&&((Ge.isNonEmptyArray(r)||n&&!o)&&m.push(t))}y.splice(0,y.length,...Array.from(new Set(m))),m.splice(0,m.length,...Array.from(new Set(m)))}if(Ge.isNonEmptyArray(m)){if(m.sort(((e,t)=>a.findIndex((t=>t.key===e))-a.findIndex((e=>e.key===t)))),e.allowAutoCollapsed)for(;y.length>0;){const e=y.pop(),t=d.value[e];t&&!t.every((e=>m.includes(e.key)))&&m.splice(m.indexOf(e),1)}i.expandTreeNodes(m)}i.cleanTreeStater(!1,["expanded"]),i.resetTreeStater(!1,["expanded"])},doTreePushExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=[...n.expandedKeys],s=[];if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>n.flatTreeNodes.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const d=l.filter((e=>t.includes(e.key))).map((e=>e.key));if(Ge.isNonEmptyArray(d)){d.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));for(const t of d){const n=(r.value[t]||[]).map((e=>e.key));if(s.push(t,...n),e.allowAutoExpanded){let n=!0,o=!0,r=l.find((e=>e.key===t));for(;r&&(o||n);)s.push(r.key),r=1===r.children.length?r.children[0]:void 0,o=!!r&&!Ge.isNonEmptyArray(r.children)&&e.allowAutoExpandLoad&&!1===r.isLeaf&&Ge.isFunction(e.loadData),n=!!r&&Ge.isNonEmptyArray(r.children)}}if(!e.allowMultiExpanded){const e=[];for(;d.length>0;){const t=d.shift(),l=(r.value[t]||[]).map((e=>e.key));(0===e.length||l.every((t=>e.includes(t))))&&e.push(...[t,...l].filter((t=>!e.includes(t))))}e.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));const t=e.pop(),n=(o.value[t]||[]).map((e=>e.key)),i=(r.value[t]||[]).map((e=>e.key));s.splice(0,s.length,...s.filter((e=>e===t||n.includes(e)||i.includes(e)))),a.splice(0,a.length,...a.filter((e=>e===t||n.includes(e)||i.includes(e))))}}s.push(...Array.from(new Set(a))),i.doTreeOnlyExpanded(Array.from(new Set(s)))},doTreePopExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.expandedKeys];if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>l.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const a=l.filter((e=>t.includes(e.key))).map((e=>e.key));for(const n of a)e.allowAutoCollapsed?r.splice(0,r.length,...r.filter((e=>e!==n&&!(o.value[n]||[]).some((t=>t.key===e))))):r.splice(0,r.length,...r.filter((e=>e!==n)));i.doTreeOnlyExpanded(Array.from(new Set(r)))},doTreeAllChecked(){if(!0===e.disabled)return;if(!0!==e.checkable)return;const t=n.flatTreeNodes.filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable));n.checkedKeys.push(...t.map((e=>e.key))),n.checkedKeys.splice(0,n.checkedKeys.length,...Array.from(n.checkedKeys)),i.cleanTreeStater(!1,["checked"]),i.resetTreeStater(!1,["checked"])},doTreeAllUnChecked(){if(!0===e.disabled)return;if(!0!==e.checkable)return;const t=n.flatTreeNodes.filter((e=>!e.disabled&&!e.disableCheckbox));n.checkedKeys.splice(0,n.checkedKeys.length,...n.checkedKeys.filter((e=>n.outCheckedKeys.includes(e)||!t.some((t=>t.key===e))))),n.checkedKeys.splice(0,n.checkedKeys.length,...Array.from(n.checkedKeys)),i.cleanTreeStater(!1,["checked"]),i.resetTreeStater(!1,["checked"])},doTreeToggleChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],a=t.filter((e=>l.some((t=>t.key===e))&&r.includes(e))),s=t.filter((e=>l.some((t=>t.key===e))&&!r.includes(e))),d=t.filter((e=>!l.some((t=>t.key===e))&&r.includes(e))),c=t.filter((e=>!l.some((t=>t.key===e))&&!r.includes(e)));for(const e of s)r.push(e,...(o.value[e]||[]).map((e=>e.key)).filter((e=>!r.includes(e))));for(const e of c)r.push(e);for(const e of d)r.splice(0,r.length,...r.filter((t=>t!==e)));for(const e of a)r.splice(0,r.length,...r.filter((t=>t!==e&&!(o.value[e]||[]).some((e=>e.key===t)))));i.doTreeOnlyChecked(Array.from(new Set(r)))},doTreeOnlyChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=[...n.checkedKeys],s=[...n.outCheckedKeys],d=[...a,...s],c=l.filter((e=>d.some((t=>e.key===t))&&(e.disabled||e.disableCheckbox))),u=l.filter((e=>t.some((t=>e.key===t))&&!e.disabled&&!e.disableCheckbox&&e.checkable)),p=[...Array.from(new Set(u)).map((e=>e.key)),...t.filter((e=>!l.some((t=>t.key===e))))],f=[...Array.from(new Set(c)).map((e=>e.key))],b=Array.from(new Set([...f,...p]));if(Ge.isNonEmptyArray(b)||n.checkedKeys.splice(0,n.checkedKeys.length),Ge.isNonEmptyArray(b)){for(b.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));p.length>0;){const e=p.pop();(e&&o.value[e]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)).map((e=>e.key)).every((e=>b.includes(e)))||b.splice(0,b.length,...b.filter((t=>t!==e)))}n.checkedKeys.splice(0,n.checkedKeys.length,...b)}if(Ge.isNonEmptyArray(b)&&(n.outCheckedKeys.splice(0,n.outCheckedKeys.length,...n.checkedKeys.filter((e=>!l.some((t=>t.key===e))))),n.checkedKeys.splice(0,n.checkedKeys.length,...n.checkedKeys.filter((e=>l.some((t=>t.key===e)))))),Ge.isEmptyArray(n.checkedKeys)&&!e.allowUnChecked){a.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));const e=a.filter((e=>l.some((t=>t.key===e)))).pop(),t=e&&r.value[e]&&r.value[e].map((e=>e.key))||[];e&&n.checkedKeys.push(e,...a.filter((e=>t.includes(e))))}i.cleanTreeStater(!1,["checked"]),i.resetTreeStater(!1,["checked"])},doTreePushChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],a=t.filter((e=>l.some((t=>t.key===e))&&!r.includes(e))),s=t.filter((e=>!l.some((t=>t.key===e))&&!r.includes(e)));for(const e of a)r.push(e,...(o.value[e]||[]).map((e=>e.key)).filter((e=>!r.includes(e))));for(const e of s)r.push(e);i.doTreeOnlyChecked(Array.from(new Set(r)))},doTreePopChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],a=t.filter((e=>l.some((t=>t.key===e))&&r.includes(e))),s=t.filter((e=>!l.some((t=>t.key===e))&&r.includes(e)));for(const e of a)r.splice(0,r.length,...r.filter((t=>t!==e&&!(o.value[e]||[]).some((e=>e.key===t)))));for(const e of s)r.splice(0,r.length,...r.filter((t=>t!==e)));i.doTreeOnlyChecked(Array.from(new Set(r)))},doTreeSelected(t){if(!0===e.disabled)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isArray(t))return;const l=n.checkedKeys,o=n.selectedKeys,r=n.expandedKeys,a=n.flatTreeNodes,s=a.filter((e=>o.some((t=>e.key===t))&&!t.some((t=>e.key===t)))),d=a.filter((e=>!o.some((t=>e.key===t))&&t.some((t=>e.key===t)))),c=s.map((e=>e.key)),u=d.map((e=>e.key)),p=s[0],f=d[0],b=c[0],h=u[0];if(e.checkable&&e.allowSelectToCheck)return h&&f&&(f.disabled||f.disableCheckbox||!f.checkable)&&(r.includes(h)?e.allowAutoCollapsed&&i.doTreePopExpanded([h]):e.allowAutoExpanded&&i.doTreePushExpanded([h])),void(h&&f&&!f.disabled&&!f.disableCheckbox&&f.checkable&&(l.includes(h)?i.doTreePopChecked([h]):i.doTreePushChecked([h])));if(!e.selectable&&!h)return void(b&&(r.includes(b)?e.allowAutoCollapsed&&i.doTreePopExpanded([b]):e.allowAutoExpanded&&i.doTreePushExpanded([b])));if(!e.selectable&&h)return void(r.includes(h)?e.allowAutoCollapsed&&i.doTreePopExpanded([h]):e.allowAutoExpanded&&i.doTreePushExpanded([h]));if(h&&(!1===f.isSelectable||!0===f.disabled))return void(r.includes(h)?e.allowAutoCollapsed&&i.doTreePopExpanded([h]):e.allowAutoExpanded&&i.doTreePushExpanded([h]));if(!h&&b&&(!1===p.isSelectable||!0===p.disabled))return void(r.includes(b)?e.allowAutoCollapsed&&i.doTreePopExpanded([b]):e.allowAutoExpanded&&i.doTreePushExpanded([b]));h&&(e.allowUnSelected&&b===h?o.splice(0,o.length):o.splice(0,o.length,h)),h||!e.allowUnSelected&&b&&o.splice(0,o.length,b);const g=o[0],y=b===g;g&&(r.includes(g)?e.allowAutoCollapsed&&y&&i.doTreePopExpanded([g]):e.allowAutoExpanded&&i.doTreePushExpanded([g])),g||b&&r.includes(b)&&e.allowAutoCollapsed&&i.doTreePopExpanded([g]),i.cleanTreeStater(!1,["selected"]),i.resetTreeStater(!1,["selected"])},doEventDragstart(e){e.event.dataTransfer&&(e.event.dataTransfer.effectAllowed="move")},doEventExpand(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=[...n.expandedKeys],s=[];if(Ge.isNonEmptyObject(t)&&(t=t.expanded),Ge.isNonEmptyArray(t)&&(t=t.filter((e=>n.flatTreeNodes.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isArray(t))return;const d=t,c=l.filter((e=>a.some((t=>e.key===t))&&d.some((t=>e.key===t)))),u=l.filter((e=>a.some((t=>e.key===t))&&!d.some((t=>e.key===t)))),p=l.filter((e=>!a.some((t=>e.key===t))&&d.some((t=>e.key===t)))),f=c.map((e=>e.key)),b=u.map((e=>e.key)),h=p.map((e=>e.key));if(Ge.isNonEmptyArray(u))for(const n of b)e.allowAutoCollapsed?f.splice(0,f.length,...f.filter((e=>e!==n&&!(o.value[n]||[]).some((t=>t.key===e))))):f.splice(0,f.length,...f.filter((e=>e!==n)));if(Ge.isNonEmptyArray(h)){for(const t of h){const n=l.find((e=>e.key===t)),i=r.value[t]||[],a=o.value[t]||[];if(s.push(t,...i.map((e=>e.key))),Ge.isNonEmptyArray(a)&&1===n.children.length&&e.allowAutoExpanded){let e=n.children[0],t=null==e?void 0:e.children.length,l=null==e?void 0:e.key;for(;e&&1===t&&l;)s.push(l),e=e.children[0],t=null==e?void 0:e.children.length,l=null==e?void 0:e.key}}if(!e.allowMultiExpanded){const e=h[0],t=(o.value[e]||[]).map((e=>e.key)),l=(r.value[e]||[]).map((e=>e.key));s.splice(0,s.length,...s.filter((n=>n===e||t.includes(n)||l.includes(n)))),f.splice(0,f.length,...f.filter((n=>n===e||t.includes(n)||l.includes(n))))}}s.push(...Array.from(new Set(f))),i.doTreeOnlyExpanded(Array.from(new Set(s)))},doEventSelect(t){!0!==e.disabled&&(Ge.isNonEmptyObject(t)&&(t=t.selected),i.doTreeSelected(t))},doEventCheck(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyObject(t)&&(t=t.checked),Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isArray(t))return;const l=n.childTreeNodes,o=[...t,...n.outCheckedKeys],r=[...n.checkedKeys,...n.outCheckedKeys],a=r.filter((e=>!o.includes(e))),s=o.filter((e=>!r.includes(e)));for(const e of s)r.push(e,...(l.value[e]||[]).map((e=>e.key)).filter((e=>!r.includes(e))));for(const e of a)r.splice(0,r.length,...r.filter((t=>t!==e&&!(l.value[e]||[]).some((e=>e.key===t)))));i.doTreeOnlyChecked(Array.from(new Set(r)))},doEventDrop(t){var l,o;const r=t.node.key,a=t.dragNode.key,s=t.node.pos?t.node.pos.split("-"):[],d=t.dropPosition-Number(s[s.length-1]),c=n.flatTreeNodes.find((e=>e.key===r)),u=n.flatTreeNodes.find((e=>e.key===a));if(c&&u&&[-1,0,1].includes(d)){if(-1===d||1===d){const t=c&&c.parentNode||null,o=t?t.children:n.linkTreeNodes,r=t?[...t.children]:[...n.linkTreeNodes];if(r.includes(u)&&r.splice(r.findIndex((e=>e===u)),1),!r.includes(u)){const e=r.findIndex((e=>e===c)),t=1===d?e+d:e;r.splice(t,0,u)}if(r.length!==o.length||!r.every(((e,t)=>o[t]===e))){const a=[{parentNode:null==t?void 0:t.referenceSourceNode,oldChildNodes:o.map((e=>e.referenceSourceNode)),rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),newChildNodes:r.map((e=>e.referenceSourceNode))}],s=o.includes(u)?[]:[{parentNode:null==(l=u.parentNode)?void 0:l.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),removeChildNodes:[u.referenceSourceNode]}],d=o.includes(u)?[]:[{parentNode:null==t?void 0:t.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),appendChildNodes:[u.referenceSourceNode]}];!1!==(Ge.isFunction(e.dropHandler)?e.dropHandler:()=>!0)({reloadNodes:a,appendNodes:d,removeNodes:s})&&i.changeTreeNodes(r.map((e=>e.referenceSourceNode)),null==t?void 0:t.key)}}if(0===d){const t=c,l=t.children,r=[...t.children];if(r.includes(u)&&r.splice(r.findIndex((e=>e===u)),1),r.includes(u)||r.unshift(u),r.length!==l.length||!r.every(((e,t)=>l[t]===e))){const a=[{parentNode:null==t?void 0:t.referenceSourceNode,oldChildNodes:l.map((e=>e.referenceSourceNode)),rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),newChildNodes:r.map((e=>e.referenceSourceNode))}],s=l.includes(u)?[]:[{parentNode:null==(o=u.parentNode)?void 0:o.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),removeChildNodes:[u.referenceSourceNode]}],d=l.includes(u)?[]:[{parentNode:null==t?void 0:t.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),appendChildNodes:[u.referenceSourceNode]}];!1!==(Ge.isFunction(e.dropHandler)?e.dropHandler:()=>!0)({reloadNodes:a,appendNodes:d,removeNodes:s})&&i.changeTreeNodes(r.map((e=>e.referenceSourceNode)),null==t?void 0:t.key)}}}},doTreeLoad(t){const l=[],o=n.loadKeys,a=n.loadedKeys,s=n.expandedKeys,d=n.flatTreeNodes,c=n.childTreeNodes,u=n.parentTreeNodes,p=Ge.isFunction(e.loadData)?e.loadData:null,f=t.filter((e=>d.some((t=>t.key===e))));if(!Ge.isFunction(p))return Promise.resolve([]);if(Ge.isNonEmptyArray(f))for(f.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t))));f.length>0;){const e=f.shift();t.includes(e)&&(t.splice(0,t.length,...t.filter((t=>!c.value[e].some((e=>e.key===t))))),f.splice(0,f.length,...f.filter((t=>!c.value[e].some((e=>e.key===t))))))}if(Ge.isNonEmptyArray(t))for(const b of t){const t=e=>e!==b,c=e=>e.key===b,f=d.find(c);if(!f){s.splice(0,s.length,...s.filter(t)),a.splice(0,a.length,...a.filter(t)),o.splice(0,o.length,...o.filter(t));continue}if(o.includes(b))continue;o.includes(b)||o.push(b),a.includes(b)&&a.splice(0,a.length,...a.filter(t));const h=e=>{a.includes(b)||a.push(b),o.includes(b)&&o.splice(0,o.length,...o.filter(t)),o.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),a.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),i.appendTreeNodes(e,b),u.value[b]&&!u.value[b].every((e=>s.includes(e.key)))||i.doTreePushExpanded([b])},g=e=>{o.splice(0,o.length,...o.filter(t)),a.splice(0,a.length,...a.filter(t)),s.splice(0,s.length,...s.filter(t)),o.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),a.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t))))},y={expandedKeys:n.expandedKeys,outCheckedKeys:n.outCheckedKeys,selectedKeys:"link"===e.selectedMode?r.selectedLinkNodes.map((e=>e.key)):r.selectedNodes.map((e=>e.key)),checkedKeys:"link"===e.checkedMode?r.checkedLinkNodes.map((e=>e.key)):r.checkedNodes.map((e=>e.key)),loadedKeys:n.loadedKeys,loadKeys:n.loadKeys};l.push(Promise.resolve(p(f.referenceSourceNode,y)).then((e=>h(e||[]))).catch((e=>g())))}return Promise.all(l)},forceUpdate(t){const o=I(e.treeData),r=I(l.treeData),a=i.spreadTreeNodes(o,1/0),s=i.spreadTreeNodes(r,1/0);a.length===s.length&&a.every(((e,t)=>e===s[t]))||(n.propTreeNodes.splice(0,n.propTreeNodes.length,...o),l.treeData.splice(0,l.treeData.length,...o)),i.resetTreeNodes([...n.propTreeNodes],t)}},a=()=>{n.filterField.value===e.filterField&&n.filterValue.value===e.filterValue||(t.emit("update:filterField",n.filterField.value),t.emit("update:filterValue",n.filterValue.value))},s=()=>{var o;const i=e.checkedKeys,a="link"===e.checkedMode?[...r.checkedLinkNodes.map((e=>e.key))]:[...r.checkedNodes.map((e=>e.key))],s=Array.from(new Set([...a,...n.outCheckedKeys]));s.every(((e,t)=>i[t]===e))&&i.every(((e,t)=>s[t]===e))||(l.checkedKeys.splice(0,l.checkedKeys.length,...s),t.emit("update:checkedKeys",[...s]),t.emit("check",{checkedKeys:s,delCheckedKeys:i.filter((e=>!s.includes(e))),addCheckedKeys:s.filter((e=>!i.includes(e))),checkedNode:(null==(o=n.flatTreeNodes.find((e=>e.key===s[0])))?void 0:o.referenceSourceNode)||null}))},d=()=>{var o;const i=e.selectedKeys,a="link"===e.selectedMode?[...r.selectedLinkNodes.map((e=>e.key))]:[...r.selectedNodes.map((e=>e.key))];a.every(((e,t)=>i[t]===e))&&i.every(((e,t)=>a[t]===e))||(l.selectedKeys.splice(0,l.selectedKeys.length,...a),t.emit("update:selectedKeys",[...a]),t.emit("select",{selectedKeys:a,delSelectedKeys:i.filter((e=>!a.includes(e))),addSelectedKeys:a.filter((e=>!i.includes(e))),selectedNode:(null==(o=n.flatTreeNodes.find((e=>e.key===a[0])))?void 0:o.referenceSourceNode)||null}))},c=()=>{var o;const r=e.expandedKeys,i=n.expandedKeys;i.every(((e,t)=>r[t]===e))&&r.every(((e,t)=>i[t]===e))||(l.expandedKeys.splice(0,l.expandedKeys.length,...i),t.emit("update:expandedKeys",[...i]),t.emit("expand",{expandedKeys:i,delExpandedKeys:r.filter((e=>!i.includes(e))),addExpandedKeys:i.filter((e=>!r.includes(e))),expandedNode:(null==(o=n.flatTreeNodes.find((e=>e.key===i[0])))?void 0:o.referenceSourceNode)||null}))},u=()=>{e.filterField===n.filterField.value&&e.filterValue===n.filterValue.value||i.filterTreeNodes({filterField:e.filterField,filterValue:e.filterValue})},p=()=>{const t=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=e.checkedKeys.filter((e=>t.some((t=>t.key===e)))),a=l.checkedKeys.filter((e=>t.some((t=>t.key===e)))),s=i.map((e=>t.find((t=>t.key===e)))),d=i.map((e=>t.find((t=>t.key===e)))),c=i.map((e=>t.find((t=>t.key===e))));for(a.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),s.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),d.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),c.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l))));c.length>0;){const e=c.pop(),t=(o.value[e.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)),l=(r.value[e.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)).map((e=>e.key));Ge.isNonEmptyArray(t)&&!t.every((e=>s.some((t=>e===t))))&&(s.splice(0,s.length,...s.filter((t=>t.disabled||t.disableCheckbox||t.checkable&&t.key!==e.key&&!l.includes(t.key)))),c.splice(0,c.length,...c.filter((t=>t.disabled||t.disableCheckbox||t.checkable&&t.key!==e.key&&!l.includes(t.key)))))}e.checkedKeys.every(((e,t)=>l.checkedKeys[t]===e))&&l.checkedKeys.every(((t,l)=>e.checkedKeys[l]===t))||(n.outCheckedKeys.splice(0,n.outCheckedKeys.length,...e.checkedKeys.filter((e=>!t.some((t=>t.key===e))))),n.checkedKeys.splice(0,n.checkedKeys.length,...s.map((e=>e.key))),l.checkedKeys.splice(0,l.checkedKeys.length,...e.checkedKeys))},f=()=>{const t=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=l.selectedKeys.filter((e=>t.some((t=>t.key===e)))),a=e.selectedKeys.filter((e=>t.some((t=>t.key===e)))),s=e.selectedKeys.filter((e=>t.some((t=>t.key===e)))),d=a.map((e=>t.find((t=>t.key===e)))),c=s.map((e=>t.find((t=>t.key===e))));if(i.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),d.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),c.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),"link"===e.selectedMode)for(;c.length>0;){const e=c.pop(),t=(o.value[e.key]||[]).filter((e=>!e.disabled&&e.isSelectable)),l=(r.value[e.key]||[]).filter((e=>!e.disabled&&e.isSelectable)).map((e=>e.key));Ge.isNonEmptyArray(t)&&t.some((e=>d.some((t=>e===t))))&&(d.splice(0,d.length,...d.filter((t=>t.disabled||t.key!==e.key))),c.splice(0,c.length,...c.filter((t=>t.disabled||t.key!==e.key)))),d.splice(0,d.length,...d.filter((e=>e.disabled||!l.includes(e.key)))),c.splice(0,c.length,...c.filter((e=>e.disabled||!l.includes(e.key))))}d.every(((e,t)=>i[t]===e.key))&&i.every(((e,t)=>{var l;return(null==(l=d[t])?void 0:l.key)===e}))||(l.selectedKeys.splice(0,l.selectedKeys.length,...d.map((e=>e.key))),n.selectedKeys.splice(0,n.selectedKeys.length,...d.map((e=>e.key))))},b=()=>{const t=n.flatTreeNodes,o=e.expandedKeys.filter((e=>t.some((t=>t.key===e)))),r=l.expandedKeys.filter((e=>t.some((t=>t.key===e))));o.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),r.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),o.every(((e,t)=>r[t]===e))&&r.every(((e,t)=>o[t]===e))||(l.expandedKeys.splice(0,l.expandedKeys.length,...o),n.expandedKeys.splice(0,n.expandedKeys.length,...o))},h=t=>{const o=I(e.treeData),r=I(l.treeData),a=i.spreadTreeNodes(o,1/0),s=i.spreadTreeNodes(r,1/0);a.length===s.length&&a.every(((e,t)=>e===s[t]))||(n.propTreeNodes.splice(0,n.propTreeNodes.length,...o),l.treeData.splice(0,l.treeData.length,...o),i.resetTreeNodes(n.propTreeNodes,t))},g=(t,n)=>{const o=[""].concat(e.class),r=e.style;return w("section",{ref:l.treeContainer,class:[...o,"s-tree-container"],style:r},[w(se,{spinning:e.loading},{default:()=>[w(y,null,n.slots)]})])},y=(t,l)=>{const o={...l.slots,switcherIcon:Ge.isFunction(l.slots.switcherIcon)?e=>l.slots.switcherIcon({...e.referenceSourceNode,switcherCls:e.switcherCls}):e=>m(e),title:Ge.isFunction(l.slots.title)?e=>l.slots.title({...e.referenceSourceNode}):e=>x(e,l),icon:Ge.isFunction(l.slots.icon)?e=>l.slots.icon({...e.referenceSourceNode}):e=>v(e,l)};return w(be,{treeData:[...n.linkTreeNodes],expandedKeys:[...n.expandedKeys],selectedKeys:[...n.selectedKeys],checkedKeys:{checked:n.checkedKeys,halfChecked:n.halfCheckedKeys},onDragstart:i.doEventDragstart,onExpand:i.doEventExpand,onSelect:i.doEventSelect,onCheck:i.doEventCheck,onDrop:i.doEventDrop,selectable:e.selectable,checkable:e.checkable,blockNode:e.blockNode,draggable:e.draggable,disabled:e.disabled,showIcon:e.showIcon,showLine:e.showLine,virtual:e.virtual,height:e.height,checkStrictly:!0,multiple:!1},o)},m=(e,t)=>{const l=i.renderSwitcher(e);return w(Xe,{type:l,class:{[e.switcherCls]:"CaretDownOutlined"===l},style:{cursor:"pointer"},onClick:t=>{"LoadingOutlined"!==l&&i.triggerSwitcher(e),t.stopPropagation()}},null)},v=(t,l)=>{if("iconRoot"===t.scopedSlots.icon){if(Ge.isFunction(l.slots.iconRoot)){const e=H(l.slots,"iconRoot",{...t.referenceSourceNode});if(i.getVNodes(e))return e}const n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,a=e.iconfontUrl;return qe(t.icon)||Ge.isString(t.icon)&&Ge.isNonEmptyString(r)&&Ge.isNonEmptyString(a)&&t.icon.startsWith(r)?w(Xe,{type:t.icon,iconfontUrl:a,iconPrefix:r,class:n,style:o},null):w(Xe,{type:"AppstoreOutlined",class:n,style:o},null)}if("iconParent"===t.scopedSlots.icon){if(Ge.isFunction(l.slots.iconParent)){const e=H(l.slots,"iconParent",{...t.referenceSourceNode});if(i.getVNodes(e))return e}const n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,a=e.iconfontUrl;return qe(t.icon)||Ge.isString(t.icon)&&Ge.isNonEmptyString(r)&&Ge.isNonEmptyString(a)&&t.icon.startsWith(r)?w(Xe,{type:t.icon,iconfontUrl:a,iconPrefix:r,class:n,style:o},null):w(Xe,{type:"ApartmentOutlined",class:n,style:o},null)}if("iconLeaf"===t.scopedSlots.icon){if(Ge.isFunction(l.slots.iconLeaf)){const e=H(l.slots,"iconLeaf",{...t.referenceSourceNode});if(i.getVNodes(e))return e}const n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,a=e.iconfontUrl;return qe(t.icon)||Ge.isString(t.icon)&&Ge.isNonEmptyString(r)&&Ge.isNonEmptyString(a)&&t.icon.startsWith(r)?w(Xe,{type:t.icon,iconfontUrl:a,iconPrefix:r,class:n,style:o},null):w(Xe,{type:"ApartmentOutlined",class:n,style:o},null)}},x=(t,l)=>{const n=(t,l)=>{if(Ge.isFunction(l.slots.titleRootLabel)){const n=H(l.slots,"titleRootLabel",{...t.referenceSourceNode});if(i.getVNodes(n))return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},ht(n)?n:{default:()=>[n]})])}if(Ge.isNonEmptyArray(t.titles)){const l=k.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal",style:{color:n}},[t.titles[0]]),w("span",{class:"primary",style:{color:l}},[t.titles[1]]),w("span",{class:"normal",style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[t.title]})])},o=(t,l)=>{if(Ge.isFunction(l.slots.titleRootButton)){const n=H(l.slots,"titleRootButton",{...t.referenceSourceNode});if(i.getVNodes(n))return w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[n])}return w("span",{class:"s-tree-title-button"},null)},r=(t,l)=>{if(Ge.isFunction(l.slots.titleParentLabel)){const n=H(l.slots,"titleParentLabel",{...t.referenceSourceNode});if(i.getVNodes(n))return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},ht(n)?n:{default:()=>[n]})])}if(Ge.isNonEmptyArray(t.titles)){const l=k.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal",style:{color:n}},[t.titles[0]]),w("span",{class:"primary",style:{color:l}},[t.titles[1]]),w("span",{class:"normal",style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[Ge.isString(t.title)?t.title:""]})])},a=(t,l)=>{if(Ge.isFunction(l.slots.titleParentButton)){const n=H(l.slots,"titleParentButton",{...t.referenceSourceNode});if(i.getVNodes(n))return w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[n])}return w("span",{class:"s-tree-title-button"},null)},s=(t,l)=>{if(Ge.isFunction(l.slots.titleLeafLabel)){const n=H(l.slots,"titleLeafLabel",{...t.referenceSourceNode});if(i.getVNodes(n))return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},ht(n)?n:{default:()=>[n]})])}if(Ge.isNonEmptyArray(t.titles)){const l=k.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal",style:{color:n}},[t.titles[0]]),w("span",{class:"primary",style:{color:l}},[t.titles[1]]),w("span",{class:"normal",style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(_e,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[Ge.isString(t.title)?t.title:""]})])},d=(t,l)=>{if(Ge.isFunction(l.slots.titleLeafButton)){const n=H(l.slots,"titleLeafButton",{...t.referenceSourceNode});if(i.getVNodes(n))return w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[n])}return w("span",{class:"s-tree-title-button"},null)};if("titleRoot"===t.scopedSlots.title){const r={...t,key:void 0};if(Ge.isFunction(l.slots.titleRoot)){const e=H(l.slots,"titleRoot",{...t.referenceSourceNode});if(i.getVNodes(e))return e}return w("span",{class:["s-tree-title-node","s-tree-title-root-node",{"s-tree-title-sticky-node":!0===e.sticky}]},[w(n,r,l.slots),w(o,r,l.slots)])}if("titleParent"===t.scopedSlots.title){const e={...t,key:void 0};if(Ge.isFunction(l.slots.titleParent)){const e=H(l.slots,"titleParent",{...t.referenceSourceNode});if(i.getVNodes(e))return e}return w("span",{class:"s-tree-title-node s-tree-title-parent-node"},[w(r,e,l.slots),w(a,e,l.slots)])}if("titleLeaf"===t.scopedSlots.title){const e={...t,key:void 0};if(Ge.isFunction(l.slots.titleLeaf)){const e=H(l.slots,"titleLeaf",{...t.referenceSourceNode});if(i.getVNodes(e))return e}return w("span",{class:"s-tree-title-node s-tree-title-leaf-node"},[w(s,e,l.slots),w(d,e,l.slots)])}};A([()=>e.checkable,()=>e.filterField,()=>e.filterValue,()=>e.checkedMode,()=>e.selectedMode,()=>[...e.treeData],()=>[...e.checkedKeys],()=>[...e.selectedKeys],()=>[...e.expandedKeys]],(([e,t,l,n,o,r,a,s,d],[c,g,y,m,v,x,w,k,S])=>{let C=!1,N=!1,T=!1,A=!1,z=!1,P=!1,R=!1,K=!1,O=!1,F=!1;if(C||(C=t!==g||l!==y),!N&&r!==x){const e=I(E(r))||[],t=I(E(x))||[],l=i.spreadTreeNodes(e,1/0),n=i.spreadTreeNodes(t,1/0);N=!l.every(((e,t)=>e===n[t]))||!n.every(((e,t)=>e===l[t]))}if(T||(a!==w&&(K=!Ge.isArray(a)||!Ge.isArray(w)||a.length!==w.length||a.some((e=>!w.includes(e)))),s!==k&&(O=!Ge.isArray(s)||!Ge.isArray(k)||s.length!==k.length||s.some((e=>!k.includes(e)))),d!==S&&(F=!Ge.isArray(d)||!Ge.isArray(S)||d.length!==S.length||d.some((e=>!S.includes(e)))),z=e!==c,P=n!==m,R=o!==v,T=z||P||R||K||O||F,A=z),C&&u(),N&&h(A),T){const e=[];K&&e.push("checked"),O&&e.push("selected"),F&&e.push("expanded"),K&&p(),O&&f(),F&&b(),i.cleanTreeStater(A,e),i.resetTreeStater(A,e)}})),A((()=>[n.filterField.value,n.filterValue.value]),(()=>a())),A((()=>[...n.checkedKeys,...n.outCheckedKeys,...n.flatTreeNodes]),(()=>s())),A((()=>[...n.selectedKeys,...n.flatTreeNodes]),(()=>d())),A((()=>[...n.expandedKeys,...n.flatTreeNodes]),(()=>c())),A((()=>e.bgColor),(()=>{const t=e.bgColor,n=l.treeContainer.value;null==n||n.style.setProperty("--tree-background-color",t)})),C((()=>{const t=e.bgColor,n=l.treeContainer.value;null==n||n.style.setProperty("--tree-background-color",t)})),t.expose({filterTreeNodes:i.filterTreeNodes,reloadTreeNodes:i.reloadTreeNodes,appendTreeNodes:i.appendTreeNodes,removeTreeNodes:i.removeTreeNodes,changeTreeNodes:i.changeTreeNodes,pickUpperTreeNodes:i.pickUpperTreeNodes,pickLowerTreeNodes:i.pickLowerTreeNodes,pickMatchTreeNode:i.pickMatchTreeNode,doTreeAllExpanded:i.doTreeAllExpanded,doTreeAllCollapsed:i.doTreeAllCollapsed,doTreeToggleExpanded:i.doTreeToggleExpanded,doTreeOnlyExpanded:i.doTreeOnlyExpanded,doTreePushExpanded:i.doTreePushExpanded,doTreePopExpanded:i.doTreePopExpanded,doTreeAllChecked:i.doTreeAllChecked,doTreeAllUnChecked:i.doTreeAllUnChecked,doTreeToggleChecked:i.doTreeToggleChecked,doTreeOnlyChecked:i.doTreeOnlyChecked,doTreePushChecked:i.doTreePushChecked,doTreePopChecked:i.doTreePopChecked,doTreeSelected:i.doTreeSelected,forceUpdate:i.forceUpdate});const k=fe.useToken().token;if(h(),b(),f(),p(),u(),i.cleanTreeStater(),i.resetTreeStater(),!0===e.defaultExpandAll){const t=Ge.isFiniteNumber(e.filterValue),l=Ge.isNonEmptyString(e.filterValue);!t&&!l&&i.doTreeAllExpanded()}return()=>w(g,null,t.slots)},slots:{},methods:{}}),yt=e=>e,mt=e=>e,vt=e=>e,xt=e=>e;et("body.cursor-column-resizable,\nbody.cursor-column-resizable .s-table-container {\n  cursor: col-resize !important;\n}\nbody.user-select-none,\nbody.user-select-none .s-table-container {\n  user-select: none !important;\n}\n.s-table-container {\n  --table-thead-color: #fafafa;\n  --table-border-color: #f0f0f0;\n  --table-primary-color: #1890ff;\n  --table-background-color: #ffffff;\n  --table-padding-vertical: 16px;\n  --table-padding-vertical-small: 8px;\n  --table-padding-vertical-middle: 12px;\n  --table-padding-horizontal: 16px;\n  --table-padding-horizontal-small: 8px;\n  --table-padding-horizontal-middle: 8px;\n}\n.s-table-container {\n  width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n.s-table-container > .s-table-spining-container {\n  width: fit-content;\n  min-width: 100%;\n  min-height: 130px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper {\n  width: fit-content;\n  min-width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  /* overflow: auto; -- support sticky header in document */\n  border-radius: 2px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table {\n  width: fit-content;\n  min-width: 100%;\n  font-family: PingFang SC,\n          Microsoft YaHei,\n          Arial;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #303133;\n  text-align: left;\n  list-style: none;\n  background-color: var(--table-background-color);\n  font-variant: tabular-nums;\n  font-feature-settings: 'tnum';\n  border-collapse: separate;\n  box-sizing: border-box;\n  border-spacing: 0;\n  border-radius: 4px;\n  table-layout: fixed;\n  position: relative;\n  z-index: 999;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > colgroup > col {\n  box-sizing: border-box;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr.s-table-tbody-click-tr {\n  cursor: pointer;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: #303133;\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 600;\n  text-align: left;\n  background-color: var(--table-thead-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th.s-table-thead-sortable-th {\n  padding-right: 22px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th > .s-table-thead-th-functional {\n  display: inline-block;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  top: 0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th > .s-table-thead-th-functional > .s-table-thead-functional-resizable {\n  width: 5px;\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  cursor: col-resize;\n  background-color: rgba(255, 255, 255, 0.03);\n  z-index: 10;\n  opacity: 0.5;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n  text-align: left;\n  background-color: var(--table-background-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 26px;\n  text-align: inherit;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 26px;\n  height: 100%;\n  margin: auto 0;\n  position: absolute;\n  bottom: 0;\n  top: 0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 18px;\n  height: 18px;\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 3px;\n  background-color: #ffffff;\n  border: solid 1px #ebebeb;\n  vertical-align: -1px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button:not(.s-table-tbody-expand-disabled):hover {\n  color: var(--table-primary-color);\n  border-color: var(--table-primary-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button.s-table-tbody-expand-disabled {\n  cursor: default;\n  color: #00000040;\n  background-color: #f5f5f5;\n  border: solid 1px #d9d9d9;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 54px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n  text-align: left;\n  background-color: var(--table-background-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table {\n  width: 100%;\n  min-width: 100%;\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-thead,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tbody,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tfoot {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead.s-border-table,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody.s-border-table,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot.s-border-table {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead.s-border-table > .s-table-thead-tr > .s-table-thead-th,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody.s-border-table > .s-table-tbody-tr > .s-table-tbody-td,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot.s-border-table > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead:not(.s-border-table) > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 18px;\n  right: 1px;\n  bottom: 14px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead:not(.s-border-table) > .s-table-thead-tr > .s-table-thead-th {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody:not(.s-border-table) > .s-table-tbody-tr > .s-table-tbody-td {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody:not(.s-border-table) > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-expand-td {\n  border-top: none;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot:not(.s-border-table) > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 22px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  width: 22px;\n  height: 100%;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  width: 16px;\n  height: 16px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 46px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 14px;\n  right: 1px;\n  bottom: 10px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 22px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  width: 22px;\n  height: 100%;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  width: 16px;\n  height: 16px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 38px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 10px;\n  right: 1px;\n  bottom: 6px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container .s-table-empty-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 168px;\n}\n.s-table-container .s-table-sorter-container {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  width: 12px;\n  height: 100%;\n  margin-right: 5px;\n  padding: 17px 12px 15px;\n  cursor: pointer;\n}\n.s-table-container .s-table-cursor-container {\n  background-color: var(--table-primary-color);\n  position: absolute;\n  z-index: 999990;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n.s-table-container .s-table-dragger-container {\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  min-width: 100px;\n  margin: -5px 0 0 -6px;\n  padding: 7px 15px;\n  overflow: hidden;\n  background-color: var(--table-thead-color);\n  box-shadow: 0.5px 0.5px 2px 2px rgba(0, 0, 0, 0.25);\n  border-radius: 6px;\n  position: absolute;\n  cursor: pointer;\n  z-index: 999999;\n  left: 0;\n  top: 0;\n}\n.s-table-container .s-table-dragger-container > .s-table-dragger-icon {\n  flex: 0 0 auto;\n  display: inline-block;\n  margin-right: 5px;\n  box-sizing: border-box;\n}\n.s-table-container .s-table-dragger-container > .s-table-dragger-value {\n  flex: 0 0 auto;\n  display: inline-block;\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  font-weight: 500;\n}\n.s-table-container .s-table-settings-container {\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  float: right;\n  height: 28px;\n  margin: -1px 0 -28px -64px;\n  padding: 1px 0;\n  position: absolute;\n  cursor: pointer;\n  z-index: 999998;\n  right: 0 !important;\n  top: 0 !important;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-icon {\n  flex: 0 0 auto;\n  display: inline-block;\n  font-size: 17px;\n  box-sizing: border-box;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-title {\n  flex: 0 0 auto;\n  display: inline-block;\n  margin-left: 2px;\n  color: rgba(0, 0, 0, 0.65);\n  font-size: 15px;\n  font-weight: 500;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-overlay {\n  display: inline-block;\n  position: absolute;\n  right: 4px;\n  top: 30px;\n  box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;\n  background-color: var(--table-background-color);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.s-table-container .s-table-paginate-container {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 56px;\n  padding: 12px 8px;\n  background-color: var(--table-background-color);\n  border-top: solid 1px #f0f0f0;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1000;\n}\n.s-table-container .s-table-paginate-container > .s-table-paginate-content {\n  flex: 0 1 auto;\n  width: auto;\n  height: 32px;\n  position: sticky;\n  right: 8px;\n}\n.s-table-container .s-table-paginate-container > .s-table-paginate-content ul,\n.s-table-container .s-table-paginate-container > .s-table-paginate-content li,\n.s-table-container .s-table-paginate-container > .s-table-paginate-content ol,\n.s-table-container .s-table-paginate-container > .s-table-paginate-content dl {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.s-table-container .s-table-loading-container {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999999;\n  background-color: rgba(252, 252, 252, 0.65);\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -45px -12px;\n  transform: rotate(45deg);\n  animation: vueRotate 1.2s linear infinite;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  position: absolute;\n  display: block;\n  width: 11px;\n  height: 11px;\n  opacity: 0.3;\n  border-radius: 100%;\n  transform: scale(0.75);\n  transform-origin: 50% 50%;\n  background-color: var(--table-primary-color);\n  animation: vueSpinMove 1s linear infinite alternate;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(1) {\n  top: 0;\n  left: 0;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(2) {\n  top: 0;\n  right: 0;\n  animation-delay: 0.4s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(3) {\n  right: 0;\n  bottom: 0;\n  animation-delay: 0.8s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(4) {\n  left: 0;\n  bottom: 0;\n  animation-delay: 1.2s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-text {\n  display: block;\n  width: 100px;\n  margin: -18px -50px;\n  padding: 5px 0 0 0;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  color: var(--table-primary-color);\n  text-shadow: 0 1px 2px #fff;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n@keyframes vueRotate {\n  to {\n    transform: rotate(405deg);\n  }\n}\n@keyframes vueSpinMove {\n  to {\n    opacity: 1;\n  }\n}\n.s-table-container .s-table-selection-container {\n  display: inline-block;\n  font-size: 0px;\n}\n.s-table-container .s-table-selection-container .ant-checkbox-wrapper,\n.s-table-container .s-table-selection-container .ant-radio-wrapper {\n  padding: 0;\n  margin: 0;\n}\n.s-table-container.s-middle-table-container .s-table-sorter-container {\n  padding: 12px 8px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container {\n  height: 24px;\n  padding: 1px 0;\n  margin: -2px 0 -28px -64px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container > .s-table-settings-icon {\n  font-size: 16px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container > .s-table-settings-title {\n  font-size: 14px;\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  width: 20px;\n  height: 20px;\n  font-size: 20px;\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  width: 9px;\n  height: 9px;\n  transform: scale(0.75);\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-text {\n  font-size: 13px;\n  margin: -22px -50px;\n}\n.s-table-container.s-middle-table-container .s-table-paginate-container {\n  height: 45px;\n  padding: 10px 8px;\n}\n.s-table-container.s-middle-table-container .s-table-paginate-container > .s-table-paginate-content {\n  height: 25px;\n}\n.s-table-container.s-small-table-container .s-table-sorter-container {\n  padding: 8px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container {\n  height: 22px;\n  margin: -2px 0 -28px -64px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container > .s-table-settings-icon {\n  font-size: 15px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container > .s-table-settings-title {\n  font-size: 13px;\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  width: 18px;\n  height: 18px;\n  font-size: 18px;\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  width: 8px;\n  height: 8px;\n  transform: scale(0.75);\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-text {\n  font-size: 12px;\n  margin: -24px -50px;\n}\n.s-table-container.s-small-table-container .s-table-paginate-container {\n  height: 45px;\n  padding: 10px 8px;\n}\n.s-table-container.s-small-table-container .s-table-paginate-container > .s-table-paginate-content {\n  height: 25px;\n}\n");const wt=e=>{if(Ge.isObject(e)){if(Ge.isObject(e.result)){return{data:Ge.isArray(e.result.data)?e.result.data:[],pageNo:e.result.pageNo||1,totalSize:e.result.totalSize||0}}if(Ge.isArray(e.result)){const t=e.result;return{data:t,pageNo:1,totalSize:t.length}}}if(Ge.isArray(e)){return{data:e,pageNo:1,totalSize:e.length}}return{data:[],pageNo:1,totalSize:0}},kt=x({name:"STableSelection",props:{size:t().isRequired,type:t().isRequired,indeterminate:e().def(!1),disabled:e().def(!1),checked:e().def(!1)},emits:{check:e=>!0},setup(e,t){const l=l=>{t.emit("check",!e.checked)},n=e=>{e.stopPropagation()},o=j((()=>"default"===e.size?"large":"middle"===e.size?"default":"small"));return()=>"Checkbox"===e.type?w("div",{class:"s-table-selection-container",onClick:n},[w(ie,{size:o.value,checked:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,onChange:l},null)]):"Radio"===e.type?w("div",{class:"s-table-selection-container",onClick:n},[w(ne,{size:o.value,checked:e.checked,disabled:e.disabled,onChange:l},null)]):void 0}}),St=x({name:"STablePaginate",inheritAttrs:!1,props:{size:t().def("default"),disabled:e().def(!1),showTotal:a().def(void 0),hideOnSinglePage:e().def(!1),defaultPageSize:n().def(20),pageSizeOptions:r().def(["10","15","20","25","30","50","100","200","300","500"]),showSizeChanger:e().def(void 0),showQuickJumper:e().def(!1),showLessItems:e().def(!1),totalSize:n().def(0),pageSize:n().def(20),pageNo:n().def(1),simple:e().def(!1)},emits:{pageSizeChange:(e,t)=>!0,pageChange:(e,t)=>!0},setup(e,t){const l=(e,l)=>{t.emit("pageSizeChange",e,l)},n=(e,l)=>{t.emit("pageChange",e,l)},o=S(null),r=t.attrs.style;return()=>w("div",{ref:o,class:"s-table-paginate-container",style:r},[w("div",{class:"s-table-paginate-content"},[w(he,{size:e.size,simple:e.simple,current:e.pageNo,total:e.totalSize,pageSize:e.pageSize,disabled:e.disabled,showTotal:e.showTotal,hideOnSinglePage:e.hideOnSinglePage,defaultPageSize:e.defaultPageSize,pageSizeOptions:e.pageSizeOptions,showSizeChanger:e.showSizeChanger,showQuickJumper:e.showQuickJumper,showLessItems:e.showLessItems,onShowSizeChange:l,onChange:n},null)])])}}),Ct=x({name:"STableScrollbar",inheritAttrs:!1,props:{overflow:t().isRequired,optionser:o().isRequired,direction:t().isRequired},setup(e){const t=T({visible:!1,activate:!1,mousedownX:0,mousedownY:0,scrollbarX:0,scrollbarY:0}),l=S(8),n=S(!1),o=S(null),r=S(null),i=j((()=>"auto"===e.overflow?{scroller:e.optionser.refTableWrapper.value,scrollTop:e.optionser.wrapperScrollTop.value,scrollLeft:e.optionser.wrapperScrollLeft.value,scrollWidth:e.optionser.wrapperScrollWidth.value,scrollHeight:e.optionser.wrapperScrollHeight.value,clientHeight:e.optionser.wrapperScrollClientHeight.value,clientWidth:e.optionser.wrapperScrollClientWidth.value,windowHeight:e.optionser.windowInnerHeight.value,windowWidth:e.optionser.windowInnerWidth.value,container:e.optionser.refTableContainer.value,table:e.optionser.refTableNoder.value}:{scroller:e.optionser.resizerContainer.value,scrollTop:e.optionser.resizerScrollTop.value,scrollLeft:e.optionser.resizerScrollLeft.value,scrollWidth:e.optionser.resizerScrollWidth.value,scrollHeight:e.optionser.resizerScrollHeight.value,clientHeight:e.optionser.resizerScrollClientHeight.value,clientWidth:e.optionser.resizerScrollClientWidth.value,windowHeight:e.optionser.windowInnerHeight.value,windowWidth:e.optionser.windowInnerWidth.value,container:e.optionser.refTableContainer.value,table:e.optionser.refTableNoder.value})),a=t=>{"horizontal"===e.direction&&(i.value.scroller.scrollLeft=t/i.value.clientWidth*i.value.scrollWidth,i.value.scroller.scrollLeft=i.value.scroller.scrollLeft>0?i.value.scroller.scrollLeft:0),"vertical"===e.direction&&(i.value.scroller.scrollTop=t/i.value.clientHeight*i.value.scrollHeight,i.value.scroller.scrollTop=i.value.scroller.scrollTop>0?i.value.scroller.scrollTop:0)},s=e=>{t.activate=!1,t.scrollbarX=0,t.scrollbarY=0,t.mousedownX=0,t.mousedownY=0,document.body.classList.remove("user-select-none")},d=l=>{"undefined"!=typeof HTMLElement&&i.value.scroller instanceof HTMLElement&&("horizontal"===e.direction&&(t.activate=!0,t.scrollbarX=i.value.scrollLeft/i.value.scrollWidth*i.value.clientWidth,t.scrollbarY=0,t.mousedownX=l.clientX,t.mousedownY=0,document.body.classList.add("user-select-none")),"vertical"===e.direction&&(t.activate=!0,t.scrollbarX=0,t.scrollbarY=i.value.scrollTop/i.value.scrollHeight*i.value.clientHeight,t.mousedownX=0,t.mousedownY=l.clientY,document.body.classList.add("user-select-none")),l.stopPropagation())},c=l=>{"undefined"!=typeof HTMLElement&&i.value.scroller instanceof HTMLElement||(t.activate=!1,t.scrollbarX=0,t.scrollbarY=0,t.mousedownX=0,t.mousedownY=0),t.activate&&("horizontal"===e.direction&&a(t.scrollbarX+l.clientX-t.mousedownX),"vertical"===e.direction&&a(t.scrollbarY+l.clientY-t.mousedownY),l.stopPropagation())},u=t=>{if("horizontal"===e.direction){const e=o.value.getBoundingClientRect(),l=r.value.getBoundingClientRect();a(t.clientX-e.left-l.width/2)}if("vertical"===e.direction){const e=o.value.getBoundingClientRect(),l=r.value.getBoundingClientRect();a(t.clientY-e.top-l.height/2)}},p=e=>{t.visible=!1},f=e=>{t.visible=!0};return()=>{var a;if("horizontal"!==e.direction&&"vertical"!==e.direction)return;if("horizontal"===e.direction&&i.value.scrollWidth<=i.value.clientWidth+10)return;if("vertical"===e.direction&&i.value.scrollHeight<=i.value.clientHeight+10)return;if(i.value.windowHeight<=100||i.value.windowWidth<=100)return;if(i.value.clientHeight<=100||i.value.clientWidth<=100)return;if(i.value.scrollHeight<=100||i.value.scrollWidth<=100)return;if("undefined"==typeof HTMLElement||!(i.value.container instanceof HTMLElement))return;if("undefined"==typeof HTMLElement||!(i.value.scroller instanceof HTMLElement))return;if("undefined"==typeof HTMLElement||!(i.value.table instanceof HTMLElement))return;const b="undefined"!=typeof window?window:null,h="vertical"===e.direction&&parseInt((null==(a=null==b?void 0:b.getComputedStyle(i.value.scroller))?void 0:a.paddingLeft)||"0")||0,g=i.value.scroller.getBoundingClientRect(),y=g.top>=i.value.windowHeight-20,m=g.left>=i.value.windowWidth-20,v=g.right<=i.value.windowWidth+20,x=g.bottom<=i.value.windowHeight+20,k=t.visible||t.activate,S={},C={};return"horizontal"===e.direction&&(Object.assign(S,{width:`${i.value.clientWidth}px`,height:`${l.value}px`,display:""+(y||x||!k?"none":"block"),transform:`translate(0, ${i.value.windowHeight-g.bottom-3}px)`,backgroundColor:"rgba(255, 255, 255, 0.15)",position:"sticky",cursor:"pointer",zIndex:99999,bottom:0,left:0}),Object.assign(C,{height:`${l.value}px`,width:`${(i.value.clientWidth/i.value.scrollWidth*i.value.clientWidth).toFixed(3)}px`,transform:`translate(${(i.value.scrollLeft/i.value.scrollWidth*i.value.clientWidth).toFixed(3)}px, 0)`,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:l.value/2+"px"})),"vertical"===e.direction&&(Object.assign(S,{width:`${l.value}px`,height:`${i.value.clientHeight}px`,marginTop:-i.value.clientHeight+"px",display:""+(m||v||!k?"none":"block"),transform:`translate(${i.value.clientWidth+(i.value.windowWidth-g.right)-h-l.value-3}px, 0)`,backgroundColor:"rgba(255, 255, 255, 0.15)",position:"sticky",cursor:"pointer",zIndex:99999,bottom:0,left:0}),Object.assign(C,{width:`${l.value}px`,height:`${(i.value.clientHeight/i.value.scrollHeight*i.value.clientHeight).toFixed(3)}px`,transform:`translate(0, ${(i.value.scrollTop/i.value.scrollHeight*i.value.clientHeight).toFixed(3)}px)`,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:l.value/2+"px"})),n.value||(i.value.container.removeEventListener("mouseleave",p),i.value.container.removeEventListener("mouseenter",f),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",s),i.value.container.addEventListener("mouseleave",p),i.value.container.addEventListener("mouseenter",f),document.addEventListener("mousemove",c),document.addEventListener("mouseup",s),n.value=!0),w("div",{onMousedown:u,onMouseenter:()=>{l.value=12},onMouseleave:()=>{l.value=8},class:"s-table-scrollbar-container",style:S,ref:o},[w("div",{onMousedown:d,class:"s-table-scrollbar",style:C,ref:r},null)])}}}),Nt=x({name:"STableSettings",inheritAttrs:!1,props:{title:t().def(""),style:o().def((()=>({}))),multiline:e().def(!1),treeData:r().def((()=>[])),dropHandler:a().def((()=>!1)),expandedKeys:r().def((()=>[])),checkedKeys:r().def((()=>[])),allTreeKeys:r().def((()=>[])),draggable:e().def(!1)},emits:{"update:checkedKeys":e=>!0},setup(e,t){const l=S(!1),n=fe.useToken().token,o=S(null),r=S(e.checkedKeys),i=S(e.expandedKeys),a=()=>{l.value=!1},s=e=>{e.stopPropagation()},d=e=>{l.value=!l.value,e.stopPropagation()};return C((()=>{document.body.addEventListener("click",a)})),D((()=>{document.body.removeEventListener("click",a)})),A((()=>r.value),(l=>{t.emit("update:checkedKeys",l.length>0?l:[...e.allTreeKeys])})),A((()=>l.value),(t=>{!t&&(i.value=[...e.allTreeKeys])})),A((()=>e.checkedKeys),(e=>{r.value=e})),()=>w("div",{class:"s-table-settings-container",style:e.style,onClick:d},[w("div",{class:"s-table-settings-icon"},[w(f,{style:{color:n.value.colorPrimary}},null)]),w("div",{class:"s-table-settings-title"},[e.title]),w((()=>l.value?(z((()=>{o.value&&(o.value.style.width=o.value.getBoundingClientRect().width+"px")})),w("div",{ref:o,class:"s-table-settings-overlay",onMouseleave:a,onClick:s},[w(gt,{style:{margin:!0===e.multiline?"7px 10px 3px 5px":"7px 10px 3px -8px"},checkedKeys:r.value,"onUpdate:checkedKeys":e=>r.value=e,expandedKeys:i.value,"onUpdate:expandedKeys":e=>i.value=e,dropHandler:e.dropHandler,draggable:e.draggable,treeData:e.treeData,allowSelectToCheck:!0,checkedMode:"link",selectable:!1,checkable:!0},null)])):w("span",null,null)),null,null)])}}),Tt=x({name:"STableLoading",inheritAttrs:!1,props:{optionser:o().isRequired},setup(e){let t="50%",l="50%",n="auto",o="auto";const r=j((()=>({scroller:e.optionser.resizerContainer.value,container:e.optionser.refTableContainer.value,windowWidth:e.optionser.windowInnerWidth.value,windowHeight:e.optionser.windowInnerHeight.value,scrollLeft:e.optionser.resizerScrollLeft.value,scrollTop:e.optionser.resizerScrollTop.value})));return()=>{if("undefined"!=typeof HTMLElement&&r.value.container instanceof HTMLElement&&r.value.scroller instanceof HTMLElement){const e=r.value.container.getBoundingClientRect(),i=r.value.scroller.getBoundingClientRect();t=Math.max(e.top,i.top),l=Math.max(e.left,i.left),n=Math.min(e.right,i.right,r.value.windowWidth),o=Math.min(e.bottom,i.bottom,r.value.windowHeight),t=t-e.top+(o-t)/2,l=l-e.left+(n-l)/2,t=t>100?t:100,l=l>100?l:100}return w("div",{class:"s-table-loading-container"},[w("span",{class:"s-table-loading-dot-group",style:{top:t+"px",left:l+"px"}},[w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null)]),w("div",{class:"s-table-loading-text",style:{top:t+"px",left:l+"px"}},[w("span",null,[V("正在加载中...")])])])}}}),At=x({name:"STableDragger",inheritAttrs:!1,props:{top:n().def(0),left:n().def(0),value:l().isRequired,allow:e().isRequired,rowIndex:n().isRequired,colIndex:n().isRequired,container:o().isRequired},setup:(e,t)=>()=>w("div",{style:{top:e.top+"px",left:e.left+"px"},class:"s-table-dragger-container"},[w("div",{class:"s-table-dragger-icon"},[e.allow?w(b,{style:"font-size: 14px; color: #606266;"},null):w(h,{style:"font-size: 14px; color: #606266;"},null)]),w("div",{class:"s-table-dragger-value"},[e.value])])}),It=x({name:"STableCursor",inheritAttrs:!1,props:{top:n().def(0),left:n().def(0),width:n().def(0),height:n().def(0)},setup:e=>()=>w("div",{class:"s-table-cursor-container",style:{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"}},null)}),zt=x({name:"STableSorter",inheritAttrs:!1,props:{field:t().isRequired,value:t().isRequired},emits:{change:e=>!0},setup(e,t){const l=fe.useToken().token,n=l=>{e.field&&!e.value&&t.emit("change",{field:e.field,value:"ascend"}),e.field&&"ascend"===e.value&&t.emit("change",{field:e.field,value:"descend"}),e.field&&"descend"===e.value&&t.emit("change",{field:e.field,value:""}),l.stopPropagation(),l.preventDefault()};return()=>w("div",{class:"s-table-sorter-container",onClick:n},[w(g,{style:{fontSize:"11px",color:"ascend"===e.value?l.value.colorPrimary:"rgba(0, 0, 0, 0.45)"}},null),w(y,{style:{fontSize:"11px",color:"descend"===e.value?l.value.colorPrimary:"rgba(0, 0, 0, 0.45)",marginTop:"-0.3em"}},null)])}}),Pt=x({name:"STableEmpty",inheritAttrs:!1,setup:()=>()=>w("div",{class:"s-table-empty-container"},[w(ge,{image:ge.PRESENTED_IMAGE_SIMPLE},null)])});function Rt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!F(e)}const Et=x({name:"STable",props:{size:t().def(void 0),rowKey:l().def(""),treeKey:l().def("children"),border:l().def(!1),sticky:o().def((()=>({}))),scroll:o().def((()=>({}))),columns:r().def((()=>[])),sources:r().def((()=>[])),summarys:r().def((()=>[])),paginate:l().def((()=>({}))),loadData:a().def(void 0),tableLayout:t().def(void 0),persistSourceRanges:l().def(!1),customHeaderRowAttrs:a().def(void 0),customBodyerRowAttrs:a().def(void 0),customFooterRowAttrs:a().def(void 0),customBodyerRowStates:a().def(void 0),customHeaderCellRender:a().def(void 0),customBodyerCellRender:a().def(void 0),customFooterCellRender:a().def(void 0),defaultColumnSorters:r().def((()=>[])),defaultSelectAllRows:e().def(!1),defaultExpandAllRows:e().def(!1),preserveSelectedRowKeys:e().def(!1),preserveExpandedRowKeys:e().def(!1),columnPresetResizable:e().def(!1),columnPresetDraggable:e().def(!1),columnSorterMultiple:e().def(!1),columnPresetSettings:e().def(!1),rowSelectedStrictly:e().def(!0),rowExpandedByClick:e().def(!1),cellMegreNormalize:e().def(!0),expandIndentSize:n().def(void 0),selectIndentSize:n().def(void 0),selectedRowMode:t().def("None"),selectedRowKeys:r().def((()=>[])),expandedRowKeys:r().def((()=>[])),tHeaderThStyle:o().def((()=>({}))),tBodyerTdStyle:o().def((()=>({}))),tFooterTdStyle:o().def((()=>({}))),expandTdStyle:o().def((()=>({}))),paginateStyle:o().def((()=>({}))),loadOnScroll:e().def(!1),bodyMinRows:l().def(!1),showHeader:e().def(!0),showBodyer:e().def(!0),showFooter:e().def(!0),immediate:e().def(!0),loadinger:e().def(!0),loading:e().def(!1),virtual:e().def(!0)},emits:{"update:loading":e=>!0,"update:sources":e=>!0,"update:summarys":e=>!0,"update:paginate":e=>!0,"update:columns":e=>!0,"update:selectedRowKeys":e=>!0,"update:expandedRowKeys":e=>!0,pageSizeChange:(e,t)=>!0,pageChange:(e,t)=>!0,expand:(e,t)=>!0,select:(e,t)=>!0,sorter:e=>!0},setup(e,t){const l={immediate:!0},n={immediate:!0,deep:!0},o=T({minBuffer:5,maxBuffer:10,minHeight:32}),r=T({renderOffset:[0,0],renderBuffer:[0,10]}),i=q(),a=S([...e.columns]),d=S([...e.sources]),c=S([...e.summarys]),u=S([...e.defaultColumnSorters]),p=S([]),f=S([]),b=S([]),h=S([]),g=S([]),y=S([]),x=S([]),N=S([]),P=S([]),R=S([]),K=S([]),O=S([]),L=S([]),M=S([]),D=S([]),V=S([]),$=S([]),B=S([]),Y=S([]),U=S([]),G=S([]),X=S([]),_=S([...e.selectedRowKeys]),Q=S([...e.expandedRowKeys]),J=S([]),Z=S(e.loading),ee=fe.useToken().token,te={refTableNoder:S(null),refTableTheader:S(null),refTableWrapper:S(null),refTableContainer:S(null),tableTheadSizes:S([]),windowInnerWidth:S(0),windowInnerHeight:S(0),getResizerContainer:void 0,resizerContainer:S(null),resizerScrollTop:S(0),resizerScrollLeft:S(0),resizerScrollRight:S(0),resizerScrollBottom:S(0),resizerScrollClientWidth:S(0),resizerScrollClientHeight:S(0),resizerScrollHeight:S(0),resizerScrollWidth:S(0),wrapperScrollTop:S(0),wrapperScrollLeft:S(0),wrapperScrollRight:S(0),wrapperScrollBottom:S(0),wrapperScrollClientHeight:S(0),wrapperScrollClientWidth:S(0),wrapperScrollHeight:S(0),wrapperScrollWidth:S(0),cursor:T({visible:!1,top:0,left:0,width:0,height:0,rowIndex:0,colIndex:0}),dragger:T({activate:!1,visible:!1,rowIndex:0,colIndex:0,allow:!1,value:"",left:0,top:0,element:null}),resizer:{point:0,queues:[],activate:!1}},le={paginate:T({hideOnSinglePage:!!Ge.isBoolean(e.paginate.hideOnSinglePage)&&e.paginate.hideOnSinglePage,defaultPageSize:Ge.isFiniteNumber(e.paginate.defaultPageSize)&&e.paginate.defaultPageSize>0?~~e.paginate.defaultPageSize:20,pageSizeOptions:Ge.isNonEmptyArray(e.paginate.pageSizeOptions)?e.paginate.pageSizeOptions:["10","15","20","25","30","50","100","200","300","500"],showSizeChanger:Ge.isBoolean(e.paginate.showSizeChanger)?e.paginate.showSizeChanger:void 0,showQuickJumper:!!Ge.isBoolean(e.paginate.showQuickJumper)&&e.paginate.showQuickJumper,showLessItems:!!Ge.isBoolean(e.paginate.showLessItems)&&e.paginate.showLessItems,loadTotalSize:Ge.isFiniteNumber(e.paginate.loadTotalSize)&&e.paginate.loadTotalSize>0?~~e.paginate.loadTotalSize:void 0,loadTotalPage:Ge.isFiniteNumber(e.paginate.loadTotalPage)&&e.paginate.loadTotalPage>0?~~e.paginate.loadTotalPage:void 0,loadPageSize:Ge.isFiniteNumber(e.paginate.loadPageSize)&&e.paginate.loadPageSize>0?~~e.paginate.loadPageSize:void 0,loadPageNo:Ge.isFiniteNumber(e.paginate.loadPageNo)&&e.paginate.loadPageNo>0?~~e.paginate.loadPageNo:void 0,totalSize:Ge.isFiniteNumber(e.paginate.totalSize)&&e.paginate.totalSize>0?~~e.paginate.totalSize:0,totalPage:Ge.isFiniteNumber(e.paginate.totalPage)&&e.paginate.totalPage>0?~~e.paginate.totalPage:0,pageSize:Ge.isFiniteNumber(e.paginate.pageSize)&&e.paginate.pageSize>0?~~e.paginate.pageSize:Ge.isFiniteNumber(e.paginate.defaultPageSize)&&e.paginate.defaultPageSize>0?~~e.paginate.defaultPageSize:20,pageNo:Ge.isFiniteNumber(e.paginate.pageNo)&&e.paginate.pageNo>0?~~e.paginate.pageNo:1,showTotal:Ge.isFunction(e.paginate.showTotal)?e.paginate.showTotal:!0===e.paginate.showTotal?(e,t)=>`第 ${t[0]}-${t[1]} 条 (共 ${e} 条)`:void 0,disabled:!!Ge.isBoolean(e.paginate.disabled)&&e.paginate.disabled,visible:!!Ge.isBoolean(e.paginate.visible)&&e.paginate.visible,simple:!!Ge.isBoolean(e.paginate.simple)&&e.paginate.simple,fixed:Ge.isBoolean(e.paginate.fixed)?e.paginate.fixed:void 0,mode:"local"===e.paginate.mode?"local":"remote",size:e.size||""}),update:t=>{le.paginate.size=ie.isOwnProperty(t,["size"])?"":le.paginate.size,le.paginate.mode=ie.isOwnProperty(t,["mode"])?"local"===t.mode?"local":"remote":le.paginate.mode,le.paginate.fixed=Ge.isBoolean(e.paginate.fixed)?e.paginate.fixed:Ge.isFiniteNumber(oe.sticky.value.bottomFooter)||!0===oe.sticky.value.bottomFooter,le.paginate.simple=ie.isOwnProperty(t,["simple"])?!0===t.simple:le.paginate.simple,le.paginate.visible=ie.isOwnProperty(t,["visible"])?!0===t.visible:le.paginate.visible,le.paginate.disabled=ie.isOwnProperty(t,["disabled"])?!0===t.disabled:le.paginate.disabled,le.paginate.showTotal=ie.isOwnProperty(t,["showTotal"])?Ge.isFunction(t.showTotal)?t.showTotal:!0===t.showTotal?(e,t)=>`第 ${t[0]}-${t[1]} 条 (共 ${e} 条)`:void 0:le.paginate.showTotal,le.paginate.showLessItems=ie.isOwnProperty(t,["showLessItems"])?!0===t.showLessItems:le.paginate.showLessItems,le.paginate.defaultPageSize=ie.isOwnProperty(t,["defaultPageSize"])?Ge.isFiniteNumber(t.defaultPageSize)&&t.defaultPageSize>0?t.defaultPageSize:20:le.paginate.defaultPageSize,le.paginate.pageSizeOptions=ie.isOwnProperty(t,["pageSizeOptions"])?Ge.isNonEmptyArray(t.pageSizeOptions)?t.pageSizeOptions:["10","15","20","25","30","50","100","200","300","500"]:le.paginate.pageSizeOptions,le.paginate.showSizeChanger=ie.isOwnProperty(t,["showSizeChanger"])?Ge.isBoolean(t.showSizeChanger)?t.showSizeChanger:void 0:le.paginate.showSizeChanger,le.paginate.showQuickJumper=ie.isOwnProperty(t,["showQuickJumper"])?!0===t.showQuickJumper:le.paginate.showQuickJumper,le.paginate.hideOnSinglePage=ie.isOwnProperty(t,["hideOnSinglePage"])?!0===t.hideOnSinglePage:le.paginate.hideOnSinglePage,le.paginate.pageNo=ie.isOwnProperty(t,["pageNo"])?Ge.isFiniteNumber(t.pageNo)&&t.pageNo>0?~~t.pageNo:1:le.paginate.pageNo,le.paginate.pageSize=ie.isOwnProperty(t,["pageSize"])?Ge.isFiniteNumber(t.pageSize)&&t.pageSize>0?~~t.pageSize:20:le.paginate.pageSize,le.paginate.totalSize=ie.isOwnProperty(t,["totalSize"])?Ge.isFiniteNumber(t.totalSize)&&t.totalSize>0?~~t.totalSize:0:le.paginate.totalSize,le.paginate.totalPage=ie.isOwnProperty(t,["totalPage"])?Ge.isFiniteNumber(t.totalPage)&&t.totalPage>0?~~t.totalPage:0:~~(le.paginate.totalSize/le.paginate.pageSize)+(le.paginate.totalSize%le.paginate.pageSize?1:0),le.paginate.pageNo=le.paginate.pageNo<=le.paginate.totalPage?le.paginate.pageNo:le.paginate.totalPage,le.paginate.pageNo=le.paginate.pageNo>0?le.paginate.pageNo:1,le.paginate.loadPageNo=ie.isOwnProperty(t,["loadPageNo"])?Ge.isFiniteNumber(t.loadPageNo)&&t.loadPageNo>0?~~t.loadPageNo:1:le.paginate.loadPageNo,le.paginate.loadPageSize=ie.isOwnProperty(t,["loadPageSize"])?Ge.isFiniteNumber(t.loadPageSize)&&t.loadPageSize>0?~~t.loadPageSize:500:le.paginate.loadPageSize,le.paginate.loadTotalSize=ie.isOwnProperty(t,["loadTotalSize"])?Ge.isFiniteNumber(t.loadTotalSize)&&t.loadTotalSize>0?~~t.loadTotalSize:0:le.paginate.loadTotalSize,le.paginate.loadTotalPage=ie.isOwnProperty(t,["loadTotalPage"])?Ge.isFiniteNumber(t.loadTotalPage)&&t.loadTotalPage>0?~~t.loadTotalPage:0:~~(le.paginate.loadTotalSize/le.paginate.loadPageSize)+(le.paginate.loadTotalSize%le.paginate.loadPageSize?1:0),le.paginate.loadPageNo=le.paginate.loadPageNo<=le.paginate.loadTotalPage?le.paginate.loadPageNo:le.paginate.loadTotalPage,le.paginate.loadPageNo=le.paginate.loadPageNo>0?le.paginate.loadPageNo:1}},ne={core:e=>"local"!==le.paginate.mode?ne.send(e):"local"===le.paginate.mode?ne.parse(e):void 0,send:t=>{if(!Ge.isFunction(e.loadData))return void ae.updateScrollToFirstRange();Z.value||(Z.value=!0);const l={sorter:ie.getValue(u),paginate:{pageNo:t.pageNo,pageSize:t.pageSize,totalPage:t.totalPage,totalSize:t.totalSize,mode:t.mode}};return Promise.resolve(e.loadData(l)).then((e=>Promise.resolve(wt(e)).then((e=>{if(le.update({pageNo:e.pageNo,totalSize:e.totalSize}),le.paginate.pageNo>le.paginate.totalPage&&le.paginate.pageNo>1)return le.update({pageNo:le.paginate.pageNo-1}),ne.refresh();ie.isSourcesChanged(e.data.slice(0,K.value.length),K.value)&&(L.value=[],M.value=[],D.value=[],V.value=[],$.value=[]),ae.updateScrollToFirstRange(),J.value=[],K.value=ie.normalizeTreeSources(e.data,[]),O.value=ie.normalizeListSources(K.value,[]),ie.normalizeInitSources(O.value),ie.cleanSelectedRowKeys(),ie.cleanExpandedRowKeys(),Z.value=!1})))).catch((()=>{ae.updateScrollToFirstRange(),le.update(l.paginate),Z.value=!1}))},parse:e=>{},reload:async(e,t)=>{t=Ge.isBoolean(e)?e:!0===t,e=Ge.isBoolean(e)?Promise.resolve():e;const l=()=>{t&&ie.forceUpdate()};return Ge.toPromise(e).then((()=>ne.core({...le.paginate}))).finally((()=>l))},refresh:async(e,t)=>{t=Ge.isBoolean(e)?e:!0===t,e=Ge.isBoolean(e)?Promise.resolve():e;const l=()=>{t&&ie.forceUpdate()};return Ge.toPromise(e).then((()=>ne.core({...le.paginate,pageNo:1}))).finally((()=>l))}},oe={size:j((()=>{var t,l;return e.size||("large"===(null==(t=i.componentSize)?void 0:t.value)?"default":null==(l=i.componentSize)?void 0:l.value)||"default"})),sticky:j((()=>({topHeader:e.sticky.topHeader??!1,leftFooter:e.sticky.leftFooter??!0,rightFooter:e.sticky.rightFooter??!0,bottomFooter:e.sticky.bottomFooter??!0,bottomScrollbar:e.sticky.bottomScrollbar??!1}))),scroll:j((()=>({x:e.scroll.x??!1,y:e.scroll.y??!1,overflow:["hidden","visible","scroll","auto","unset"].includes(e.scroll.overflow)?e.scroll.overflow:null,getScrollResizeContainer:()=>{var t,l,n;return(null==(l=(t=e.scroll).getScrollResizeContainer)?void 0:l.call(t))||(null==(n=te.getResizerContainer)?void 0:n.call(te))},scrollToFirstXOnChange:!1!==e.scroll.scrollToFirstXOnChange,scrollToFirstYOnChange:!1!==e.scroll.scrollToFirstYOnChange,scrollToFirstOffsetX:e.scroll.scrollToFirstOffsetX,scrollToFirstOffsetY:e.scroll.scrollToFirstOffsetY,scrollToFirstTargetX:e.scroll.scrollToFirstTargetX,scrollToFirstTargetY:e.scroll.scrollToFirstTargetY}))),virtual:j((()=>!1!==e.virtual)),bodyMinRows:j((()=>!0===e.bodyMinRows?Math.max(le.paginate.pageSize,0):!1===e.bodyMinRows?0:Math.max(e.bodyMinRows,0))),loadOnScroll:j((()=>"local"===le.paginate.mode&&!1!==e.loadOnScroll)),persistSourceRanges:j((()=>{if(Ge.isNonEmptyArray(e.persistSourceRanges)){const t=e.persistSourceRanges.filter((e=>Ge.isArray(e)&&+e[0]>=0&&+e[1]>=0&&+e[0]!=+e[1])).map((e=>[Math.min(+e[0],+e[1]),Math.max(+e[0],+e[1])]));t.sort(((e,t)=>e[0]-t[0]));let l=[0,0],n=[];for(const e of t)e[0]<l[1]?l[1]=Math.max(l[1],e[1]):(n=[...n,e],l=e);return n}return!0===e.persistSourceRanges}))},re={scrollbar:j((()=>{let e="visible";return e="100%"!==re.tableBodyWidth.value?"auto":e,e="auto"!==re.tableBodyHeight.value?"auto":e,e=re.tableBodyOverflow.value??e,{overflow:e,optionser:te,direction:"horizontal"}})),hasBorder:j((()=>!0===e.border||f.value.length>1)),hasHeader:j((()=>!1!==e.showHeader&&b.value.length>0)),hasBodyer:j((()=>!1!==e.showBodyer&&O.value.length>0)),hasFooter:j((()=>!1!==e.showFooter&&B.value.length>0)),hasSelection:j((()=>"Checkbox"===e.selectedRowMode||"Radio"===e.selectedRowMode)),isFixedTop:j((()=>!0===oe.sticky.value.topHeader||Ge.isFiniteNumber(oe.sticky.value.topHeader)||/^[+-]?\d+\.?\d*(px)?$/.test(`${oe.scroll.value.y}`))),fixedLeftIndex:j((()=>{const e=[];for(const t of re.filterListColumns.value)for(const l of t)l&&l.colSpan>0&&l.rowSpan>0&&"left"===l.fixed&&e.push(l.colOffset+l.colSpan-1);return e.length>0?Math.max(...e):-1})),fixedRightIndex:j((()=>{const e=[];for(const t of re.filterListColumns.value)for(const l of t)l&&l.colSpan>0&&l.rowSpan>0&&"right"===l.fixed&&e.push(l.colOffset);return e.splice(0,e.length,...e.filter((e=>e>re.fixedLeftIndex.value))),e.length>0?Math.min(...e):-1})),tableBodyWidth:j((()=>{const e=oe.scroll.value.x,t=te.resizerScrollClientWidth.value,l=te.windowInnerWidth.value;return/^0(px)?$|^-\d+\.?\d*(px)?$/.test(`${e}`)?(t||l)+parseInt(`${e}`)+"px":/^\+?\d+\.?\d*(px)?$/.test(`${e}`)?parseInt(`${e}`)+"px":"string"==typeof e&&e||"100%"})),tableBodyHeight:j((()=>{const e=oe.scroll.value.y,t=le.paginate,l=!0!==t.visible||t.totalPage<=1&&t.hideOnSinglePage,n="small"===t.size||t.simple?36:44,o=te.resizerScrollClientHeight.value,r=te.windowInnerHeight.value;return/^0(px)?$|^-\d+\.?\d*(px)?$/.test(`${e}`)?l?(o||r)+parseInt(`${e}`)+"px":(o||r)+parseInt(`${e}`)-n+"px":/^\d+\.?\d*(px)?$/.test(`${e}`)?l?parseInt(`${e}`)+"px":parseInt(`${e}`)-n+"px":"auto"})),tableBodyOverflow:j((()=>void 0===oe.scroll.value.overflow||null===oe.scroll.value.overflow||["auto","hidden","visible"].includes(oe.scroll.value.overflow)?oe.scroll.value.overflow:"visible")),filterListColumns:j((()=>{const e=[],t=(l,n=[],o)=>{var r;let i=0,a=0,s=0;o&&(i=o.referColumn.rowSpan,a=o.referColumn.colOffset,s=o.referColumn.rowOffset,s=i>0?s+i:s);for(const d of l){const l=d.referColumn.rowIndex,i=d.referColumn.colIndex,c=null==(r=e.find((e=>e.rowIndex===l&&e.colIndex===i)))?void 0:r.cacher,u=c?Ge.isFiniteNumber(null==c?void 0:c.rowSpan)&&c.rowSpan>0?c.rowSpan:0:1,p=c?Ge.isFiniteNumber(null==c?void 0:c.colSpan)&&c.colSpan>0?c.colSpan:0:1,f=c?!Ge.isBoolean(c.resizable)||c.resizable:d.referColumn.resizable,b=ie.getValue(P.value[l][i]);if(!y.value.includes(d.key))continue;const h={...d,parentColumn:o||null,treeChildren:[],referColumn:{...d.referColumn,colSpan:p,rowSpan:u,resizable:!1!==f,colOffset:a,rowOffset:s,colMaxSpan:p,rowMaxSpan:u>0?s+u:s,align:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"align")?b.align??d.referColumn.align:d.referColumn.align,fixed:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"fixed")?b.fixed??d.referColumn.fixed:d.referColumn.fixed,width:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"width")?b.width??d.referColumn.width:d.referColumn.width,minWidth:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"minWidth")?b.minWidth??d.referColumn.minWidth:d.referColumn.minWidth,maxWidth:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"maxWidth")?b.maxWidth??d.referColumn.maxWidth:d.referColumn.maxWidth,ellipsis:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"ellipsis")?b.ellipsis??d.referColumn.ellipsis:d.referColumn.ellipsis,tooltip:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"tooltip")?b.tooltip??d.referColumn.tooltip:d.referColumn.tooltip,sorter:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"sorter")?b.sorter??d.referColumn.sorter:d.referColumn.sorter}};if(Ge.isNonEmptyArray(d.treeChildren)){const e=t(d.treeChildren,[],h),l=e.filter((e=>e.referColumn.rowSpan>0&&e.referColumn.colSpan>0)),o=Math.max(...l.map((e=>e.referColumn.rowMaxSpan)),h.referColumn.rowMaxSpan),r=l.reduce(((e,t)=>e+t.referColumn.colMaxSpan),0),i=e.some((e=>!1!==e.referColumn.resizable));h.referColumn.rowMaxSpan=o,h.referColumn.colMaxSpan=r,h.referColumn.resizable=i,h.referColumn.colSpan=r,h.treeChildren=e,Ge.isNonEmptyArray(e)&&n.push(h)}Ge.isNonEmptyArray(d.treeChildren)||n.push(h),a+=u>0&&p>0?p:0}return n},l=(e,t=[],n=!0)=>{for(const o of e){const e=o.referColumn.colIndex,n=o.referColumn.rowIndex;t[n]=t[n]||[],t[n][e]=t[n][e]||T(o.referColumn),Ge.isNonEmptyArray(o.treeChildren)&&l(o.treeChildren,t,!1)}return t};return((e,t)=>{const l=t.mergers,n=t.cachers,o=t.spikers,r=t.empters,i=e=>{const t=e.map((e=>y.value.includes(e.key)?e.rowMaxSpan:0));return Math.max(0,...t)},a=e=>Ge.isNonEmptyArray(e.children)?e.children.reduce(((e,t)=>e+a(t)),0):y.value.includes(e.key)?e.colMaxSpan:0,s=e=>{if(Ge.isNonEmptyArray(e.children))return e.children.reduce(((e,t)=>e+s(t)),0);const t=ie.getValue(P.value[e.rowIndex][e.colIndex]),l=Ge.isFiniteNumber(null==t?void 0:t.colSpan)?t.colSpan:Ge.isFiniteNumber(e.colSpan)?e.colSpan:1;return y.value.includes(e.key)?l:0};for(const[d,c]of e.entries()){const e=n[d]||new Map,t=o[d]||new Set,l=r[d]||new Set;n[d]=e,o[d]=t,r[d]=l;for(const[n,o]of c.entries()){if(!o){e.set(n,{index:n,colSpan:1,rowSpan:1,colCount:0,rowCount:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});continue}let t=0,l=0,r=0,d=0,c=!0;const u=a(o),p=i(b.value),f=ie.getValue(N.value[o.rowIndex][o.colIndex]),h=ie.getValue(P.value[o.rowIndex][o.colIndex]),g=ie.getValue(R.value[o.rowIndex][o.colIndex]);l=Ge.isFiniteNumber(null==h?void 0:h.rowSpan)?h.rowSpan:Ge.isFiniteNumber(o.rowSpan)?o.rowSpan:o.rowIndex===o.rowMaxSpan-1?Math.max(p-o.rowIndex,1):1,t=Ge.isFiniteNumber(null==h?void 0:h.colSpan)?h.colSpan:Ge.isFiniteNumber(o.colSpan)?o.colSpan:s(o),c=!1!==(null==h?void 0:h.cellSpan)&&y.value.includes(o.key),r=t-u,d=l-1,e.set(n,{index:n,colSpan:t,rowSpan:l,colCount:r,rowCount:d,cellAttrs:f,cellProps:h,cellValue:g,cellRender:c})}}for(const[d,c]of e.entries())for(const[t]of c.entries()){const l=n[d],o=l.get(t),r=ie.findParentColumn(e,d,t);let i=o.rowCount,a=o.colCount;if(i>0){for(let e=1;e<=i;e++){const l=n[d+e],r=l.get(t);l&&r&&l.set(t,{index:t,colSpan:o.colSpan,colCount:o.colCount,rowSpan:0,rowCount:-1,cellAttrs:r.cellAttrs,cellProps:r.cellProps,cellValue:r.cellValue,cellRender:!0})}o.rowCount=i=0}if(a>0){for(let e=t+1;e<c.length;e++){const n=t+e,o=null==l?void 0:l.get(n);o&&o.colCount<0&&(a+=o.colCount)}for(let n=1;n<=a;n++){const i=t+n,s=l.get(i),u=ie.findParentColumn(e,d,i),p=c[i];if(r!==u||!p||p.children.length>0){o.colCount=0,o.colSpan=o.colSpan-(a-n+1);break}s.colCount>=0&&l.set(i,{index:i,rowCount:s.rowCount,rowSpan:s.rowSpan,colCount:s.colCount-1,colSpan:s.colSpan-1,cellAttrs:s.cellAttrs,cellProps:s.cellProps,cellValue:s.cellValue,cellRender:!0})}}}for(const[d,c]of e.entries())for(const[e,t]of c.entries()){const i=n[d],a=o[d],s=r[d],u=ie.takeCellMegre({index:e,colIndex:e,rowIndex:d,cachers:i,spikers:a,empters:s});if(t){const t=c.filter(((t,l)=>l===e||l>e&&l<e+u.cacher.colSpan)).some((e=>!1!==e.resizable));Object.assign(u.cacher,{resizable:t})}l.push(u)}})(f.value,{mergers:e,cachers:[],spikers:[],empters:[]}),l(t(p.value))})),filterDataColumns:j((()=>{const e=[],t=[];for(const l of re.filterListColumns.value)for(const t of l)t&&t.rowOffset+t.rowSpan===t.rowMaxSpan&&(e[t.colIndex]=t);for(const l of e)l&&t.push(l);return t})),filterPageSources:j((()=>O.value.filter((e=>{const t=e.parentKeys,l=Q.value;return!t.some((e=>!l.includes(e)))&&(!0===oe.loadOnScroll.value||e.rowGroupIndex>=le.paginate.pageSize*(le.paginate.pageNo-1)||e.rowGroupIndex<le.paginate.pageSize*le.paginate.pageNo)})).map(((e,t)=>({...e,rowIndex:t+1}))))),filterRangeSources:j((()=>{var e,t;let l=1/0,n=-1/0;const o=r.renderBuffer[0],i=r.renderBuffer[1],a=r.renderOffset[0],s=r.renderOffset[1],d=re.filterPageSources.value,c=a-o>0?a-o:0,u=s+i<O.value.length?s+i:O.value.length,p=(null==(e=d.find(((e,t)=>t>=c)))?void 0:e.rowGroupIndex)||0,f=(null==(t=d.findLast(((e,t)=>t<=u)))?void 0:t.rowGroupIndex)||0;if(Ge.isArray(oe.persistSourceRanges.value))for(const r of oe.persistSourceRanges.value)(p>=r[0]||f<=r[1])&&(l=Math.min(r[0],l),n=Math.max(r[0],n));return d.filter(((e,t)=>!0!==oe.virtual.value||(!0===oe.persistSourceRanges.value||(d.length<=oe.bodyMinRows.value||(e.rowGlobalIndex>=l&&e.rowGlobalIndex<=n||t>=c&&t<=u)))))})),filterPageSummarys:j((()=>B.value.filter((e=>e)))),overflowScrollBottom:j((()=>te.wrapperScrollBottom.value>1||te.resizerScrollBottom.value>1)),overflowScrollRight:j((()=>te.wrapperScrollRight.value>1||te.resizerScrollRight.value>1)),overflowScrollLeft:j((()=>te.wrapperScrollLeft.value>1||te.resizerScrollLeft.value>1)),overflowScrollTop:j((()=>te.wrapperScrollTop.value>1||te.resizerScrollTop.value>1))},ie={getValue:e=>I(E(e)),getVNodes:e=>Ge.isNonEmptyObject(e)&&e.type===W?Ge.isNonEmptyArray(e.children)?e:null:e,isVueNode:e=>Ge.isNonEmptyObject(e)&&F(e),isOwnProperty(e,t){for(const l of t){if(!Ge.isNonEmptyArray(e)&&!Ge.isNonEmptyObject(e))return!1;if(!Ge.isString(l)&&!Ge.isFiniteNumber(l))return!1;if(!Object.hasOwn(e,l))return!1;e=e[l]}return!0},takeCellMegre(e){const t=e.index,l=e.colIndex,n=e.rowIndex,o=e.cachers,r=e.spikers,i=e.empters,a=o.get(t),s=r.has(t),d=a.cellRender,c=a.colCount;if(!s&&0!==c&&d){const e=a.colCount>0,l=a.colCount<0,n=Array.from(o.values());n.sort(((e,t)=>e.index-t.index));const s=n.filter((e=>!r.has(e.index)&&e.index>t)),d=s.filter((e=>e.colCount<0)),c=s.filter((e=>e.colCount>0));if(l){const e={taskers:[],refers:[a],counts:1};for(const t of s){if(!t.cellRender||t.rowSpan>0&&t.colSpan>0)break;e.refers.push(t),e.counts++}for(const t of c){if(e.counts<1)break;const l=e.counts,n=t.colCount,o=t.cellRender,i=e.taskers.slice(-1)[0];i&&i.render===o||e.taskers.push({count:n>l?l:n,render:o}),i&&i.render===o&&(i.count+=n>l?l:n),l>=n&&r.add(t.index),e.counts=l>=n?l-n:0,t.colCount=n>=l?n-l:0}for(const t of e.taskers){let l=0;for(;l<t.count;){const n=e.refers.shift(),o=0==l++;n.colCount=0,n.colSpan=o&&!t.render?t.count:0,i.add(n.index),r.add(n.index)}}for(const[t,l]of e.refers.entries())l.colCount=0,l.colSpan=0===t?e.refers.length:0,i.add(l.index),r.add(l.index)}if(e){for(const e of d){if(a.colCount<1)break;i.add(e.index),r.add(e.index),a.colSpan=e.cellRender?a.colSpan:a.colSpan-1,a.colCount=a.colCount+e.colCount}a.colSpan=a.colSpan-(a.colCount>0?a.colCount:0),a.colSpan=a.colSpan>0?a.colSpan:0,a.colCount=0}r.add(a.index)}if(!s&&0!==c&&!d){const e=a.colCount>0,l=a.colCount<0,n=Array.from(o.values());n.sort(((e,t)=>e.index-t.index));const s=n.filter((e=>!r.has(e.index)&&e.index>t)),d=s.filter((e=>e.colCount<0)),c=s.filter((e=>e.colCount>0));if(l)for(const t of c){t.colSpan--,t.colCount--,0===t.colCount&&r.add(t.index);break}if(e){const e={taskers:[]};for(const t of d){if(a.colCount<1)break;const l=t.cellRender,n=e.taskers.slice(-1)[0];n&&n.render===l||e.taskers.push({render:t.cellRender,refers:[t]}),n&&n.render===l&&n.refers.push(t),a.colCount--}for(const t of e.taskers){const e=t.render,l=t.refers;for(const[t,n]of l.entries())n.colCount=0,n.colSpan=e&&0===t?l.length:0,i.add(n.index),r.add(n.index)}a.colSpan=a.colSpan-(a.colCount>0?a.colCount:0),a.colSpan=a.colSpan>0?a.colSpan:0,a.colCount=0}r.add(a.index)}return{index:t,colIndex:l,rowIndex:n,cacher:o.get(t),spiker:r.has(t),empter:i.has(t)}},restoreColumns:e=>e.map((e=>{const t={...e.cacheColumn,children:Ge.isNonEmptyArray(e.treeChildren)?ie.restoreColumns(e.treeChildren):Ge.isArray(e.cacheColumn.children)?[]:e.cacheColumn.children};return void 0===t.children&&delete t.children,t})),restoreSources:e=>e.map((e=>e.referRecord)),recloneColumns:(e,t=null)=>e.map((e=>{const l={...e,parentColumn:t},n=ie.recloneColumns(e.treeChildren,l);return Object.assign(l,{treeChildren:n})})),dragerColumns(e,t,l){const n=ie.findTreeColumns(e,t.rowIndex,t.colIndex),o=ie.findTreeColumns(e,l.rowIndex,l.colIndex),r=n?n.parentColumn:null,i=r?r.treeChildren:e,a=i.findIndex((e=>e===n)),s=i.findIndex((e=>e===o));return n&&o?n.parentColumn!==o.parentColumn?e:i.includes(n)&&i.includes(o)?(i.splice(a,1),i.splice(s,0,n),e):e:e},findTreeColumns(e,t,l){for(const n of e){if(n.referColumn.rowIndex!==t){const e=ie.findTreeColumns(n.treeChildren,t,l);if(e)return e}if(n.referColumn.rowIndex===t&&n.referColumn.colIndex===l)return n}return null},findParentColumn(e,t,l){var n;if(t>0){const o=null==(n=e[t-1])?void 0:n.filter(((e,t)=>t<=l));return(null==o?void 0:o.findLast((e=>!!e)))||null}return null},findListColumns(e,t,l){for(const n of e)for(const e of n)if((null==e?void 0:e.rowIndex)===t&&(null==e?void 0:e.colIndex)===l)return e;return null},isColumnsChanged(e,t){if(e.length!==t.length)return!0;for(const l of e.keys()){let n=!1;const o=ie.getValue(e[l]),r=ie.getValue(t[l]),i=r.cacheColumn;if(n=!Ge.equal(o,i,{include:["key","title","dataIndex","align","fixed","width","minWidth","maxWidth","settings","resizable","ellipsis","tooltip","colSpan","rowSpan","sorter","sorterField","sorterValueChange","customHeaderCellRender","customBodyerCellRender","customFooterCellRender"]}),n||(Ge.isArray(o.children)||(n=void 0!==o.children&&null!==o.children||!Ge.isEmptyArray(r.treeChildren)),Ge.isArray(o.children)&&(n=ie.isColumnsChanged(o.children,r.treeChildren))),n)return!0}return!1},isSourcesChanged(t,l){if(t.length!==l.length)return!0;for(const n of t.keys()){let o=!1,r="",i="";const a=ie.getValue(t[n]),s=ie.getValue(l[n]),d=ie.getValue(s.referRecord);if(r=Ge.isFunction(e.treeKey)?e.treeKey(a):r,r=Ge.isNonEmptyString(e.treeKey)?e.treeKey:r,r=Ge.isNonEmptyString(r)?r.trim():"",i=Ge.isFunction(e.rowKey)?e.rowKey(a):i,i=Ge.isNonEmptyString(e.rowKey)?e.rowKey:i,i=Ge.isNonEmptyString(i)?i.trim():"",a!==d)return!0;if(Ge.isNonEmptyString(r)&&!Ge.isArray(a[r])&&(o=void 0!==a[r]&&null!==a[r]||!Ge.isEmptyArray(s.treeChildren)),Ge.isNonEmptyString(r)&&Ge.isArray(a[r])&&(o=ie.isSourcesChanged(a[r],s.treeChildren)),o)return!0}return!1},isSummaryChanged(e,t){if(e.length!==t.length)return!0;if(e===t)return!1;for(const l of e.keys()){if(ie.getValue(e[l])!==ie.getValue(t[l]))return!0}return!1},normalizeTreeColumns(t,l=[],n){var o;let r=n?n.referColumn.colOffset:0;for(const[i,a]of t.entries()){const t=Ge.isFiniteNumber(a.minWidth)&&a.minWidth>0?a.minWidth:0,s=Ge.isFiniteNumber(a.maxWidth)&&a.maxWidth<1/0?a.maxWidth:1/0,d=Ge.isNonEmptyObject(a.settings)?{checkbox:!1!==a.settings.checkbox,disabled:!0===a.settings.disabled}:{checkbox:!0,disabled:!1},c=Ge.isBoolean(a.resizable)?a.resizable:(null==n?void 0:n.referColumn.resizable)??e.columnPresetResizable,p=a.sorterField??(Ge.isArray(a.dataIndex)?a.dataIndex.join("."):a.dataIndex),f=(null==(o=u.value.find((e=>e.field===p)))?void 0:o.value)??"",b=a.key||[].concat(a.dataIndex).join(".");n&&(d.checkbox=!1!==d.checkbox&&!1!==n.referColumn.settings.checkbox,d.disabled=!0===d.disabled&&!0===n.referColumn.settings.disabled);const h={key:b,title:a.title,childKeys:[],parentKey:n?n.key:null,parentKeys:n?[...n.parentKeys,n.key]:[],referColumn:{key:b,title:a.title,parentKey:n?n.key:"",dataIndex:a.dataIndex,children:[],align:a.align??(null==n?void 0:n.referColumn.align)??"left",fixed:a.fixed??(null==n?void 0:n.referColumn.fixed)??!1,width:a.width,minWidth:t,maxWidth:s,settings:d,resizable:t<s&&!0===c,ellipsis:a.ellipsis??(null==n?void 0:n.referColumn.ellipsis)??!1,tooltip:a.tooltip??(null==n?void 0:n.referColumn.tooltip)??!1,colIndex:r+i,rowIndex:n?n.referColumn.rowIndex+1:0,colOffset:r+i,rowOffset:n?n.referColumn.rowIndex+1:0,colMaxSpan:1,rowMaxSpan:n?n.referColumn.rowMaxSpan+1:1,colSpan:Ge.isFiniteNumber(a.colSpan)?a.colSpan:NaN,rowSpan:Ge.isFiniteNumber(a.rowSpan)?a.rowSpan:NaN,sorter:!0===(a.sorter??(null==n?void 0:n.referColumn.sorter)),sorterField:p,sorterValue:f,expandIcon:a.expandIcon??(null==n?void 0:n.referColumn.expandIcon),sorterValueChange:a.sorterValueChange??(null==n?void 0:n.referColumn.sorterValueChange),customHeaderCellRender:a.customHeaderCellRender??(null==n?void 0:n.referColumn.customHeaderCellRender),customBodyerCellRender:a.customBodyerCellRender??(null==n?void 0:n.referColumn.customBodyerCellRender),customFooterCellRender:a.customFooterCellRender??(null==n?void 0:n.referColumn.customFooterCellRender)},cacheColumn:a,parentColumn:n||null,treeChildren:[],rowGroupLevel:n?n.rowGroupLevel+1:1,rowGroupIndex:n?n.rowGroupIndex:i,rowGroupIndexs:n?{...n.rowGroupIndexs,[n.rowGroupLevel+1]:i}:{1:i}};if(l.push(h),Ge.isNonEmptyArray(a.children)){const e=ie.normalizeTreeColumns(a.children,[],h),t=Math.max(...e.map((e=>e.referColumn.rowMaxSpan)),h.referColumn.rowMaxSpan),l=e.reduce(((e,t)=>e+t.referColumn.colMaxSpan),0)||1,n=[...e.map((e=>e.key)),...e.map((e=>e.childKeys)).flat()],o=e.some((e=>e.referColumn.resizable));h.referColumn.children=e.map((e=>e.referColumn)),h.referColumn.rowMaxSpan=t,h.referColumn.colMaxSpan=l,h.referColumn.resizable=o,h.treeChildren=e,h.childKeys=n,r+=l-1}}return l},normalizeTreeSources(t,l=[],n,r){for(const[i,a]of t.entries()){let t="",s="";t=Ge.isFunction(e.rowKey)?e.rowKey(a):t,t=Ge.isNonEmptyString(e.rowKey)?e.rowKey:t,t=Ge.isNonEmptyString(t)?t.trim():"",s=Ge.isFunction(e.treeKey)?e.treeKey(a):s,s=Ge.isNonEmptyString(e.treeKey)?e.treeKey:s,s=Ge.isNonEmptyString(s)?s.trim():"",r||(r={line:-1}),r.line>=-1&&(r.line+=1);const d=K.value.find((e=>{const l=e.rowKeyField===t,n=Ge.isNonEmptyString(e.key)||Ge.isFiniteNumber(e.key);return l&&n?e.key===a[t]:ie.getValue(e.referRecord)===ie.getValue(a)})),c={key:t&&(a[t]||0===a[t])?a[t]:r.line,parentKey:n?n.key:null,childKeys:[],parentKeys:n?[...n.parentKeys,n.key]:[],referRecord:a,treeChildren:[],rowGroupLevel:n?n.rowGroupLevel+1:1,rowGroupIndex:n?n.rowGroupIndex:i,rowGroupIndexs:n?{...n.rowGroupIndexs,[n.rowGroupLevel+1]:i}:{1:i},rowGlobalIndex:r.line,rowTreeKeyField:s,rowKeyField:t,rowHeight:d?d.rowHeight:o.minHeight,rowIndex:-1};if(l.push(c),Ge.isNonEmptyArray(a[c.rowTreeKeyField])){const e=ie.normalizeTreeSources(a[c.rowTreeKeyField],[],c,r),t=[...e.map((e=>e.key)),...e.map((e=>e.childKeys)).flat()];c.treeChildren=e,c.childKeys=t}J.value.includes(c.key)||J.value.push(c.key)}return l},normalizeTreeSettings(e,t){t=t||g.value;for(const l of e){const e={key:l.key,title:l.title,children:[],disabled:l.referColumn.settings.disabled,column:l.referColumn};if(h.value.includes(l.key)||h.value.push(l.key),y.value.includes(l.key)||l.referColumn.settings.checkbox&&y.value.push(l.key),Ge.isNonEmptyArray(l.treeChildren)){ie.normalizeTreeSettings(l.treeChildren,e.children);let t=!1,n=!1;if(t=t||l.treeChildren.some((e=>y.value.includes(e.key))),n=n||l.treeChildren.some((e=>y.value.includes(e.key)&&e.referColumn.settings.disabled)),n=n||l.treeChildren.every((e=>e.referColumn.settings.disabled)),!t||n){const e=l.cacheColumn.settings=Ge.isObject(l.cacheColumn.settings)?l.cacheColumn.settings:{};e.checkbox=t,e.disabled=n}e.disabled=n,l.referColumn.settings.checkbox=t,l.referColumn.settings.disabled=n,t&&!y.value.includes(l.key)&&(y.value=[...y.value,l.key]),t||!y.value.includes(l.key)||(y.value=y.value.filter((e=>e!==l.key)))}t.push(e)}return t},normalizeListSources(t,l=[]){for(const e of t)l.push(e),Ge.isNonEmptyArray(e.treeChildren)&&ie.normalizeListSources(e.treeChildren,l);for(const n of l)e.defaultSelectAllRows&&"Checkbox"===e.selectedRowMode&&!_.value.includes(n.key)&&_.value.push(n.key),e.defaultExpandAllRows&&!Q.value.includes(n.key)&&Q.value.push(n.key);return l},normalizeListColumns(e,t){for(const l of e){const e=l.referColumn.colOffset,n=l.referColumn.rowOffset;t[n]=t[n]||[],t[n][e]=t[n][e]||l.referColumn,Ge.isNonEmptyArray(l.treeChildren)&&ie.normalizeListColumns(l.treeChildren,t)}return t},normalizeDataColumns(e=[]){const t=[];for(const l of e)for(const e of l)e&&e.rowIndex===e.rowMaxSpan-1&&(t[e.colOffset]=e);return t},normalizeListSummary:(e=[])=>e.map((e=>e)),normalizeInitColumns(t=[]){for(const[l,n]of t.entries())ie.isOwnProperty(x.value,[l])||(Ge.isFunction(e.customHeaderRowAttrs)&&(x.value[l]=e.customHeaderRowAttrs({columns:n,rowIndex:l})),void 0===x.value[l]&&(x.value[l]={}));for(const l of t.flat()){if(!l)continue;const t=l.rowIndex,n=l.colIndex,o=le.paginate,r=ie.isOwnProperty(N.value,[t,n]),i=ie.isOwnProperty(P.value,[t,n]);if(!r||!i){if(N.value[t]=N.value[t]||[],P.value[t]=P.value[t]||[],R.value[t]=R.value[t]||[],N.value[t][n]=void 0,P.value[t][n]=void 0,R.value[t][n]=void 0,Ge.isFunction(e.customHeaderCellRender)){const r=ie.getValue(e.customHeaderCellRender({title:l.title,column:l,rowIndex:t,colIndex:n,paginater:o})),i=!F(r)&&Ge.isObject(r)&&Ge.isObject(r.attrs)&&r.attrs||void 0,a=!F(r)&&Ge.isObject(r)&&Ge.isObject(r.props)&&r.props||void 0,s=F(r)?r:Ge.isObject(r)&&r.children||void 0;N.value[t][n]=void 0===i?N.value[t][n]:i,P.value[t][n]=void 0===a?P.value[t][n]:a,R.value[t][n]=void 0===s?R.value[t][n]:s}if(Ge.isFunction(l.customHeaderCellRender)){const e=l.customHeaderCellRender({title:l.title,column:l,rowIndex:t,colIndex:n,paginater:o}),r=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.attrs)&&e.attrs||void 0,i=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.props)&&e.props||void 0,a=F(e)?e:Ge.isObject(e)&&e.children||void 0;N.value[t][n]=void 0===r?N.value[t][n]:r,P.value[t][n]=void 0===i?P.value[t][n]:i,R.value[t][n]=void 0===a?R.value[t][n]:a}void 0===N.value[t][n]&&(N.value[t][n]={}),void 0===R.value[t][n]&&(R.value[t][n]=l.title)}}return t},normalizeInitSources(t){for(const l of t){const t=ie.isOwnProperty(L.value,[l.rowGlobalIndex]),n=ie.isOwnProperty(M.value,[l.rowGlobalIndex]);if(t&&n)continue;const o=l.referRecord,r=l.rowGroupIndex,i=l.rowGroupLevel,a=l.rowGroupIndex,s=l.rowGroupIndexs,d=l.rowGlobalIndex;Ge.isFunction(e.customBodyerRowAttrs)&&(L.value[d]=e.customBodyerRowAttrs({record:o,rowIndex:r,groupIndex:a,groupLevel:i,groupIndexs:s,globalIndex:d})),Ge.isFunction(e.customBodyerRowStates)&&(M.value[d]=e.customBodyerRowStates({record:o,rowIndex:r,groupIndex:a,groupLevel:i,groupIndexs:s,globalIndex:d})),void 0===L.value[d]&&(L.value[d]={}),void 0===M.value[d]&&(M.value[d]={})}for(const l of b.value){const n=l,o=n.key,r=n.colIndex,i=n.dataIndex,a=le.paginate;for(const l of t){const t=l.referRecord,s=l.rowGroupIndex,d=l.rowGroupLevel,c=l.rowGroupIndex,u=l.rowGroupIndexs,p=l.rowGlobalIndex,f=ie.isOwnProperty(V.value,[p,o]),b=ie.isOwnProperty(D.value,[p,o]);if(f&&b)continue;let h;V.value[p]=V.value[p]||[],D.value[p]=D.value[p]||[],$.value[p]=$.value[p]||[],V.value[p][o]=void 0,D.value[p][o]=void 0,$.value[p][o]=void 0;let g=0;if(h=Ge.isArray(i)&&Ge.isObject(t)?t[i[g++]]:h,h=Ge.isString(i)&&Ge.isObject(t)?t[i]:h,Ge.isNonEmptyArray(i))for(;g<i.length;){if(!Ge.isArray(h)||!Ge.isObject(h)){h=void 0;break}h=h[n.dataIndex[g++]]}if(Ge.isFunction(e.customBodyerCellRender)){const l=e.customBodyerCellRender({value:h,record:t,rowIndex:s,groupIndex:c,groupLevel:d,groupIndexs:u,globalIndex:p,column:n,colIndex:r,paginater:a}),i=!F(l)&&Ge.isObject(l)&&Ge.isObject(l.attrs)&&l.attrs||void 0,f=!F(l)&&Ge.isObject(l)&&Ge.isObject(l.props)&&l.props||void 0,b=F(l)?l:Ge.isObject(l)&&l.children||void 0;V.value[p][o]=void 0===i?V.value[p][o]:i,D.value[p][o]=void 0===f?D.value[p][o]:f,$.value[p][o]=void 0===b?$.value[p][o]:b}if(Ge.isFunction(n.customBodyerCellRender)){const e=n.customBodyerCellRender({value:h,record:t,rowIndex:s,groupIndex:c,groupLevel:d,groupIndexs:u,globalIndex:p,column:n,colIndex:r,paginater:a}),l=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.attrs)&&e.attrs||void 0,i=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.props)&&e.props||void 0,f=F(e)?e:Ge.isObject(e)&&e.children||void 0;V.value[p][o]=void 0===l?V.value[p][o]:l,D.value[p][o]=void 0===i?D.value[p][o]:i,$.value[p][o]=void 0===f?$.value[p][o]:f}void 0===V.value[p][o]&&(V.value[p][o]={}),void 0===D.value[p][o]&&(D.value[p][o]={}),void 0===$.value[p][o]&&($.value[p][o]=h)}}},normalizeInitSummary(t){const l=re.filterPageSources.value.filter((e=>1===e.rowGroupLevel)).map((e=>e.referRecord)),n=le.paginate;for(const[o,r]of t.entries())ie.isOwnProperty(Y.value,[o])||(Ge.isFunction(e.customFooterRowAttrs)&&(Y.value[o]=e.customFooterRowAttrs({record:r,rowIndex:o,sources:l,paginater:n})),void 0===Y.value[o]&&(Y.value[o]={}));for(const o of b.value){const r=o,i=r.key,a=r.colIndex,s=r.dataIndex;for(const[o,d]of t.entries()){const t=ie.isOwnProperty(G.value,[o,i]),c=ie.isOwnProperty(U.value,[o,i]);if(t&&c)continue;let u;G.value[o]=G.value[o]||[],U.value[o]=U.value[o]||[],X.value[o]=X.value[o]||[],G.value[o][i]=void 0,U.value[o][i]=void 0,X.value[o][i]=void 0;let p=0;if(u=Ge.isArray(s)&&Ge.isObject(d)?d[s[p++]]:u,u=Ge.isString(s)?d[s]:u,Ge.isNonEmptyArray(s))for(;p<s.length;){if(!Ge.isArray(u)||!Ge.isObject(u)){u=void 0;break}u=u[r.dataIndex[p++]]}if(Ge.isFunction(e.customFooterCellRender)){const t=e.customFooterCellRender({value:u,record:d,rowIndex:o,column:r,colIndex:a,sources:l,paginater:n}),s=!F(t)&&Ge.isObject(t)&&Ge.isObject(t.attrs)&&t.attrs||void 0,c=!F(t)&&Ge.isObject(t)&&Ge.isObject(t.props)&&t.props||void 0,p=F(t)?t:Ge.isObject(t)&&t.children||void 0;G.value[o][i]=void 0===s?G.value[o][i]:s,U.value[o][i]=void 0===c?U.value[o][i]:c,X.value[o][i]=void 0===p?X.value[o][i]:p}if(Ge.isFunction(r.customFooterCellRender)){const e=r.customFooterCellRender({value:u,record:d,rowIndex:o,column:r,colIndex:a,sources:l,paginater:n}),t=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.attrs)&&e.attrs||void 0,s=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.props)&&e.props||void 0,c=F(e)?e:Ge.isObject(e)&&e.children||void 0;G.value[o][i]=void 0===t?G.value[o][i]:t,U.value[o][i]=void 0===s?U.value[o][i]:s,X.value[o][i]=void 0===c?X.value[o][i]:c}void 0===G.value[o][i]&&(G.value[o][i]={}),void 0===U.value[o][i]&&(U.value[o][i]={}),void 0===X.value[o][i]&&(X.value[o][i]=u)}}},updatePropColumns(l){a.value=ie.restoreColumns(l),ie.isColumnsChanged(e.columns,l)&&t.emit("update:columns",ie.restoreColumns(l))},updatePropSources(l){d.value=ie.restoreSources(l),ie.isSourcesChanged(e.sources,l)&&t.emit("update:sources",ie.restoreSources(l))},updatePropSummarys(l){c.value=[...l],e.summarys.length===l.length&&l.every(((t,l)=>t===e.summarys[l]))||t.emit("update:summarys",[...l])},updatePropPaginate(l){Ge.deepEqual(e.paginate,l)||t.emit("update:paginate",Object.assign(e.paginate,l))},updateSetupSelectedRowKeys(e){(e=Array.from(new Set(e))).every((e=>_.value.includes(e)))&&_.value.every((t=>e.includes(t)))||(_.value=e),ie.cleanSelectedRowKeys()},updatePropSelectedRowKeys(l){(l=Array.from(new Set(l))).every((t=>e.selectedRowKeys.includes(t)))&&e.selectedRowKeys.every((e=>l.includes(e)))||t.emit("update:selectedRowKeys",l)},updateSetupExpandedRowKeys(e){(e=Array.from(new Set(e))).every((e=>Q.value.includes(e)))&&Q.value.every((t=>e.includes(t)))||(Q.value=e),ie.cleanExpandedRowKeys()},updatePropExpandedRowKeys(l){(l=Array.from(new Set(l))).every((t=>e.expandedRowKeys.includes(t)))&&e.expandedRowKeys.every((e=>l.includes(e)))||t.emit("update:expandedRowKeys",l)},cleanSelectedRowKeys(){"Radio"===e.selectedRowMode&&_.value.length>1&&(_.value=_.value.filter((t=>!0===e.preserveSelectedRowKeys||J.value.includes(t))).filter(((e,t)=>t<1))),!0===e.preserveSelectedRowKeys||_.value.every((e=>J.value.includes(e)))||(_.value=_.value.filter((e=>J.value.includes(e))),de.select([..._.value],_.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)}))))},cleanExpandedRowKeys(){!0===e.preserveExpandedRowKeys||Q.value.every((e=>J.value.includes(e)))||(Q.value=Q.value.filter((e=>J.value.includes(e))),de.expand([...Q.value],Q.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)}))))},forceUpdate(t=!1){!0===t&&(J.value=[],_.value=[],Q.value=[],x.value=[],N.value=[],P.value=[],R.value=[],h.value=[],g.value=[],y.value=[],J.value=[],L.value=[],M.value=[],D.value=[],V.value=[],$.value=[],Y.value=[],U.value=[],G.value=[],X.value=[],a.value=[...e.columns],d.value=[...e.sources],c.value=[...e.summarys]),Z.value=!1,x.value=[],N.value=[],P.value=[],R.value=[],h.value=[],g.value=[],p.value=ie.normalizeTreeColumns(a.value,[]),f.value=ie.normalizeListColumns(p.value,[]),b.value=ie.normalizeDataColumns(f.value),ie.normalizeTreeSettings(p.value),ie.normalizeInitColumns(f.value),J.value=[],L.value=[],M.value=[],D.value=[],V.value=[],$.value=[],K.value=ie.normalizeTreeSources(d.value,[]),O.value=ie.normalizeListSources(K.value,[]),ie.normalizeInitSources(O.value),Y.value=[],U.value=[],G.value=[],X.value=[],B.value=ie.normalizeListSummary(c.value),ie.normalizeInitSummary(B.value),ie.cleanSelectedRowKeys(),ie.cleanExpandedRowKeys()}},ae={documentMouseMove(e){if(te.resizer.activate){const t=te.resizer.queues,l=te.resizer.point,n=e.clientX-l,o={queues:t,range:Math.abs(n)};t.sort(((e,t)=>o.range>0?Math.abs(e.maxWidth-e.width)-Math.abs(t.maxWidth-t.width):o.range<0?Math.abs(e.minWidth-e.width)-Math.abs(t.minWidth-t.width):0));for(const[e,r]of t.entries()){const l=Math.abs(o.range/(t.length-e)),i=Math.abs(n>0?r.maxWidth-r.width:n<0?r.minWidth-r.width:0);n<=0&&(r.column.width=r.width-~~Math.min(l,i)),n>0&&(r.column.width=r.width+~~Math.min(l,i)),o.range=o.range-Math.min(l,i)}z((()=>ae.updateTheadContainer()))}if(te.dragger.activate){const t=te.dragger.element,l=te.dragger.rowIndex||0,n=te.dragger.colIndex||0,o=te.refTableWrapper.value,r=o.getBoundingClientRect(),i=o.querySelector(".s-table-thead").getBoundingClientRect(),a=e.clientX<=i.left||e.clientX>=i.right,s=e.clientY<=i.top||e.clientY>=i.bottom,d=document.elementsFromPoint(e.clientX,e.clientY).find((e=>e.classList.contains("s-table-thead-th"))),c=ie.findParentColumn(re.filterListColumns.value,l,n);let u=+((null==d?void 0:d.getAttribute("row-index"))||0),p=+((null==d?void 0:d.getAttribute("col-index"))||0),f=ie.findParentColumn(re.filterListColumns.value,u,p);for(;f&&u>l;)u=f.rowIndex,p=f.colIndex,f=ie.findParentColumn(re.filterListColumns.value,u,p);if(te.dragger.top=te.wrapperScrollTop.value+e.clientY-r.top,te.dragger.left=te.wrapperScrollLeft.value+e.clientX-r.left,te.dragger.allow=!a&&!s&&c===f,te.dragger.visible=!0,te.dragger.allow&&p!==n||(te.cursor.visible=!1,te.cursor.colIndex=0,te.cursor.rowIndex=0,te.cursor.height=0,te.cursor.width=0,te.cursor.left=0,te.cursor.top=0),te.dragger.allow&&p!==n){const e=o.querySelector(`.s-table-thead-th[row-index="${u}"][col-index="${p}"]`).getBoundingClientRect(),l=t.getBoundingClientRect(),a=Math.min(l.top,e.top)||0,s=te.wrapperScrollTop.value+i.bottom-r.top,d=te.wrapperScrollLeft.value+e.right-r.left,c=te.wrapperScrollLeft.value+e.left-r.left,f=te.wrapperScrollTop.value+a-r.top;te.cursor.visible=!0,te.cursor.colIndex=p,te.cursor.rowIndex=u,te.cursor.height=s-f,te.cursor.width=2,te.cursor.left=p>n?d-3:c,te.cursor.top=f}}},documentMouseup(e){if(te.resizer.activate){for(const e of te.resizer.queues){const t=e.column.rowIndex,l=e.column.colIndex,n=ie.findTreeColumns(p.value,t,l);n.referColumn.width=e.column.width,n.cacheColumn.width=e.column.width}te.resizer.point=0,te.resizer.queues=[],te.resizer.activate=!1,z((()=>ae.updateWrapperContainer())),document.body.classList.remove("user-select-none"),document.body.classList.remove("cursor-column-resizable")}if(te.dragger.activate){const e=te.cursor.visible,t={rowIndex:te.dragger.rowIndex,colIndex:te.dragger.colIndex},l={rowIndex:te.cursor.rowIndex,colIndex:te.cursor.colIndex};if(te.dragger.top=0,te.dragger.left=0,te.dragger.value="",te.dragger.allow=!1,te.dragger.element=null,te.dragger.colIndex=0,te.dragger.rowIndex=0,te.dragger.activate=!1,te.dragger.visible=!1,te.cursor.visible=!1,te.cursor.rowIndex=0,te.cursor.colIndex=0,te.cursor.height=0,te.cursor.width=0,te.cursor.left=0,te.cursor.top=0,e){const e=ie.recloneColumns(p.value),n=ie.dragerColumns(e,t,l);ie.updatePropColumns(n)}z((()=>ae.updateWrapperContainer())),document.body.classList.remove("cursor-column-draggable"),document.body.classList.remove("user-select-none")}},updateScrollToFirstRange(){const e=te.refTableNoder.value,t=te.resizerContainer.value;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t instanceof HTMLElement){if(!1!==oe.scroll.value.scrollToFirstXOnChange){const l=e.getBoundingClientRect(),n=t.getBoundingClientRect();l.left<n.left&&(t.scrollLeft=t.scrollLeft+(l.left-n.left),t.scrollLeft=t.scrollLeft-(oe.scroll.value.scrollToFirstOffsetX||0),t.scrollLeft=oe.scroll.value.scrollToFirstTargetX>=0?oe.scroll.value.scrollToFirstTargetX:t.scrollLeft)}if(!1!==oe.scroll.value.scrollToFirstYOnChange){const l=e.getBoundingClientRect(),n=t.getBoundingClientRect();l.top<n.top&&(t.scrollTop=t.scrollTop+(l.top-n.top),t.scrollTop=t.scrollTop-(oe.scroll.value.scrollToFirstOffsetY||0),t.scrollTop=oe.scroll.value.scrollToFirstTargetY>=0?oe.scroll.value.scrollToFirstTargetY:t.scrollTop)}}},updateResizerContainer(){const e=Ge.isFunction(oe.scroll.value.getScrollResizeContainer)?oe.scroll.value.getScrollResizeContainer():null;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||(te.resizerContainer.value=null,te.resizerScrollTop.value=0,te.resizerScrollLeft.value=0,te.resizerScrollRight.value=0,te.resizerScrollBottom.value=0,te.resizerScrollClientWidth.value=0,te.resizerScrollClientHeight.value=0,te.resizerScrollHeight.value=0,te.resizerScrollWidth.value=0),"undefined"!=typeof HTMLElement&&e instanceof HTMLElement){const t=e.getBoundingClientRect(),l=e.scrollHeight||0,n=e.scrollWidth||0,o=e.scrollLeft||0,r=e.scrollTop||0;te.resizerContainer.value=e,te.resizerScrollTop.value=r||0,te.resizerScrollLeft.value=o||0,te.resizerScrollRight.value=n-(o+t.width)||0,te.resizerScrollBottom.value=l-(r+t.height)||0,te.resizerScrollClientWidth.value=t.width,te.resizerScrollClientHeight.value=t.height,te.resizerScrollHeight.value=l,te.resizerScrollWidth.value=n}},updateWrapperContainer(){if(te.refTableWrapper.value){const e=te.refTableWrapper.value,t=e.getBoundingClientRect(),l=e.scrollHeight||0,n=e.scrollWidth||0,o=e.scrollLeft||0,r=e.scrollTop||0;te.wrapperScrollTop.value=r||0,te.wrapperScrollLeft.value=o||0,te.wrapperScrollRight.value=n-(o+t.width)||0,te.wrapperScrollBottom.value=l-(r+t.height)||0,te.wrapperScrollClientWidth.value=t.width,te.wrapperScrollClientHeight.value=t.height,te.wrapperScrollHeight.value=l,te.wrapperScrollWidth.value=n}},updateWindowContainer(){te.windowInnerWidth.value=window.innerWidth,te.windowInnerHeight.value=window.innerHeight},updateRenderRowRanger(){r.renderOffset=[0,~~(window.innerHeight/o.minHeight)],r.renderBuffer=[0,10]},updateTheadContainer(){var e;if(te.refTableWrapper.value&&te.tableTheadSizes.value.length===re.filterDataColumns.value.length)for(const[t,l]of re.filterDataColumns.value.entries()){const n=l.rowSpan,o=l.colSpan,r=l.rowIndex,i=l.colIndex,a=l.rowOffset,s=l.colOffset,d=l.minWidth||0,c=l.maxWidth||1/0,u=null==(e=te.refTableWrapper.value)?void 0:e.querySelector(`.s-nested-table > colgroup > col[col-index="${i}"]`);te.tableTheadSizes.value[t].rowSpan=n,te.tableTheadSizes.value[t].colSpan=o,te.tableTheadSizes.value[t].rowIndex=r,te.tableTheadSizes.value[t].colIndex=i,te.tableTheadSizes.value[t].rowOffset=a,te.tableTheadSizes.value[t].colOffset=s,te.tableTheadSizes.value[t].minWidth=d,te.tableTheadSizes.value[t].maxWidth=c,te.tableTheadSizes.value[t].width=(null==u?void 0:u.offsetWidth)||0,te.tableTheadSizes.value[t].height=(null==u?void 0:u.offsetHeight)||0}te.refTableWrapper.value&&te.tableTheadSizes.value.length!==re.filterDataColumns.value.length&&(te.tableTheadSizes.value=re.filterDataColumns.value.map((e=>{var t;const l=e.rowSpan,n=e.colSpan,o=e.rowIndex,r=e.colIndex,i=e.rowOffset,a=e.colOffset,s=e.minWidth||0,d=e.maxWidth||1/0,c=null==(t=te.refTableWrapper.value)?void 0:t.querySelector(`.s-nested-table > colgroup > col[col-index="${r}"]`);return{rowSpan:l,colSpan:n,rowIndex:o,colIndex:r,rowOffset:i,colOffset:a,minWidth:s,maxWidth:d,width:(null==c?void 0:c.offsetWidth)||0,height:(null==c?void 0:c.offsetHeight)||0}})))},updateColCheckRender(){const e={updateColSettings:t=>{for(const l of t){const t=y.value.includes(l.key),n=l.referColumn.settings.disabled;l.referColumn.settings.checkbox=t,l.referColumn.settings.disabled=n,t&&!n&&Ge.isObject(l.cacheColumn.settings)&&(l.cacheColumn.settings.checkbox=t,l.cacheColumn.settings.disabled=n),t&&!n||(Ge.isObject(l.cacheColumn.settings)&&(l.cacheColumn.settings.checkbox=t,l.cacheColumn.settings.disabled=n),Ge.isObject(l.cacheColumn.settings)||(l.cacheColumn.settings={checkbox:t,disabled:n})),Ge.isArray(l.treeChildren)&&e.updateColSettings(l.treeChildren)}}};e.updateColSettings(p.value),ae.updateColumnRender()},updateColGroupRender(){te.refTableWrapper.value&&(Array.from(te.refTableWrapper.value.querySelectorAll("table > colgroup > col")).forEach((e=>{const t=e.style.maxWidth?parseInt(e.style.maxWidth):1/0,l=e.style.minWidth?parseInt(e.style.minWidth):0,n=e.getBoundingClientRect().width;(n<l||n>t)&&(e.style.width=`${n<l?l:n>t?t:n}px`)})),z((()=>ae.updateTheadContainer())))},updateColumnRender(){ae.updateResizerContainer(),ae.updateWrapperContainer(),ae.updateColGroupRender()}},se={computeTableGroupStyle(e){const t=Ge.isFiniteNumber(parseInt(`${e.width}`))?parseInt(`${e.width}`):"auto",l=Ge.isFiniteNumber(parseInt(`${e.minWidth}`))?parseInt(`${e.minWidth}`):0,n=Ge.isFiniteNumber(parseInt(`${e.maxWidth}`))?parseInt(`${e.maxWidth}`):1/0,o={width:"auto",minWidth:"0px",maxWidth:"none"};return/^\+?\d+\.?\d*(px)?$/.test(`${t}`)&&(o.width=parseInt(`${t}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${n}`)&&("auto"!==o.width&&(o.width=parseInt(`${o.width}`)<parseInt(`${n}`)?parseInt(`${o.width}`)+"px":parseInt(`${n}`)+"px"),o.maxWidth=parseInt(`${n}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${l}`)&&("auto"!==o.width&&(o.width=parseInt(`${o.width}`)>parseInt(`${l}`)?parseInt(`${o.width}`)+"px":parseInt(`${l}`)+"px"),o.minWidth=parseInt(`${l}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${l}`)&&/^\+?\d+\.?\d*(px)?$/.test(`${n}`)&&(o.width=l!==n?parseInt(`${o.width}`)+"px":parseInt(`${l}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${o.width}`)&&(o.width=parseInt(`${o.width}`)>=0?parseInt(`${o.width}`)+"px":"auto"),o},computeTableChildStyle(e,t,l){const n={left:!1,right:!1},o={},r="thead"===l,i="tfoot"===l,a=te.tableTheadSizes.value,s=re.hasSelection.value?"small"===oe.size.value?32:"middle"===oe.size.value?36:38:0,d=re.fixedLeftIndex.value>-1&&t.colOffset<=re.fixedLeftIndex.value,c=re.fixedRightIndex.value>-1&&t.colOffset>=re.fixedRightIndex.value,u=re.overflowScrollRight.value,p=re.overflowScrollLeft.value;if(i){const e=oe.sticky.value.leftFooter,l=oe.sticky.value.rightFooter;n.left=d&&(Ge.isNumber(e)?t.colOffset<=e:!0===e),n.right=c&&(Ge.isNumber(l)?t.colOffset>=l:!0===l)}if(i||(n.left=d,n.right=c),/^\+?\d+\.?\d*(px)?$/.test(`${e.minWidth}`)&&Object.assign(o,{minWidth:parseInt(`${e.minWidth}`)+"px"}),/^\+?\d+\.?\d*(px)?$/.test(`${e.maxWidth}`)&&Object.assign(o,{maxWidth:parseInt(`${e.maxWidth}`)+"px"}),"string"==typeof e.align&&Object.assign(o,{"text-align":e.align||"left"}),!0===n.right){const e=[...a].reverse(),l=e.reduce(((l,n,o)=>o<e.length-t.colOffset-1?l+n.width:l),0),n="-2px "+(r?"-1px":"1px")+" 3px 0 rgba(0, 0, 0, .1)";Object.assign(o,{position:"sticky","box-shadow":u&&(r||t.colOffset===re.fixedRightIndex.value)?n:"none","z-index":e.length+5-t.colOffset,right:(l>0?l-1:0)+"px"})}if(!0===n.left){const e=!i||t.colOffset>0?s:0,l=a.reduce(((e,l,n)=>n<t.colOffset?e+l.width:e),0),n="2px "+(r?"-1px":"1px")+" 3px 0 rgba(0, 0, 0, .1)";Object.assign(o,{"z-index":5,position:"sticky","box-shadow":p&&(r||t.colOffset+t.colSpan-1===re.fixedLeftIndex.value)?n:"none",left:(l+e>0?e+l-1:e)+"px"})}return o},computeTableChildAttrs:(e={},t)=>"tbody"===t||"tfoot"===t?ie.getValue(e):{},computeTableChildProps(e={},t){if("tbody"===t||"tfoot"===t){const t={...ie.getValue(e)},l={style:{}};return"string"==typeof t.align&&Object.assign(l.style,{"text-align":t.align||"left"}),l}return{}}},de={pageChange:(e,l)=>{const n=l===le.paginate.pageSize;n&&t.emit("pageChange",e,l),n&&le.update({pageNo:e,pageSize:l}),n&&ne.reload(),n||t.emit("pageChange",1,l),n||le.update({pageNo:1,pageSize:l}),n||ne.refresh()},pageSizeChange:(e,l)=>{l===le.paginate.pageSize&&t.emit("pageSizeChange",e,l),l!==le.paginate.pageSize&&t.emit("pageSizeChange",1,l)},expand:(e,l)=>{t.emit("expand",e,l)},select:(e,l)=>{t.emit("select",e,l)},sorter:e=>{t.emit("sorter",e),ne.refresh()}};A([()=>e.columns,()=>e.sources,()=>e.summarys],(([t,l,n],[o,r,i])=>{const s=t!==o&&(ie.isColumnsChanged(t,p.value)||ie.isColumnsChanged(a.value,p.value)),u=l!==r&&(ie.isSourcesChanged(l,K.value)||ie.isSourcesChanged(d.value,K.value)),y=n!==i&&(ie.isSummaryChanged(n,B.value)||ie.isSummaryChanged(c.value,B.value)),m=u&&ie.isSourcesChanged(d.value.slice(0,K.value.length),K.value);s&&(x.value=[],N.value=[],P.value=[],R.value=[],h.value=[],g.value=[],a.value=[...e.columns],p.value=ie.normalizeTreeColumns(a.value,[]),f.value=ie.normalizeListColumns(p.value,[]),b.value=ie.normalizeDataColumns(f.value),ie.normalizeTreeSettings(p.value),ie.normalizeInitColumns(f.value)),m&&(L.value=[],M.value=[],D.value=[],V.value=[],$.value=[]),u&&(J.value=[],d.value=[...e.sources],K.value=ie.normalizeTreeSources(d.value,[]),O.value=ie.normalizeListSources(K.value,[]),ie.normalizeInitSources(O.value),ie.cleanSelectedRowKeys(),ie.cleanExpandedRowKeys()),y&&(Y.value=[],U.value=[],G.value=[],X.value=[],c.value=[...e.summarys],B.value=ie.normalizeListSummary(c.value),ie.normalizeInitSummary(B.value))}),n),A((()=>e.loading),(e=>{Z.value=e}),l),A((()=>e.paginate),(e=>{le.update(e)}),l),A((()=>e.selectedRowMode),(()=>{_.value=[]}),l),A((()=>e.preserveSelectedRowKeys),(()=>{_.value=_.value.filter((e=>J.value.includes(e)))}),l),A((()=>e.preserveExpandedRowKeys),(()=>{Q.value=Q.value.filter((e=>J.value.includes(e)))}),l),A((()=>[...e.selectedRowKeys]),(()=>{ie.updateSetupSelectedRowKeys(e.selectedRowKeys)}),l),A((()=>[...e.expandedRowKeys]),(()=>{ie.updateSetupExpandedRowKeys(e.expandedRowKeys)}),l),A((()=>oe.size.value),(()=>{ae.updateColGroupRender()}),n),A((()=>y.value),(()=>{ae.updateColCheckRender()}),n),A((()=>re.filterDataColumns.value),(()=>{ae.updateColGroupRender()}),n),A((()=>_.value),(()=>{ie.updatePropSelectedRowKeys(_.value)}),n),A((()=>Q.value),(()=>{ie.updatePropExpandedRowKeys(Q.value)}),n),A((()=>le.paginate),(()=>{ie.updatePropPaginate(le.paginate)}),n),A((()=>p.value),(()=>{ie.updatePropColumns(p.value)}),n),A((()=>K.value),(()=>{ie.updatePropSources(K.value)}),n),A((()=>B.value),(()=>{ie.updatePropSummarys(B.value)}),n),A((()=>Z.value),(()=>{t.emit("update:loading",Z.value)}),n),C((()=>{var t;const l={intersectionObserver:new IntersectionObserver((()=>{})),mutationObserver:new MutationObserver((()=>{})),resizeObserver:new ResizeObserver((()=>{ae.updateColumnRender()}))};!1!==e.immediate&&ne.refresh(),ae.updateWindowContainer(),ae.updateRenderRowRanger(),ae.updateResizerContainer(),ae.updateWrapperContainer(),ae.updateColGroupRender(),document.addEventListener("mouseup",ae.documentMouseup),document.addEventListener("mousemove",ae.documentMouseMove),window.addEventListener("resize",ae.updateWindowContainer),null==(t=l.resizeObserver)||t.observe(te.refTableWrapper.value),z((()=>{var t;let n=te.refTableWrapper.value;if(!Ge.isFunction(e.scroll.getScrollResizeContainer)){for(;n instanceof HTMLElement&&n.parentElement instanceof HTMLElement&&"auto"!==window.getComputedStyle(n).overflow;)n=n.parentElement;n instanceof HTMLElement&&(oe.scroll.value.getScrollResizeContainer=()=>n,te.getResizerContainer=()=>n)}if(Ge.isFunction(oe.scroll.value.getScrollResizeContainer)){const e=oe.scroll.value.getScrollResizeContainer(),t=e instanceof HTMLElement?e:null;n=t}n instanceof HTMLElement&&(n.addEventListener("scroll",ae.updateResizerContainer,{passive:!0}),null==(t=l.resizeObserver)||t.observe(n),ae.updateResizerContainer())}))})),t.expose({reload:ne.reload,refresh:ne.refresh,select:ie.updateSetupSelectedRowKeys,expand:ie.updateSetupExpandedRowKeys,update:ie.forceUpdate});const ce=t=>{const l=[],n=[],o=[..._.value],r=!1!==e.rowSelectedStrictly;if(b.value.length<=0)return;if("Checkbox"===e.selectedRowMode){const e=O.value.filter((()=>!0)),t=[...e].reverse();for(const o of e){const e=o.key,t=o.childKeys,i=o.rowGlobalIndex,a=ie.getValue(M.value[i]),s=!1!==ie.getValue(null==a?void 0:a.selectable);!s||n.includes(e)||l.includes(e)||l.push(e),s||n.includes(e)||(!r&&t.forEach((e=>n.includes(e)||n.push(e))),n.push(e))}if(!r){for(const e of t){const t=e.key,o=e.childKeys;o.length>0&&o.every((e=>n.includes(e)))&&(l.includes(t)&&l.splice(0,l.length,...l.filter((e=>e!==t))),n.includes(t)||n.push(t))}for(const e of t){const t=e.key,o=e.childKeys.filter((e=>l.includes(e)));0!==o.length&&(n.includes(t)||(_.value.includes(t)&&!o.every((e=>_.value.includes(e)))&&_.value.splice(0,_.value.length,..._.value.filter((e=>e!==t))),!_.value.includes(t)&&o.every((e=>_.value.includes(e)))&&_.value.push(t)))}}}if("Radio"===e.selectedRowMode)for(const e of[...O.value]){const t=e.key,o=e.rowGlobalIndex,r=ie.getValue(M.value[o]),i=!1!==ie.getValue(null==r?void 0:r.selectable);!i||n.includes(t)||l.includes(t)||l.push(t),i||n.includes(t)||n.push(t)}const i={"s-border-table":re.hasBorder.value,"s-header-table":re.hasHeader.value,"s-bodyer-table":re.hasBodyer.value,"s-footer-table":re.hasFooter.value},a={tableLayout:["fixed","auto"].includes(e.tableLayout)?e.tableLayout:f.value.length>1?"auto":"fixed"},s={width:re.tableBodyWidth.value,maxHeight:re.tableBodyHeight.value,minWidth:"auto"===re.tableBodyWidth.value||["fit-content","max-content"].includes(re.tableBodyWidth.value)?"100%":"0px",overflow:re.tableBodyOverflow.value??("100%"!==re.tableBodyWidth.value||"auto"!==re.tableBodyHeight.value?"auto":"visible")};return w("div",{ref:te.refTableWrapper,class:"s-nested-table-wrapper",style:s,onScrollPassive:ae.updateWrapperContainer,onMousedown:e=>{if("undefined"!=typeof HTMLElement&&e.target instanceof HTMLElement){if(!te.resizer.activate&&e.target.classList.contains("s-table-thead-functional-resizable")){const t=e.clientX,l=e.target,n=te.refTableWrapper.value,o=l.closest(".s-table-thead-th"),r=+o.getAttribute("row-index"),i=+o.getAttribute("col-index"),a=[...re.filterDataColumns.value],s=[...re.filterListColumns.value],d=r>=0&&i>=0&&ie.findListColumns(s,r,i);if(d)for(let e=a.length-1;e>=0;e--){const l=a[e].rowSpan,o=a[e].colSpan,r=a[e].colOffset,i=r<d.colOffset,s=r+o>d.colOffset+d.colSpan,c=a.filter(((t,l)=>l>=e&&l<e+o)).some((e=>e.resizable));if(l>0&&o>0&&!i&&!s&&c){let l=0;for(;l<o;){const t=a[e+l],o=n.querySelector(`.s-nested-table > colgroup > col[col-index="${t.colIndex}"]`).getBoundingClientRect();t.resizable&&te.resizer.queues.push({width:o.width,minWidth:Ge.isFiniteNumber(t.minWidth)&&t.minWidth>0?t.minWidth:0,maxWidth:Ge.isFiniteNumber(t.maxWidth)&&t.maxWidth>0?t.maxWidth:Number.MAX_SAFE_INTEGER,column:t}),l++}te.resizer.point=t,te.resizer.activate=!0,document.body.classList.add("user-select-none"),document.body.classList.add("cursor-column-resizable");break}}return e.preventDefault(),void e.stopPropagation()}if(te.dragger.visible||!e.target.classList.contains("s-table-thead-draggable-th"));else{const t=+(e.target.getAttribute("col-index")||0),l=+(e.target.getAttribute("row-index")||0),n=ie.findListColumns(re.filterListColumns.value,l,t),o=te.refTableWrapper.value.getBoundingClientRect();if(n){const r=n.key,i=te.wrapperScrollTop.value+e.clientY-o.top,a=te.wrapperScrollLeft.value+e.clientX-o.left,s=ie.getValue(R.value[l][t]);te.dragger.top=i,te.dragger.left=a,te.dragger.allow=!0,te.dragger.value=Ge.isPrimitive(s)?`${s}`:r,te.dragger.element=e.target,te.dragger.colIndex=t,te.dragger.rowIndex=l,te.dragger.activate=!0,te.dragger.visible=!1,te.cursor.visible=!1,te.cursor.rowIndex=0,te.cursor.colIndex=0,te.cursor.height=0,te.cursor.width=0,te.cursor.left=0,te.cursor.top=0,document.body.classList.add("user-select-none"),document.body.classList.add("cursor-column-draggable")}}}}},[w("table",{ref:te.refTableNoder,class:["s-nested-table",i],style:a},[(()=>{const e="small"===oe.size.value?32:"middle"===oe.size.value?36:38,t=!0===re.hasSelection.value;return w("colgroup",null,[t&&w("col",{"col-index":-1,style:{width:`${e}px`,minWidth:`${e}px`,maxWidth:`${e}px`}},null),S(re.filterDataColumns).value.map((e=>w("col",{"col-index":e.colIndex,style:se.computeTableGroupStyle(e)},null)))])})(),(()=>{const n={position:"relative","z-index":50},r=oe.sticky.value.topHeader;if(re.isFixedTop.value||!0===r||Ge.isFiniteNumber(r)){const e=/^\+?\d+\.?\d*$/.test(`${r}`)?r:0;Object.assign(n,{position:"sticky",top:e+"px","z-index":50}),re.overflowScrollTop.value&&Object.assign(n,{"box-shadow":"0 1px 1px 0 rgba(0, 0, 0, .1)"})}return w("thead",{ref:te.refTableTheader,class:["s-table-thead",{"s-border-table":[].concat(e.border).includes("thead")}],style:n},[S(re.filterListColumns).value.map(((n,r)=>w("tr",k(ie.getValue(x.value[r]),{style:{position:"relative","z-index":f.value.length-r},class:"s-table-thead-tr","row-index":r}),[(()=>{if(!re.hasSelection.value)return;if(r>0)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[oe.size.value]||"16px 6px",textAlign:"center",...e.tHeaderThStyle};if(re.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5}),"Checkbox"!==e.selectedRowMode)return w("th",{style:t,rowspan:re.filterListColumns.value.length,class:["s-table-thead-th","s-table-thead-selection-th"],"col-index":-1,"row-index":0,"col-offset":-1,"row-offset":0},null);const n=l.length>0&&l.some((e=>_.value.includes(e))),i=l.length>0&&l.every((e=>_.value.includes(e)));return w("th",{style:t,rowspan:re.filterListColumns.value.length,class:["s-table-thead-th","s-table-thead-selection-th"],"col-index":-1,"row-index":0,"col-offset":-1,"row-offset":0},[w(kt,{type:e.selectedRowMode,size:oe.size.value,indeterminate:!i&&n,disabled:0===l.length,checked:i,onCheck:e=>{e||(_.value.splice(0,_.value.length,...o.filter((e=>!l.includes(e)))),de.select([..._.value],_.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),e&&(_.value.splice(0,_.value.length,...Array.from(new Set([...l,...o]))),de.select([..._.value],_.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)}))))}},null)])})(),n.map((l=>{if(l&&l.rowSpan>0&&l.colSpan>0){const n=l.sorter,o=l.rowSpan,r=l.rowIndex,i=l.colIndex,a=l.rowOffset,s=l.sorterField,d=l.sorterValue,c=re.filterDataColumns.value.map((e=>e.rowMaxSpan)),p=n&&a+o===Math.max(...c,0),f=ie.getValue(R.value[r][i]),b={title:f,column:l,rowIndex:r,colIndex:i,scroller:{top:te.resizerScrollTop.value,left:te.resizerScrollLeft.value,right:te.resizerScrollRight.value,bottom:te.resizerScrollBottom.value},paginater:le.paginate},h=!ie.isVueNode(f)&&Ge.isFunction(t.slots.headerCell)?ie.getVNodes(H(t.slots,"headerCell",b)):f,g=t=>{const n=t.field,o=t.value,r=ie.getValue(u);if(l.sorterField=n,l.sorterValue=o,!0!==e.columnSorterMultiple){o&&(r.splice(0,r.length),r.push({field:n,value:o})),o||r.splice(0,r.length),Ge.isFunction(l.sorterValueChange)&&l.sorterValueChange({field:n,value:o,values:r});for(const e of re.filterDataColumns.value)e.sorterField!==n&&""!==e.sorterValue&&(e.sorterValue="");de.sorter(r)}!0===e.columnSorterMultiple&&(o&&(r.splice(0,r.length,...r.filter((e=>e.field!==n))),r.push({field:n,value:o})),o||r.splice(0,r.length,...r.filter((e=>e.field!==n))),Ge.isFunction(l.sorterValueChange)&&l.sorterValueChange({field:n,value:o,values:r}),de.sorter(r)),u.value=r};return w("th",k({colspan:l.colSpan,rowspan:l.rowSpan},ie.getValue(N.value[r][i]),{style:{...se.computeTableChildStyle(l,l,"thead"),...e.tHeaderThStyle},class:["s-table-thead-th",{"s-table-thead-leafed-th":l.rowIndex===l.rowMaxSpan-1,"s-table-thead-draggable-th":!0===e.columnPresetDraggable,"s-table-thead-sortable-th":p}],"col-index":l.colIndex,"row-index":l.rowIndex,"col-offset":l.colOffset,"row-offset":l.rowOffset}),[w(_e,{open:!0===l.tooltip&&void 0,tooltip:!0===l.tooltip||!0===l.ellipsis,ellipsis:!0===l.tooltip||!0===l.ellipsis},{default:()=>[h??f]}),w("div",{class:"s-table-thead-th-functional"},[p?w(zt,{field:s,value:d,onChange:g},null):null,l.resizable?w("span",{class:"s-table-thead-functional-resizable"},null):null])])}}))])))])})(),(()=>{if(!re.hasBodyer.value)return w("tbody",{class:["s-table-tbody",{"s-border-table":[].concat(e.border).includes("tbody")}],style:{position:"relative","z-index":10}},[w("tr",{class:"s-table-tbody-tr"},[w("td",{class:"s-table-tbody-td",style:{...e.tBodyerTdStyle},colspan:re.hasSelection.value?re.filterDataColumns.value.length+1:re.filterDataColumns.value.length},[w(Pt,null,null)])])]);const i=S(b).value,a=S(re.filterDataColumns).value,s=S(re.filterPageSources).value,d=S(re.filterRangeSources).value,c=S(oe.persistSourceRanges).value,u={},p={},f={};for(const[t,l]of d.entries()){const n=l.rowGroupIndex,o=l.rowGlobalIndex,r=u[o]||new Map,s=p[o]||new Set,b=f[o]||new Set;u[o]=r,p[o]=s,f[o]=b;for(let l=0;l<i.length;l++){let s=0,p=0,f=0,b=0,h=!0;const g=i[l],y=a.find((e=>e.colIndex===g.colIndex))||g,m=ie.getValue(V.value[o][y.key]),v=ie.getValue(D.value[o][y.key]),x=ie.getValue($.value[o][y.key]),w=!1!==e.cellMegreNormalize,k=r.get(l);if(h=!1!==(null==v?void 0:v.cellSpan)&&a.some((e=>e.colIndex===l)),s=Ge.isFiniteNumber(null==v?void 0:v.colSpan)?v.colSpan:Ge.isFiniteNumber(y.colSpan)?y.colSpan:1,p=Ge.isFiniteNumber(null==v?void 0:v.rowSpan)?v.rowSpan:1,p=Ge.isFiniteNumber(null==k?void 0:k.rowSpan)?k.rowSpan:p,s=Ge.isFiniteNumber(null==k?void 0:k.colSpan)?k.colSpan:s,b=p-1,f=s-1,!0===w){let e=0;if(f>0)for(let t=1;t<=f;t++)u[o].set(l+t,{index:l+t,rowCount:0,rowSpan:1,colCount:-1,colSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});if(b>0)for(let n=1;n<=b;n++){const o=d[t+n],r=null==o?void 0:o.rowGlobalIndex;if(!r)break;u[r]=u[r]||new Map,u[r].set(l,{index:l,colCount:s-1,colSpan:s,rowCount:-1,rowSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!1}),e++}if(b>0&&f>0)for(let n=1;n<=b;n++){const e=d[t+n],o=null==e?void 0:e.rowGlobalIndex;if(!o)break;for(let t=1;t<=f;t++){const e=l+t;(u[o]=u[o]||new Map).set(e,{index:e,rowCount:-1,rowSpan:0,colCount:-1,colSpan:s,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0})}}b-e>0&&(p=p-(b-e)>0?p-(b-e):1,b=0)}if(!1===c&&(p=1,s=1,b=0,f=0),Ge.isNonEmptyArray(c)){let e=!1;for(const t of c)if(n>=t[0]||n<=t[1]){e=!0;break}p=e?p:1,s=e?s:1,b=e?b:0,f=e?f:0}r.set(l,{index:l,rowSpan:p,colSpan:s,colCount:f,rowCount:b,cellAttrs:m,cellProps:v,cellValue:x,cellRender:h})}}return w("tbody",{class:["s-table-tbody",{"s-border-table":[].concat(e.border).includes("tbody")}],style:{position:"relative","z-index":10}},[(()=>{const s=[],c=[];for(const e of d){const l=e.rowIndex,n=e.rowGroupLevel,o=e.rowGroupIndex,r=e.rowGroupIndexs,i=e.rowGlobalIndex,a=e.referRecord,d=e.parentKey;s.push({count:e.treeChildren.length||0,level:n,parentKey:d}),c.push({vnode:ie.getVNodes(H(t.slots,"expander",{record:a,rowIndex:l,groupIndex:o,groupLevel:n,groupIndexs:r,globalIndex:i})),level:n,parentKey:d})}return d.map(((d,b)=>{let h=0,g=!0;const y=d.key,x=d.rowIndex,S=d.childKeys,C=d.parentKeys,N=d.rowGroupLevel,T=d.rowGroupIndex,A=d.rowGroupIndexs,I=d.rowGlobalIndex,z=d.treeChildren,P=d.referRecord,R=d.rowKeyField,E=u[I],K=p[I],F=f[I],j=s.some((e=>!!e.count)),D=c.some((e=>!!e.vnode)),V=P[R]||I,$=c[b].vnode,B=ie.getValue(M.value[I]),Y=!1!==ie.getValue(null==B?void 0:B.expandable),U=t=>{if(!g)return;if(!j&&!D)return;if(a.find((e=>!1!==e.expandIcon))!==t)return;const l=oe.size.value,n="default"===l?16:8,o=N-1>0?N-1:0,r=(e.selectIndentSize>0?e.selectIndentSize:"default"===l?16:14)*o+n;if(!$&&0===z.length)return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},null);if(Q.value.includes(V)){return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},[w("div",{class:["s-table-tbody-expand-button",{"s-table-tbody-expand-disabled":!Y}],onClick:e=>{if(Y){const e=Q.value.length,t=Q.value.filter((e=>!S.includes(e)&&e!==V));Q.value.splice(0,e,...t),de.expand([...Q.value],Q.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))}e.stopPropagation()}},[w(m,{class:"s-table-tbody-expand-icon"},null)])])}if(!Q.value.includes(V)){return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},[w("div",{class:["s-table-tbody-expand-button",{"s-table-tbody-expand-disabled":!Y}],onClick:e=>{Y&&(Q.value.push(V),de.expand([...Q.value],Q.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),e.stopPropagation()}},[w(v,{class:"s-table-tbody-expand-icon"},null)])])}},G=(t,l)=>{if(!g)return l;if(!0===g&&(g=!1),!j&&!D)return l;if(a.find((e=>!1!==e.expandIcon))!==t)return l;const n=oe.size.value,o="default"===n?26:22,r=N-1>0?N-1:0,i=(e.selectIndentSize>0?e.selectIndentSize:"default"===n?16:14)*r+o;return w("div",{class:"s-table-tbody-valuer-container",style:{marginLeft:i+"px"}},[l])};return w(W,null,[(()=>{const s=()=>{if(!re.hasSelection.value)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[oe.size.value]||"16px 6px",textAlign:"center",...e.tBodyerTdStyle};re.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5});const i=r?[]:S.filter((e=>l.includes(e))),a=i.length>0&&i.some((e=>_.value.includes(e))),s=i.length>0?i.every((e=>_.value.includes(e))):_.value.includes(y);return w("td",{style:t,class:["s-table-tbody-td","s-table-tbody-selection-td"],"col-index":-1,"col-offset":-1,"row-global-index":I,"row-group-index":T,"row-group-level":N,"row-index":x},[w(kt,{type:e.selectedRowMode,size:oe.size.value,indeterminate:!s&&a,disabled:n.includes(y),checked:s,onCheck:t=>{if("Radio"!==e.selectedRowMode||1===_.value.length&&_.value[0]===y||(_.value.splice(0,_.value.length,y),de.select([..._.value],_.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),"Checkbox"!==e.selectedRowMode||t||(r&&_.value.splice(0,_.value.length,...o.filter((e=>e!==y||n.includes(e)))),r||_.value.splice(0,_.value.length,...o.filter((e=>e!==y&&!(null==C?void 0:C.includes(e))&&!S.includes(e)||n.includes(e)))),de.select([..._.value],_.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),"Checkbox"===e.selectedRowMode&&t&&(r&&_.value.splice(0,_.value.length,...o,y),r||_.value.splice(0,_.value.length,...o,...S.filter((e=>!n.includes(e))),y)),"Checkbox"===e.selectedRowMode&&!r){const e=[...O.value.filter((()=>!0))].reverse();for(const t of e){const e=t.key,o=t.childKeys.filter((e=>l.includes(e)));n.includes(e)||_.value.includes(e)||o.length>0&&o.every((e=>_.value.includes(e)))&&_.value.push(e)}}de.select([..._.value],_.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))}},null)])},c=()=>i.map(((l,n)=>{const o=ie.takeCellMegre({index:n,colIndex:l.colIndex,rowIndex:d.rowIndex,cachers:E,spikers:K,empters:F}),r=o.cacher.cellRender,i=o.cacher.cellValue,s=o.cacher.cellProps,c=o.cacher.cellAttrs,u=o.cacher.rowSpan,p=o.cacher.colSpan;if(r&&p>=1&&(h+=p),r&&u>=1&&p>=1){let o;const r=a.find((e=>e.colIndex===l.colIndex)),d={value:i,record:P,column:r,colIndex:n,rowIndex:x,groupIndex:T,groupLevel:N,groupIndexs:A,globalIndex:I,scroller:{top:te.resizerScrollTop.value,left:te.resizerScrollLeft.value,right:te.resizerScrollRight.value,bottom:te.resizerScrollBottom.value},paginater:le.paginate},f={colOffset:h-p,colSpan:p},b=F.has(n)?null:!ie.isVueNode(i)&&Ge.isFunction(t.slots.bodyerCell)?ie.getVNodes(H(t.slots,"bodyerCell",d))??i:i;return w("td",k({rowspan:u,colspan:p,style:{...se.computeTableChildStyle(r,f,"tbody"),...e.tBodyerTdStyle}},se.computeTableChildAttrs(c,"tbody"),se.computeTableChildProps(s,"tbody"),{class:"s-table-tbody-td","col-index":r.colIndex,"col-offset":r.colOffset,"row-global-index":I,"row-group-index":T,"row-group-level":N,"row-index":x}),[U(r),w(_e,{open:!!(Ge.isBoolean(null==s?void 0:s.tooltip)?null==s?void 0:s.tooltip:!0===r.tooltip)&&void 0,tooltip:(Ge.isBoolean(null==s?void 0:s.tooltip)?null==s?void 0:s.tooltip:!0===r.tooltip)||(Ge.isBoolean(null==s?void 0:s.ellipsis)?null==s?void 0:s.ellipsis:!0===r.ellipsis),ellipsis:(Ge.isBoolean(null==s?void 0:s.tooltip)?null==s?void 0:s.tooltip:!0===r.tooltip)||(Ge.isBoolean(null==s?void 0:s.ellipsis)?null==s?void 0:s.ellipsis:!0===r.ellipsis)},Rt(o=G(r,b))?o:{default:()=>[o]})])}})),u=!0===e.rowExpandedByClick,p=z.length>0||!!$;if(!u||!p)return w("tr",k(ie.getValue(L.value[I]),{"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex,class:["s-table-tbody-tr"]}),[s(),c()]);if(u&&p){const e={click:e=>{const t=Q.value.includes(V),l=!1!==Y;if(l&&!t&&(Q.value.push(V),de.expand([...Q.value],Q.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),l&&t){const e=Q.value.length,t=Q.value.filter((e=>!S.includes(e)&&e!==V));Q.value.splice(0,e,...t),de.expand([...Q.value],Q.value.map((e=>{var t;return ie.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))}e.stopPropagation()}};return w("tr",k(ie.getValue(L.value[I]),{class:["s-table-tbody-tr","s-table-tbody-click-tr"],"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex,onClick:e.click}),[s(),c()])}})(),(()=>{if(Q.value.includes(V)&&!(z.length>0)&&($||(Q.value=Q.value.filter((e=>e!==V))),$)){const t=!0===re.hasSelection.value,l="default"===oe.size.value?26:22,n="small"===oe.size.value?32:"middle"===oe.size.value?36:38,o=t?n+l:l,r={position:"relative","z-index":8,...e.expandTdStyle},i={display:"flex","flex-flow":"column nowrap","justify-content":"flex-start","align-items":"flex-start",width:"100%",height:"100%","padding-left":(e.expandIndentSize>=0?e.expandIndentSize:o)+"px"};return w("tr",{class:["s-table-tbody-tr","s-table-tbody-expand-tr"],"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex},[w("td",{colspan:re.hasSelection.value?re.filterDataColumns.value.length+1:re.filterDataColumns.value.length,class:["s-table-tbody-td","s-table-tbody-expand-td"],"row-global-index":I,"row-group-index":T,"row-group-level":N,"row-index":x,style:r},[w("div",{style:i},[$])])])}})()])}))})(),(()=>{const t=s.length,l=oe.bodyMinRows.value;if(!(l<=0||t>=l))return Array.from({length:l-t},(()=>{let t=0;return w("tr",{class:["s-table-tbody-tr","s-table-tbody-empty-tr"]},[(()=>{if(!re.hasSelection.value)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[oe.size.value]||"16px 6px",textAlign:"center",...e.tBodyerTdStyle};return re.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5}),w("td",{style:t,class:["s-table-tbody-td","s-table-tbody-empty-td","s-table-tbody-selection-td"]},null)})(),i.map((l=>{const n=a.find((e=>e.colIndex===l.colIndex));if(n){const l={colOffset:t++,colSpan:1};return w("td",{style:{...se.computeTableChildStyle(n,l,"tbody"),...e.tBodyerTdStyle},class:["s-table-tbody-td","s-table-tbody-empty-td"]},null)}}))])}))})()])})(),(()=>{const l={position:"relative","z-index":30},n=oe.sticky.value.bottomFooter;if(!0===n||Ge.isFiniteNumber(n)){const e="default"!==(le.paginate.size||oe.size.value)||le.paginate.simple?45:56,t=!0===le.paginate.visible;Object.assign(l,{position:"sticky",bottom:/^\+?\d+\.?\d*$/.test(`${n}`)?`${n+(t?e:0)}px`:`${t?e:0}px`,"z-index":80})}const o=S(b).value,r=S(re.filterDataColumns).value,i=S(re.filterPageSummarys).value,a={},s={},d={};for(const t of i.keys()){const l=a[t]||new Map,n=s[t]||new Set,i=d[t]||new Set;s[t]=n,d[t]=i,a[t]=l;for(let s=0;s<o.length;s++){let n=0,i=0,d=0,c=0,u=!0;const p=o[s],f=r.find((e=>e.colIndex===p.colIndex))||p,b=ie.getValue(G.value[t][f.key]),h=ie.getValue(U.value[t][f.key]),g=ie.getValue(X.value[t][f.key]),y=!1!==e.cellMegreNormalize,m=l.get(s);if(u=!1!==(null==h?void 0:h.cellSpan)&&r.some((e=>e.colIndex===s)),n=Ge.isFiniteNumber(null==h?void 0:h.colSpan)?h.colSpan:Ge.isFiniteNumber(f.colSpan)?f.colSpan:1,i=Ge.isFiniteNumber(null==h?void 0:h.rowSpan)?h.rowSpan:1,i=Ge.isFiniteNumber(null==m?void 0:m.rowSpan)?m.rowSpan:i,n=Ge.isFiniteNumber(null==m?void 0:m.colSpan)?m.colSpan:n,c=i-1,d=n-1,!0===y){if(d>0)for(let e=1;e<=d;e++)a[t].set(s+e,{index:s+e,rowCount:0,rowSpan:1,colCount:-1,colSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});if(c>0)for(let e=1;e<=c;e++)a[t+e]=a[t+e]||new Map,a[t+e].set(s,{index:s,colCount:n-1,colSpan:n,rowCount:-1,rowSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!1});if(c>0&&d>0)for(let e=1;e<=c;e++)for(let l=1;l<=d;l++){const o=s+l,r=t+e;(a[r]=a[r]||new Map).set(o,{index:o,rowCount:-1,rowSpan:0,colCount:-1,colSpan:n,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0})}c=0}l.set(s,{index:s,rowSpan:i,colSpan:n,colCount:d,rowCount:c,cellAttrs:b,cellProps:h,cellValue:g,cellRender:u})}}return w("tfoot",{class:["s-table-tfoot",{"s-border-table":[].concat(e.border).includes("tfoot")}],style:l},[i.map(((l,n)=>{let i=0,c=re.hasSelection.value?1:0;const u=a[n],p=s[n],f=d[n];return w("tr",k(ie.getValue(Y.value[n]),{class:"s-table-tfoot-tr","row-index":n}),[o.map(((o,a)=>{const s=ie.takeCellMegre({index:a,colIndex:o.colIndex,rowIndex:n,cachers:u,spikers:p,empters:f}),d=s.cacher.cellRender,b=s.cacher.cellValue,h=s.cacher.cellProps,g=s.cacher.cellAttrs,y=s.cacher.rowSpan,m=s.cacher.colSpan;if(d&&m>=1&&(i+=m),d&&y>=1&&m>=1){const s=re.filterPageSources.value.filter((e=>1===e.rowGroupLevel)),d=r.find((e=>e.colIndex===o.colIndex)),u=s.map((e=>e.referRecord)),p={value:b,column:d,record:l,sources:u,rowIndex:n,colIndex:a,scroller:{top:te.resizerScrollTop.value,left:te.resizerScrollLeft.value,right:te.resizerScrollRight.value,bottom:te.resizerScrollBottom.value},paginater:le.paginate},v={colOffset:i-m,colSpan:m},x=f.has(a)?null:!ie.isVueNode(b)&&Ge.isFunction(t.slots.footerCell)?ie.getVNodes(H(t.slots,"footerCell",p))??b:b;return w("td",k({rowspan:y,colspan:m+(c>0?c--:0),style:{...se.computeTableChildStyle(d,v,"tfoot"),...e.tFooterTdStyle}},se.computeTableChildAttrs(g,"tfoot"),se.computeTableChildProps(h,"tfoot"),{class:"s-table-tfoot-td","col-index":d.colIndex,"col-offset":d.colOffset,"row-index":n}),[w(_e,{open:!!(Ge.isBoolean(null==h?void 0:h.tooltip)?null==h?void 0:h.tooltip:!0===d.tooltip)&&void 0,tooltip:(Ge.isBoolean(null==h?void 0:h.tooltip)?null==h?void 0:h.tooltip:!0===d.tooltip)||(Ge.isBoolean(null==h?void 0:h.ellipsis)?null==h?void 0:h.ellipsis:!0===d.ellipsis),ellipsis:(Ge.isBoolean(null==h?void 0:h.tooltip)?null==h?void 0:h.tooltip:!0===d.tooltip)||(Ge.isBoolean(null==h?void 0:h.ellipsis)?null==h?void 0:h.ellipsis:!0===d.ellipsis)},Rt(x)?x:{default:()=>[x]})])}}))])}))])})()]),(()=>{if(!le.paginate.visible)return;const t={position:"relative",zIndex:1e3,...e.paginateStyle},l=oe.sticky.value.bottomFooter,n=le.paginate.fixed??l;return(!0===n||Ge.isFiniteNumber(n))&&Object.assign(t,{position:"sticky",bottom:/^\+?\d+\.?\d*$/.test(`${n}`)?`${n}px`:0,left:0}),w(St,k(le.paginate,{size:"default"===oe.size.value?"default":"small",onPageSizeChange:de.pageSizeChange,onPageChange:de.pageChange,style:t}),null)})(),(()=>{if(!0===oe.sticky.value.bottomScrollbar)return w(Ct,re.scrollbar.value,null)})(),(()=>{if(te.dragger.visible)return w(At,{top:te.dragger.top,left:te.dragger.left,value:te.dragger.value,allow:te.dragger.allow,rowIndex:te.dragger.rowIndex,colIndex:te.dragger.colIndex,container:te.refTableWrapper.value},null)})(),(()=>{if(te.cursor.visible)return w(It,{top:te.cursor.top,left:te.cursor.left,width:te.cursor.width,height:te.cursor.height},null)})()])};return()=>(t=>{const l={width:["fit-content","max-content"].includes(re.tableBodyWidth.value)&&"visible"===re.tableBodyOverflow.value?"fit-content":"100%",minWidth:["fit-content","max-content"].includes(re.tableBodyWidth.value)&&"visible"===re.tableBodyOverflow.value?"100%":"0"},n={"--table-padding-vertical":ee.value.padding+"px","--table-padding-horizontal":ee.value.padding+"px","--table-padding-vertical-middle":ee.value.paddingSM+"px","--table-padding-horizontal-middle":ee.value.paddingXS+"px","--table-padding-vertical-small":ee.value.paddingXS+"px","--table-padding-horizontal-small":ee.value.paddingXS+"px","--table-primary-color":ee.value.colorPrimary,"--table-background-color":ee.value.colorBgContainer,"--table-border-color":ee.value.colorBorderSecondary,"--table-thead-color":new s(ee.value.colorFillAlter).onBackground(ee.value.colorBgContainer).toHexString()};return w("section",{ref:te.refTableContainer,style:{...l,...n},class:["s-table-container",`s-${oe.size.value}-table-container`]},[w("div",{class:["s-table-spining-container",{spining:Z}]},[(()=>{if(!e.columnPresetSettings)return;const t=ie.getValue(h),l=S(t.filter((e=>f.value.flat().some((t=>(null==t?void 0:t.key)===e&&(t.settings.checkbox||!t.settings.disabled)))))),n=S(t.filter((()=>!0))),o={},r=f.value.length>1,i=!0===e.columnPresetDraggable,a=re.tableBodyOverflow.value??("100%"!==re.tableBodyWidth.value||"auto"!==re.tableBodyHeight.value?"auto":"visible"),s=oe.sticky.value.topHeader,d=re.isFixedTop.value;return"auto"!==a&&"hidden"!==a&&(d||!0===s||Ge.isFiniteNumber(s))&&Object.assign(o,{position:"sticky",top:/^\+?\d+\.?\d*$/.test(`${s}`)?`${s}px`:0}),w(Nt,{allTreeKeys:l.value,"onUpdate:allTreeKeys":e=>l.value=e,checkedKeys:y.value,"onUpdate:checkedKeys":e=>y.value=e,expandedKeys:n.value,"onUpdate:expandedKeys":e=>n.value=e,treeData:g.value,dropHandler:e=>{var t,l;const n=e.appendNodes,o=e.reloadNodes,r=e.removeNodes;if((null==n?void 0:n.length)>0||(null==r?void 0:r.length)>0)return!1;if(1!==(null==o?void 0:o.length)||(null==(t=o[0].oldChildNodes)?void 0:t.length)!==(null==(l=o[0].newChildNodes)?void 0:l.length))return!1;const i=o[0].parentNode,a=null==i?void 0:i.column.rowIndex,s=null==i?void 0:i.column.colIndex,d=o[0].newChildNodes||[],c=ie.recloneColumns(p.value),u=i?ie.findTreeColumns(c,a,s):null,f=u?u.treeChildren:c,b=[...f];for(const[p,h]of d.entries())f[p]=b.find((e=>e.referColumn.rowIndex===h.column.rowIndex&&e.referColumn.colIndex===h.column.colIndex));return ie.updatePropColumns(c),!1},multiline:r,draggable:i,style:o},null)})(),ce(t),(()=>{if(!0===e.loadinger&&!0===Z.value)return w(Tt,{optionser:te},null)})()])])})(t)},slots:{},methods:{}}),Kt=e=>e,Ot=e=>S(e),Ft=e=>S(e),Lt=e=>S(e),Mt=e=>S(e),Wt=T({getPrefixCls:(e,t)=>t||(e?`s-pro-${e}`:"s-pro"),locale:e=>e||""}),Ht=Symbol("RouteContext"),jt=()=>((e=Symbol(),t)=>B(e,t||{}))(Ht,Wt);function Dt(e){return e.map((e=>{var t,l;const n={...e};return n.name&&!0!==(null==(t=n.meta)?void 0:t.hideInMenu)?Ge.isNonEmptyArray(n.children)&&!0!==(null==(l=n.meta)?void 0:l.hideChildInMenu)&&n.children.some((e=>{var t;return e&&e.name&&!0!==(null==(t=e.meta)?void 0:t.hideInMenu)}))?{...n,children:Dt(n.children)}:(Reflect.has(n,"children")&&delete n.children,n):null})).filter((e=>e))}const Vt={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,maxWidth:1999,matchMedia:"(min-width: 1600px) and (max-width: 1999px)"},xxxl:{minWidth:2e3,matchMedia:"(min-width: 2000px)"}};et(".s-pro-global-header {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  color: #000000e0;\n  background: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n  position: relative;\n}\n.s-pro-global-header-layout-mix {\n  background-color: inherit;\n}\n.s-pro-global-header-logo {\n  position: relative;\n  overflow: hidden;\n}\n.s-pro-global-header > * {\n  height: 100%;\n}\n");et(".s-pro-top-nav-header {\n  width: 100%;\n  height: 100%;\n  color: #ffffff;\n  position: relative;\n  box-shadow: 0 1px 2px 0 rgba(0, 21, 41, 0.12);\n  transition: background 0.3s, width 0.2s;\n}\n.s-pro-top-nav-header.light {\n  color: inherit;\n  background-color: #ffffff;\n}\n.s-pro-top-nav-header-main {\n  display: flex;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n.s-pro-top-nav-header-main-left {\n  display: flex;\n}\n.s-pro-top-nav-header-menu {\n  flex: 1 1 auto;\n  min-width: 0;\n  height: 100%;\n}\n.s-pro-top-nav-header-menu .s-pro-menu.s-pro-menu-horizontal {\n  height: 100%;\n  border: none;\n}\n.s-pro-top-nav-header-logo {\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n");et(".s-pro-layout-sider {\n  position: relative;\n  border-right: 0;\n  z-index: 20;\n}\n.s-pro-layout-sider ::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(37, 37, 37, 0.05);\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-layout-sider ::-webkit-scrollbar-thumb {\n  box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.05);\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-layout-sider ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n}\n.s-pro-layout-sider .s-pro-layout-sider-logo {\n  display: flex;\n  align-items: center;\n  transition: padding 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  position: relative;\n  cursor: pointer;\n}\n.s-pro-layout-sider .s-pro-layout-sider-logo h1 {\n  display: inline-block;\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 600;\n  vertical-align: middle;\n  animation: pro-layout-title-hide 0.3s;\n}\n.s-pro-layout-sider .s-pro-layout-sider-menu {\n  min-height: 100%;\n  position: relative;\n  border-right: none;\n  z-index: 10;\n}\n.s-pro-layout-sider .s-pro-layout-sider-children {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.s-pro-layout-sider.s-pro-layout-sider.s-pro-layout-sider-fixed {\n  height: 100vh;\n  overflow: auto;\n  overflow-x: hidden;\n  box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  top: 0;\n}\n@keyframes pro-layout-title-hide {\n  0% {\n    display: none;\n    opacity: 0;\n  }\n  80% {\n    display: none;\n    opacity: 0;\n  }\n  100% {\n    display: unset;\n    opacity: 1;\n  }\n}\n.s-pro-sider-light {\n  background-color: #ffffff;\n  box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n}\n.s-pro-sider-light ::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(0, 21, 41, 0.05);\n  background: rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-sider-light ::-webkit-scrollbar-thumb {\n  box-shadow: inset 0 0 5px rgba(0, 21, 41, 0.05);\n  background: rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-sider-light ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n}\n.s-pro-menu-light.s-pro-menu-inline {\n  background-color: #ffffff;\n}\n.s-pro-menu-light.s-pro-menu-inline .s-pro-menu-sub.s-pro-menu-inline {\n  background-color: transparent;\n}\n");const $t={theme:l().def("light"),layout:l().def("side"),headerTheme:l().def("light"),headerHeight:l().def(48),contentWidth:l().def("Fluid"),primaryColor:l().def("#f5222d"),fixedHeader:l().def(!0),fixSiderbar:l().def(!0),splitMenus:l().def(!1),iconfontUrl:l().def(""),iconPrefix:l().def("icon-"),iconStyle:l().def(void 0),iconClass:l().def(void 0)},Bt={...$t,mode:t().def("inline"),theme:t().def("light"),locale:a().def((e=>e||"")),layout:t().def("side"),menuData:r().def([]),multiple:e().def(!1),prefixCls:t().def("s-pro"),collapsed:e().def(!1),inlineIndent:n().def(16),menuItemRender:l().def((()=>{})),subMenuItemRender:l().def((()=>{})),selectedKeys:l().def(void 0),openKeys:l().def(void 0)},Yt={...$t,...Bt,siderWidth:n().def(192),headerHeight:n().def(48),collapsedWidth:n().def(48),menuHeaderRender:l().def((()=>{})),menuFooterRender:l().def((()=>{})),menuContentRender:l().def((()=>{})),menuExtraRender:l().def((()=>{})),headerRender:l().def((()=>{})),breakpoint:l().def(void 0),splitMenus:e().def(!1),isMobile:e().def(!1),fixed:e().def(!1),onMenuClick:a().def(void 0),onCollapse:a().def(void 0),onOpenKeys:a().def(void 0),onSelect:a().def(void 0)},Ut={...$t,prefixCls:t().def("s-pro"),splitMenus:e().def(!1),collapsed:e().def(!1),isMobile:e().def(!1),menuData:r().def((()=>[])),headerTheme:t().def("light"),rightContentRender:l().def((()=>{})),subMenuItemRender:l().def((()=>{})),menuHeaderRender:l().def((()=>{})),menuItemRender:l().def((()=>{})),onCollapse:a().def(void 0),onOpenKeys:a().def(void 0),onSelect:a().def(void 0)},Gt={...$t,...Ut,hasSiderMenu:e().def(!1),headerRender:l().def((()=>{})),collapsedWidth:n().def(48),siderWidth:n().def(192)},qt={...$t,...Bt,...Yt,...Ut,...Gt,hasSider:e().def(void 0),contentStyle:l().def(null),headerRender:l().def((()=>{})),locale:a().def((e=>e||"")),theme:t().def("light")};et(".s-pro-lazy-menu-icon {\n  display: block;\n  width: 14px;\n  height: 14px;\n  font-size: 14px;\n  line-height: 14px;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n");const Xt=e=>{const t=e.icon,l=e.prefixCls||"s-pro",n=e.iconPrefix||"icon-",o=e.iconfontUrl||"";return Ge.isNonEmptyString(t)&&Ge.isNonEmptyString(o)&&t.startsWith(n)?w(Xe,{class:e.class||{},style:e.style||{},iconfontUrl:o,iconPrefix:n,type:t},null):Ge.isNonEmptyString(t)&&/^https?:\/\/[\s\S]+/i.test(t)?w("span",{role:"img",class:"anticon"},[w("img",{src:t,alt:"icon",class:`${l}-lazy-menu-icon`},null)]):Ge.isNonEmptyString(t)&&qe(t)?w(Xe,k(e,{type:t}),null):F(t)?t:null};function _t(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!F(e)}const Qt=x({name:"BaseMenu",inheritAttrs:!1,props:{...$t,...Bt},emits:{click:e=>!0,"update:openKeys":e=>!0,"update:selectedKeys":e=>!0},setup(e,{emit:t,attrs:l}){const n=jt().value.getPrefixCls,o=e=>{if(Ge.isArray(e))return e.map((e=>r(e))).filter((e=>e))},r=t=>{const l={...t.meta},n=(t=>{const l={...t.meta},n={title:null,icon:null},o={to:{name:t.name,...t.meta}},r={},i=/^https?:\/\/.+/i;if(l.icon){const t=e.iconClass,o=e.iconStyle,r=e.iconPrefix,i=e.iconfontUrl;n.icon=w(Xt,{icon:l.icon,class:t,style:o,iconPrefix:r,iconfontUrl:i},null)}if(l.target&&Object.assign(r,{href:t.path,target:l.target}),i.test(t.path)&&Object.assign(r,{href:t.path,target:"_blank"}),"_blank"!==l.target&&"_self"!==l.target&&"_none"!==l.target){const t=e.locale,r=e.prefixCls,i=Y(l.target??"RouterLink"),a=Ge.isFunction(t)?t(l.title):l.title,s=n.icon?{marginInlineStart:"10px"}:{};n.title=w(i,k(o,{class:`${r}-menu-item`}),{default:()=>[n.icon,w("span",{style:s},[a])]})}if("_blank"===l.target||"_self"===l.target){const t=e.locale,o=e.prefixCls,i=Ge.isFunction(t)?t(l.title):l.title,a=n.icon?{marginInlineStart:"10px"}:{};n.title=w("a",k(r,{class:`${o}-menu-item`}),[n.icon,w("span",{style:a},[i])])}if("_none"!==l.target&&i.test(t.path)){const t=e.locale,o=e.prefixCls,i=Ge.isFunction(t)?t(l.title):l.title,a=n.icon?{marginInlineStart:"10px"}:{};n.title=w("a",k(r,{class:`${o}-menu-item`}),[n.icon,w("span",{style:a},[i])])}if("_none"===l.target){const t=e.locale,o=e.prefixCls,r=Ge.isFunction(t)?t(l.title):l.title,i=n.icon?{marginInlineStart:"10px"}:{};n.title=w("span",{class:`${o}-menu-item`},[n.icon,w("span",{style:i},[r])])}return n})(t),r={title:l.title,icon:null},i=n.icon,a=n.title,s=e.locale,d=e.iconClass,c=e.iconStyle,u=e.prefixCls,p=e.iconPrefix,f=e.iconfontUrl,b=e.menuItemRender,h=e.subMenuItemRender;if(Ge.isNonEmptyArray(t.children)&&!l.hideInMenu&&!l.hideChildrenInMenu){let e;if(Ge.isFunction(h))return h({item:t,children:o(t.children)});Ge.isFunction(s)&&(r.title=s(l.title)),l.icon||(r.title=w("span",{class:`${u}-menu-item`},[r.title])),l.icon&&(r.title=w("span",{class:`${u}-menu-item`},[w("span",{class:`${u}-menu-item-title`},[r.title])]));const n=w(Xt,{icon:l.icon,iconPrefix:p,iconfontUrl:f,class:d,style:c},null),i=r.title;return w(ve.SubMenu,{key:t.path,icon:n,title:i,popupClassName:`${u}-menu-popup`},_t(e=o(t.children))?e:{default:()=>[e]})}return Ge.isFunction(b)?b({item:t,title:a,icon:i}):w(ve.Item,{disabled:l.disabled,danger:l.danger,key:t.path},_t(a)?a:{default:()=>[a]})},i=e=>{/^https?:\/\/[^\s\S]+/i.test(e.key)||t("update:selectedKeys",e.selectedKeys)},a=e=>{t("update:openKeys",e)},s=e=>{t("click",e)};return()=>{let t;return w(ve,{key:"Menu",mode:e.mode,class:l.class,style:l.style,theme:e.theme,prefixCls:n("menu"),inlineIndent:e.inlineIndent||16,selectedKeys:e.selectedKeys||[],openKeys:e.openKeys||[],onOpenChange:a,onSelect:i,onClick:s},_t(t=o(e.menuData))?t:{default:()=>[t]})}}}),Jt=x({name:"SiderMenu",inheritAttrs:!1,props:{...$t,...Bt,...Yt},emits:{menuClick:(...e)=>!0,collapse:e=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=jt(),n=l.value.getPrefixCls,o=l.value.getPrefixCls("layout-sider"),r=e=>{f.value?t("select",[l.value.selectedKeys[0],...e]):t("select",e)},i=e=>{t("openKeys",e)},a=l=>{e.isMobile||t("collapse",l)},s=(...e)=>{t("menuClick",...e)},d=j((()=>e.collapsed?e.collapsedWidth:e.siderWidth)),c=j((()=>"mix"===e.layout&&"realDark"!==e.theme?"light":"realDark"!==e.theme?e.theme:"dark")),u=j((()=>e.locale||l.value.locale)),p=j((()=>f.value?l.value.flatMenuData:l.value.menuData)),f=j((()=>"mix"===e.layout&&e.splitMenus)),b=j((()=>{if("mix"===e.layout&&!e.isMobile)return`${e.headerHeight}px`})),h=j((()=>({[o]:!0,[`${o}-fixed`]:e.fixSiderbar,[`${o}-${c.value}`]:!0,[`${o}-layout-${e.layout}`]:e.layout&&!e.isMobile}))),g=()=>{const t=w(Qt,k({mode:"inline",style:"width: 100%; background-color: transparent; border: none;",class:`${o}-menu`,prefixCls:n("menu"),theme:c.value,locale:u.value,menuData:p.value,selectedKeys:e.selectedKeys,menuItemRender:e.menuItemRender,subMenuItemRender:e.subMenuItemRender,iconfontUrl:e.iconfontUrl,iconPrefix:e.iconPrefix,collapsed:e.collapsed,openKeys:e.openKeys,onClick:s},{"onUpdate:selectedKeys":r,"onUpdate:openKeys":i}),null);return Ge.isFunction(e.menuContentRender)?w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[e.menuContentRender({...e},t)||t]):w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[t])},y=()=>{if((e.isMobile||"mix"!==e.layout)&&Ge.isFunction(e.menuHeaderRender)){const t=e.menuHeaderRender({...e});if(t)return w("div",{class:`${o}-logo`},[t])}},m=()=>{if(Ge.isFunction(e.menuExtraRender)){const t=e.menuExtraRender({...e});if(t)return w("div",{class:`${o}-extra`},[t])}},v=()=>{if(Ge.isFunction(e.menuFooterRender))return w("div",{class:`${o}-footer`},[e.menuFooterRender({...e})])},x=()=>{if(e.fixSiderbar&&Ge.isNonEmptyArray(p.value))return w("div",{style:{flex:`0 0 ${d.value}px`,width:`${d.value}px`,maxWidth:`${d.value}px`,minWidth:`${d.value}px`,transition:"background-color 0.3s, min-width 0.3s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)",overflow:"hidden"}},null)},S=()=>{if(Ge.isNonEmptyArray(p.value))return w(ye.Sider,{style:{overflow:"hidden",backgroundColor:"light"!==c.value?"#001529 !important":"#ffffff !important",paddingTop:b.value},trigger:null,collapsible:!0,width:d.value,theme:c.value,class:h.value,prefixCls:n("layout-sider"),collapsed:e.collapsed,breakpoint:e.breakpoint,collapsedWidth:e.collapsedWidth,onCollapse:a},{default:()=>[y(),m(),g(),v()]})};return()=>w(W,null,[x(),S()])}}),Zt=x({name:"SiderMenuWrapper",inheritAttrs:!1,props:{...$t,...Bt,...Yt},emits:{menuClick:(...e)=>!0,collapse:e=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=jt().value.getPrefixCls,n=e=>{t("select",e)},o=e=>{t("openKeys",e)},r=(...e)=>{t("menuClick",...e)},i=l=>{e.isMobile||t("collapse",l)};return()=>e.isMobile?w(me,{mask:!0,closable:!1,maskClosable:!0,placement:"left",open:!e.collapsed,width:e.siderWidth,style:{padding:0,height:"100vh"},onClose:()=>t("collapse",!0),rootClassName:l("sider-menu-drawer"),bodyStyle:{display:"flex",height:"100vh",padding:"0px 0px",flexDirection:"row"}},{default:()=>[w(Jt,k({mode:e.mode,theme:e.theme,fixed:e.fixed,locale:e.locale,layout:e.layout,isMobile:e.isMobile,menuData:e.menuData,multiple:e.multiple,siderWidth:e.siderWidth,breakpoint:e.breakpoint,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,fixedHeader:e.fixedHeader,fixSiderbar:e.fixSiderbar,headerTheme:e.headerTheme,headerHeight:e.headerHeight,contentWidth:e.contentWidth,primaryColor:e.primaryColor,inlineIndent:e.inlineIndent,selectedKeys:e.selectedKeys,headerRender:e.headerRender,collapsedWidth:e.collapsedWidth,menuItemRender:e.menuItemRender,menuExtraRender:e.menuExtraRender,menuHeaderRender:e.menuHeaderRender,menuFooterRender:e.menuFooterRender,menuContentRender:e.menuContentRender,subMenuItemRender:e.subMenuItemRender,collapsed:!e.isMobile&&e.collapsed,openKeys:e.openKeys,onMenuClick:r,onCollapse:i,splitMenus:!1},{"onUpdate:selectedKeys":n,"onUpdate:openKeys":o}),null)]}):w(Jt,k({mode:e.mode,theme:e.theme,fixed:e.fixed,locale:e.locale,layout:e.layout,isMobile:e.isMobile,menuData:e.menuData,multiple:e.multiple,splitMenus:e.splitMenus,siderWidth:e.siderWidth,breakpoint:e.breakpoint,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,fixedHeader:e.fixedHeader,fixSiderbar:e.fixSiderbar,headerTheme:e.headerTheme,headerHeight:e.headerHeight,contentWidth:e.contentWidth,primaryColor:e.primaryColor,inlineIndent:e.inlineIndent,selectedKeys:e.selectedKeys,headerRender:e.headerRender,collapsedWidth:e.collapsedWidth,menuItemRender:e.menuItemRender,menuExtraRender:e.menuExtraRender,menuHeaderRender:e.menuHeaderRender,menuFooterRender:e.menuFooterRender,menuContentRender:e.menuContentRender,subMenuItemRender:e.subMenuItemRender,collapsed:!e.isMobile&&e.collapsed,openKeys:e.openKeys,onMenuClick:r,onCollapse:i},{"onUpdate:selectedKeys":n,"onUpdate:openKeys":o}),null)}}),el=x({name:"TopNavHeaderRightContent",inheritAttrs:!1,props:{...$t,...Bt,...Yt,...Ut},setup(e){const t=jt().value.getPrefixCls,l=()=>{if(Ge.isFunction(e.rightContentRender))return e.rightContentRender({...e})};return()=>w("div",{class:t("top-nav-header-right-content"),style:{flex:"0 0 auto",height:"100%"}},[l()])}}),tl=x({name:"TopNavHeader",inheritAttrs:!1,props:{...$t,...Bt,...Yt,...Ut},emits:{openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=jt(),n=l.value.getPrefixCls,o=n("top-nav-header"),r=j((()=>({[o]:!0,light:"light"===e.theme}))),i=j((()=>({[`${o}-main`]:!0,wide:"Fixed"===e.contentWidth}))),a=()=>{if(Ge.isFunction(e.menuHeaderRender)){const t=e.menuHeaderRender({...e});if(t)return w("div",{class:`${o}-main-left`},[w("div",{class:`${o}-logo`},[t])])}},s=()=>{const o=j((()=>"realDark"!==e.theme?e.theme:"dark")),r=j((()=>e.locale||l.value.locale));return w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[w(Qt,k({mode:e.mode,theme:o.value,locale:r.value,style:{"line-height":`${e.headerHeight}px`,"background-color":"transparent",border:"none"},class:{"s-pro-top-nav-menu":"horizontal"===e.mode},prefixCls:n("top-nav-header-menu"),menuData:e.menuData,collapsed:e.collapsed,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,menuItemRender:e.menuItemRender,subMenuItemRender:e.subMenuItemRender,selectedKeys:e.selectedKeys,openKeys:e.openKeys},{"onUpdate:selectedKeys":e=>{t("select",e)},"onUpdate:openKeys":e=>{t("openKeys",e)}}),null)])},d=()=>{if(e.rightContentRender)return w(el,e,null)};return()=>w("div",{class:r.value},[w("div",{class:i.value},[a(),s(),d()])])}}),ll=x({name:"GlobalHeader",inheritAttrs:!1,props:{...$t,...Bt,...Ut},setup(e,t){const l=(0,jt().value.getPrefixCls)("global-header"),n=j((()=>{if(!Ge.isArray(e.menuData))return[];return Dt(e.menuData.map((e=>({...e,children:void 0}))))})),o=j((()=>"realDark"!==e.theme?e.theme:"dark")),r=j((()=>({[l]:!0,[`${l}-layout-${e.layout}`]:e.layout&&"dark"===e.headerTheme}))),i=()=>{if(Ge.isFunction(e.rightContentRender))return e.rightContentRender({...e})};return()=>{return!e.isMobile&&e.splitMenus&&"mix"===e.layout?w(tl,k(e,{mode:"horizontal",theme:o.value,menuData:n.value}),null):w("div",{class:r.value},[w("div",{style:"flex: 1 1 auto"},[null==(a=null==t?void 0:(l=t.slots).default)?void 0:a.call(l)]),i()]);var l,a}}});et(".s-pro-basicLayout {\n  display: flex;\n  width: 100%;\n  min-height: 100%;\n  flex-direction: row;\n}\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider {\n  display: flex;\n  width: 0;\n  flex: 1 1 auto;\n  flex-direction: row;\n}\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider > .s-pro-layout,\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider > .s-pro-layout-content {\n  width: auto;\n}\n.s-pro-basicLayout .s-pro-basicLayout-content {\n  position: relative;\n  padding: 0;\n  margin: 0;\n}\n.s-pro-basicLayout .s-pro-layout-header.s-pro-layout-fixed-header {\n  position: fixed;\n  z-index: 19;\n  right: 0;\n  top: 0;\n  transition: all 0.2s, background 0s;\n}\n");const nl=(e,t,l="default")=>void 0===t[l]?e[l]:t[l];const ol=x({name:"ProLayoutHeader",inheritAttrs:!1,props:{...$t,...Bt,...Ut,...Gt},setup(e,{emit:t}){const l=jt(),n=j((()=>l.value.getPrefixCls("layout-header"))),o=j((()=>r.value&&e.hasSiderMenu&&!e.isMobile&&"top"!==e.layout)),r=j((()=>e.fixedHeader||l.value.fixedHeader||"mix"===e.layout)),i=j((()=>({[`${n.value.slice(0,-7)}-fixed-header`]:r.value,[`${n.value}-top-menu`]:"top"===e.layout}))),a=j((()=>Ge.isArray(l.value.menuData)?Dt(l.value.menuData):[])),s=j((()=>"realDark"!==e.theme?e.theme:"dark")),d=j((()=>"mix"!==e.layout&&o.value?`calc(100% - ${e.collapsed?e.collapsedWidth:e.siderWidth}px)`:"100%")),c=()=>{if(r.value)return w(ye.Header,{style:{height:`${e.headerHeight}px`,lineHeight:`${e.headerHeight}px`,background:"transparent"}},null)},u=()=>{let t;return w(ye.Header,{prefixCls:n.value,class:i.value,style:{width:d.value,height:`${e.headerHeight}px`,margin:0,padding:0,lineHeight:`${e.headerHeight}px`,backgroundColor:"#001529 !important",zIndex:"mix"===e.layout?100:19,right:r.value?0:void 0}},"function"==typeof(l=t=(()=>{let t=null;return e.isMobile||"top"!==e.layout||(t=w(tl,k(e,{mode:"horizontal",theme:s.value,menuData:a.value}),null)),Ge.isFunction(e.headerRender)?e.headerRender({...e},t):t})())||"[object Object]"===Object.prototype.toString.call(l)&&!F(l)?t:{default:()=>[t]});var l};return()=>w(W,null,[c(),u()])}}),rl=x({name:"ProBasicLayout",inheritAttrs:!1,props:{...$t,...Bt,...Yt,...Ut,...Gt,...qt},emits:{"update:selectedKeys":e=>!0,"update:openKeys":e=>!0,menuClick:(...e)=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{attrs:t,slots:l,emit:n}){const o=(()=>{const e=S("md");return Object.keys(Vt).forEach((t=>{const l=Vt[t].matchMedia,n=window.matchMedia(l);n.onchange=l=>{l.matches&&(e.value=t)},n.matches&&(e.value=t)})),e})(),r=j((()=>"mix"===e.layout||"side"===e.layout)),i=j((()=>"sm"===o.value||"xs"===o.value)),a=j((()=>e.collapsed?e.collapsedWidth:e.siderWidth)),s=j((()=>!0===r.value&&!0===d.value)),d=j((()=>"mix"===e.layout&&!0===e.splitMenus)),c=j((()=>`${e.prefixCls}-basicLayout`)),u=j((()=>`${e.prefixCls}-layout`)),p=j((()=>s.value&&Ge.isArray(e.selectedKeys)?function(e,t){if(void 0!==t){const l=e.find((e=>e.path===t));return(null==l?void 0:l.children)||[]}return[]}(e.menuData,e.selectedKeys[0]):[])),f=j((()=>({...Wt,locale:e.locale,menuData:e.menuData,openKeys:e.openKeys||[],selectedKeys:e.selectedKeys||[],contentWidth:e.contentWidth,headerHeight:e.headerHeight,fixSiderbar:e.fixSiderbar,fixedHeader:e.fixedHeader,hasSide:r.value,isMobile:i.value,siderWidth:a.value,flatMenuData:p.value,flatMenu:s.value,hasHeader:!0})));$(Ht,f);const b=(...e)=>{n("menuClick",...e)},h=e=>{n("update:openKeys",e),n("openKeys",e)},g=e=>{n("update:selectedKeys",e),n("select",e)};return()=>{const n=nl(l,e,"rightContentRender"),r=nl(l,e,"subMenuItemRender"),a=nl(l,e,"menuContentRender"),s=nl(l,e,"menuHeaderRender"),d=nl(l,e,"menuFooterRender"),p=nl(l,e,"menuExtraRender"),y=nl(l,e,"menuItemRender"),m=nl(l,e,"headerRender"),v=j((()=>({[`${e.prefixCls}-screen-${o.value}`]:o.value,[`${c.value}-top-menu`]:"top"===e.layout,[`${c.value}-fix-siderbar`]:e.fixSiderbar,[`${c.value}-${e.layout}`]:e.layout,[`${c.value}`]:!0}))),x=j((()=>({[`${c.value}-content`]:!0,[`${c.value}-has-header`]:!0}))),k=()=>{const t={...e,isMobile:i.value,hasSiderMenu:"top"!==e.layout,rightContentRender:n,subMenuItemRender:r,menuContentRender:a,menuHeaderRender:s,menuExtraRender:p,menuItemRender:y,headerRender:m,onOpenKeys:h,onSelect:g};return w(ol,t,null)},S=()=>{if("top"!==e.layout||i.value){const t={...e,isMobile:i.value,menuContentRender:a,subMenuItemRender:r,menuHeaderRender:s,menuFooterRender:d,menuExtraRender:p,menuItemRender:y,onMenuClick:b,onOpenKeys:h,onSelect:g};return w(Zt,t,null)}};return w("div",{class:v.value},[w(ye,{prefixCls:u.value,style:{minHeight:"100%",...t.style||{}}},{default:()=>[S(),w("div",{style:"display: flex; flex: 1 1 auto; flex-direction: column; min-width: 0; position: relative;"},[k(),w(ye.Content,{style:e.contentStyle,class:x.value,prefixCls:f.value.getPrefixCls("layout-content"),hasSider:e.hasSider},{default:()=>{var e;return[null==(e=l.default)?void 0:e.call(l)]}})])]})])}}});var il={install(e){e.component("SEditCellInput",tt),e.component("SEditCellSelect",lt),e.component("SEditCellTextarea",nt),e.component("SEditCellSelectIcon",ot),e.component("SEditCellTreeSelect",rt),e.component("SEditCellDatePicker",it),e.component("SIconSelect",Ze),e.component("SEllipsis",_e),e.component("STable",Et),e.component("STree",gt),e.component("SForm",bt),e.component("SIcon",Xe)}};export{ll as G,rl as P,vt as a,xt as b,Dt as c,Lt as d,Mt as e,Ot as f,Ft as g,Kt as h,ct as i,ut as j,pt as k,mt as l,ft as m,il as n,yt as t};
